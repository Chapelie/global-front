import{d as L,b as k,a as i,c as d,e,n as C,f as t,g as z,w as E,h as g,i as v,v as f,t as m,j as T,k as j,o as u}from"./main-C7B5hG3I.js";const A={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},B={class:"sm:mx-auto sm:w-full sm:max-w-md"},M={class:"flex justify-center"},N=["src","alt"],S={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},D={class:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10"},R={class:"mt-1"},q={class:"mt-1"},U={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},G={class:"text-sm text-red-600"},H={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},I={class:"text-sm text-green-600"},F=["disabled"],J={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},P=L({__name:"LoginView",setup(K){const w=j(),{logo:h,getLogoAlt:b,getLogoClass:y}=z(),{signIn:_,isLoading:c,isAuthenticated:x}=k(),n=i(""),l=i(""),r=i(""),a=i(""),V=async()=>{if(!n.value||!l.value){r.value="Veuillez remplir tous les champs";return}r.value="",a.value="";try{console.log("ðŸ” [LoginView] Tentative de connexion"),console.log("ðŸ“± [LoginView] TÃ©lÃ©phone:",n.value);const s=await _({phone:n.value,password:l.value});if(!s.success)throw new Error(s.error||"Erreur lors de la connexion");console.log("âœ… [LoginView] Connexion rÃ©ussie:",s),console.log("ðŸ”„ [LoginView] Ã‰tat authentification:",x.value),a.value="Connexion rÃ©ussie ! Redirection...",setTimeout(()=>{console.log("ðŸ”„ [LoginView] Ã‰tat authentification final:",x.value),console.log("ðŸ”€ [LoginView] Redirection vers /"),w.push("/")},1e3)}catch(s){console.error("âŒ [LoginView] Erreur de connexion:",s),r.value=s.message||"Erreur lors de la connexion"}};return(s,o)=>(u(),d("div",A,[e("div",B,[e("div",M,[e("img",{src:t(h),alt:t(b)(),class:C(t(y)("medium"))},null,10,N)]),o[2]||(o[2]=e("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"}," Global Star Distribution ",-1)),o[3]||(o[3]=e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Connectez-vous Ã  votre compte ",-1))]),e("div",S,[e("div",D,[e("form",{onSubmit:E(V,["prevent"]),class:"space-y-6"},[e("div",null,[o[4]||(o[4]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700"}," Numero de telephone ",-1)),e("div",R,[v(e("input",{id:"phone","onUpdate:modelValue":o[0]||(o[0]=p=>n.value=p),name:"Telephone",type:"phone",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre adresse Telephone"},null,512),[[f,n.value]])])]),e("div",null,[o[5]||(o[5]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Mot de passe ",-1)),e("div",q,[v(e("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=p=>l.value=p),name:"password",type:"password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe"},null,512),[[f,l.value]])])]),r.value?(u(),d("div",U,[e("p",G,m(r.value),1)])):g("",!0),a.value?(u(),d("div",H,[e("p",I,m(a.value),1)])):g("",!0),e("div",null,[e("button",{type:"submit",disabled:t(c),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t(c)?(u(),d("span",J,[...o[6]||(o[6]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):g("",!0),T(" "+m(t(c)?"Connexion...":"Se connecter"),1)],8,F)])],32),o[7]||(o[7]=e("div",{class:"mt-6 space-y-3"},null,-1))])])]))}});export{P as default};
