import{d as ce,x as H,r as g,y as me,p,c,a as e,j as d,b as u,B as $,h as v,f as w,t as n,C as N,D as j,E as ve,g as m,v as b,q as C,F as f,z as y,w as ge,G as O,H as G,n as R,o as r,A as pe}from"./index-D0gnmK0b.js";import{r as be,a as fe}from"./PlusIcon-Dl4LIrTD.js";import{r as k}from"./ClockIcon-C1iuYBt7.js";import{r as q}from"./CheckCircleIcon-DIOsNbTF.js";import{r as ye}from"./CalendarIcon-DLnXeCIc.js";import{r as xe}from"./TrashIcon-CaummfL_.js";const _e={class:"commandes-container"},he={class:"commandes-header"},we={class:"header-content"},Ce={class:"header-main"},ke={class:"flex items-center"},Se={class:"h-12 w-12 rounded-2xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center mr-4 shadow-lg"},Ve={class:"flex items-center space-x-4"},$e={class:"main-content"},qe={class:"stats-grid"},De={class:"stat-card"},Ee={class:"stat-content"},Le={class:"stat-icon-wrapper stat-blue"},Ue={class:"stat-details"},Me={class:"stat-value"},Ne={class:"stat-card"},Pe={class:"stat-content"},Te={class:"stat-icon-wrapper stat-yellow"},Ie={class:"stat-details"},je={class:"stat-value"},Ae={key:0,class:"stat-badge"},Be={class:"stat-card"},Fe={class:"stat-content"},He={class:"stat-icon-wrapper stat-orange"},Oe={class:"stat-details"},Ge={class:"stat-value"},Re={class:"stat-card"},ze={class:"stat-content"},Qe={class:"stat-icon-wrapper stat-green"},Je={class:"stat-details"},Ke={class:"stat-value"},We={class:"secondary-stats-grid"},Xe={class:"secondary-stat-card"},Ye={class:"secondary-stat-content"},Ze={class:"secondary-stat-icon stat-red"},et={class:"secondary-stat-value"},tt={class:"secondary-stat-card"},st={class:"secondary-stat-content"},ot={class:"secondary-stat-icon stat-orange"},lt={class:"secondary-stat-value"},nt={class:"secondary-stat-card"},at={class:"secondary-stat-content"},it={class:"secondary-stat-icon stat-green"},rt={class:"secondary-stat-value"},dt={class:"filters-card"},ut={class:"filters-header"},ct={class:"flex items-center"},mt={class:"h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center mr-3 shadow-lg"},vt={class:"filters-content"},gt={class:"filters-row"},pt={class:"filter-item"},bt={class:"filter-item"},ft=["value"],yt={class:"filter-item"},xt=["value"],_t={class:"commandes-list"},ht={class:"commande-content"},wt={class:"commande-main"},Ct={class:"commande-header"},kt={class:"commande-info"},St={class:"flex items-center space-x-3 mb-2"},Vt={class:"commande-icon"},$t={class:"commande-title"},qt={class:"commande-client"},Dt={class:"commande-badges"},Et={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Lt={class:"text-sm text-gray-900"},Ut={class:"text-sm text-gray-900"},Mt={class:"text-sm text-gray-900"},Nt={class:"text-sm text-gray-900"},Pt={class:"mb-4"},Tt={class:"text-sm text-gray-900"},It={class:"mb-4"},jt={class:"space-y-2"},At={class:"flex justify-between items-center mb-2"},Bt={class:"text-sm font-medium text-gray-900"},Ft={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Ht={class:"grid grid-cols-3 gap-2 text-xs"},Ot={class:"font-medium text-gray-900 ml-1"},Gt={class:"font-medium text-gray-900 ml-1"},Rt={class:"font-medium text-gray-900 ml-1"},zt={class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},Qt={class:"flex items-center justify-between mb-2"},Jt={class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Kt={class:"grid grid-cols-2 gap-4 text-xs"},Wt={class:"font-medium text-blue-900 ml-1"},Xt={class:"commande-actions"},Yt={class:"actions-grid"},Zt=["onClick"],es=["onClick"],ts=["onClick"],ss=["onClick"],os=["onClick"],ls={key:0,class:"modal-overlay"},ns={class:"modal-container"},as={class:"modal-header"},is={class:"modal-header-content"},rs={class:"flex items-center space-x-3"},ds={class:"modal-icon"},us={class:"modal-title"},cs={class:"p-6"},ms={class:"bg-gray-50 rounded-xl p-4"},vs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gs=["value"],ps={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},bs={class:"bg-gray-50 rounded-xl p-4"},fs={class:"space-y-4"},ys=["value"],xs={class:"bg-gray-50 rounded-xl p-4"},_s={class:"space-y-4"},hs={class:"bg-gray-50 rounded-xl p-4"},ws={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Cs={class:"bg-gray-50 rounded-xl p-4"},ks={class:"space-y-4"},Ss=["onUpdate:modelValue"],Vs=["value"],$s=["onUpdate:modelValue"],qs=["onUpdate:modelValue"],Ds={class:"flex items-center"},Es=["onClick"],Ls={class:"modal-footer"},Us={class:"modal-footer-content"},Ms={type:"submit",form:"commande-form",class:"btn-submit"},Ns=ce({__name:"CommandesView",setup(Ps){const{getCommandes:z,addCommande:Q,updateCommande:D,deleteCommande:J}=H(),x=g([]),S=g(!1),_=g(null),E=g(""),L=g(""),P=g("");me(async()=>{await h(),await W()});const h=async()=>{try{console.log("🔍 [CommandesView] Chargement des commandes"),x.value=await z(),console.log("✅ [CommandesView] Commandes chargées:",x.value.length)}catch(o){console.error("❌ [CommandesView] Erreur lors du chargement des commandes:",o),alert("Erreur lors du chargement des commandes")}},a=g({client:"",telephone:"",email:"",adresse:"",produits:[{nom:"",quantite:0,unite:"pièces"}],statut:"en_attente",numeroCommande:"",date:new Date().toISOString().split("T")[0],dateLivraisonSouhaitee:"",priorite:"normale"}),U=[{value:"en_attente",label:"En attente",color:"bg-yellow-100 text-yellow-800",icon:k},{value:"confirmee",label:"Confirmée",color:"bg-blue-100 text-blue-800",icon:q},{value:"en_preparation",label:"En préparation",color:"bg-orange-100 text-orange-800",icon:$},{value:"livree",label:"Livrée",color:"bg-green-100 text-green-800",icon:j},{value:"annulee",label:"Annulée",color:"bg-red-100 text-red-800",icon:N}],K=[{value:"non_livre",label:"Non livré",color:"bg-red-100 text-red-800",icon:N},{value:"partiellement_livre",label:"Partiellement livré",color:"bg-orange-100 text-orange-800",icon:k},{value:"livre",label:"Livré",color:"bg-green-100 text-green-800",icon:q}],V=g([]),W=async()=>{try{const{getArticles:o}=H(),t=await o();V.value=t.map(s=>({nom:s.nom,stock:s.stock,unite:s.unite,prix:s.prix}))}catch(o){console.error("Erreur lors du chargement du stock:",o),V.value=[]}},T=[{value:"basse",label:"Basse",color:"bg-gray-100 text-gray-800"},{value:"normale",label:"Normale",color:"bg-blue-100 text-blue-800"},{value:"haute",label:"Haute",color:"bg-orange-100 text-orange-800"},{value:"urgente",label:"Urgente",color:"bg-red-100 text-red-800"}],A=o=>{o?(_.value=o,a.value={...o,dateLivraisonSouhaitee:o.dateLivraisonSouhaitee||""}):(_.value=null,a.value={client:"",telephone:"",email:"",adresse:"",produits:[{nom:"",quantite:0,unite:"pièces"}],statut:"en_attente",numeroCommande:`CMD-${Date.now()}`,date:new Date().toISOString().split("T")[0],dateLivraisonSouhaitee:"",priorite:"normale"}),S.value=!0},X=async()=>{try{console.log("🔍 [CommandesView] Sauvegarde de la commande");const o=a.value.produits.filter(s=>s.nom.trim()&&s.quantite>0&&s.unite.trim()),t={...a.value,produits:o,numeroCommande:a.value.numeroCommande||`CMD-${Date.now()}`,date:a.value.date||new Date().toISOString().split("T")[0]};_.value?(await D(_.value.id,t),console.log("✅ [CommandesView] Commande mise à jour")):(await Q(t),console.log("✅ [CommandesView] Commande créée")),await h(),S.value=!1,_.value=null,alert("Commande enregistrée avec succès!")}catch(o){console.error("❌ [CommandesView] Erreur lors de la sauvegarde:",o),alert("Erreur lors de la sauvegarde de la commande")}},Y=async o=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette commande ?"))try{console.log("🔍 [CommandesView] Suppression de la commande:",o),await J(o),await h(),console.log("✅ [CommandesView] Commande supprimée")}catch(t){console.error("❌ [CommandesView] Erreur lors de la suppression:",t),alert("Erreur lors de la suppression de la commande")}},Z=async o=>{const t=V.value,s=[];if(o.produits.forEach(l=>{const i=t.find(I=>I.nom===l.nom);i?i.stock<l.quantite&&s.push(`${l.nom} (stock: ${i.stock}, demandé: ${l.quantite})`):s.push(`${l.nom} (article inexistant)`)}),s.length>0){alert(`Impossible de confirmer la commande. Stock insuffisant pour:
${s.join(`
`)}`);return}try{await D(o.id,{statut:"confirmee"}),await h(),alert("Commande confirmée avec succès!")}catch(l){console.error("Erreur lors de la confirmation:",l),alert("Erreur lors de la confirmation de la commande")}},ee=async o=>{const t=V.value,s=[];if(o.produits.forEach(l=>{const i=t.find(I=>I.nom===l.nom);i?i.stock<l.quantite&&s.push(`${l.nom} (stock: ${i.stock}, demandé: ${l.quantite})`):s.push(`${l.nom} (article inexistant)`)}),s.length>0){alert(`Impossible de préparer la commande. Stock insuffisant pour:
${s.join(`
`)}`);return}try{await D(o.id,{statut:"en_preparation"}),await h(),alert("Commande mise en préparation!")}catch(l){console.error("Erreur lors de la préparation:",l),alert("Erreur lors de la préparation de la commande")}},te=async o=>{new Date().toISOString().split("T")[0],o.client,o.telephone,o.produits.map(t=>({nom:t.nom,quantite:t.quantite,unite:t.unite,quantiteCommandee:t.quantite,quantiteLivree:0,difference:t.quantite,resteAPayer:0})),o.adresse;try{await D(o.id,{statut:"livree"}),await h(),alert(`Commande ${o.numeroCommande} marquée comme livrée!`)}catch(t){console.error("Erreur lors de la création de livraison:",t),alert("Erreur lors de la création de livraison")}},se=()=>{a.value.produits.push({nom:"",quantite:0,unite:"pièces"})},oe=o=>{a.value.produits.splice(o,1)},M=o=>U.find(t=>t.value===o)||U[0],B=o=>T.find(t=>t.value===o)||T[1],le=p(()=>{let o=x.value;return E.value&&(o=o.filter(t=>t.date===E.value)),L.value&&(o=o.filter(t=>t.statut===L.value)),P.value,o.sort((t,s)=>new Date(s.date).getTime()-new Date(t.date).getTime())}),ne=p(()=>x.value.length),F=p(()=>x.value.filter(o=>o.statut==="en_attente").length),ae=p(()=>x.value.filter(o=>o.statut==="confirmee").length),ie=p(()=>x.value.filter(o=>o.statut==="en_preparation").length),re=p(()=>0),de=p(()=>0),ue=p(()=>0);return(o,t)=>(r(),c("div",_e,[e("div",he,[e("div",we,[e("div",Ce,[e("div",ke,[e("div",Se,[d(u($),{class:"h-6 w-6 text-white"})]),t[14]||(t[14]=e("div",null,[e("h1",{class:"page-title"},"Commandes Clients"),e("p",{class:"page-subtitle"},"Gestion des commandes et génération des livraisons")],-1))]),e("div",Ve,[e("button",{onClick:t[0]||(t[0]=s=>A()),class:"action-button"},[d(u(be),{class:"h-5 w-5 mr-2"}),t[15]||(t[15]=v(" Nouvelle commande ",-1))])])])])]),e("div",$e,[e("div",qe,[e("div",De,[e("div",Ee,[e("div",Le,[d(u($),{class:"stat-icon"})]),e("div",Ue,[t[16]||(t[16]=e("dt",{class:"stat-label"},"Total commandes",-1)),e("dd",Me,n(ne.value),1),t[17]||(t[17]=e("dd",{class:"stat-unit"},"commandes",-1))])])]),e("div",Ne,[e("div",Pe,[e("div",Te,[d(u(k),{class:"stat-icon"})]),e("div",Ie,[t[18]||(t[18]=e("dt",{class:"stat-label"},"En attente",-1)),e("dd",je,n(F.value),1),t[19]||(t[19]=e("dd",{class:"stat-unit"},"à traiter",-1))]),F.value>0?(r(),c("div",Ae,[d(u(N),{class:"h-4 w-4 text-yellow-600"})])):w("",!0)])]),e("div",Be,[e("div",Fe,[e("div",He,[d(u(q),{class:"stat-icon"})]),e("div",Oe,[t[20]||(t[20]=e("dt",{class:"stat-label"},"Confirmées",-1)),e("dd",Ge,n(ae.value),1),t[21]||(t[21]=e("dd",{class:"stat-unit"},"validées",-1))])])]),e("div",Re,[e("div",ze,[e("div",Qe,[d(u(j),{class:"stat-icon"})]),e("div",Je,[t[22]||(t[22]=e("dt",{class:"stat-label"},"En préparation",-1)),e("dd",Ke,n(ie.value),1),t[23]||(t[23]=e("dd",{class:"stat-unit"},"actives",-1))])])])]),e("div",We,[e("div",Xe,[e("div",Ye,[e("div",Ze,[d(u(N),{class:"h-5 w-5 text-white"})]),e("div",null,[t[24]||(t[24]=e("p",{class:"secondary-stat-label"},"Non livrées",-1)),e("p",et,n(re.value),1)])])]),e("div",tt,[e("div",st,[e("div",ot,[d(u(k),{class:"h-5 w-5 text-white"})]),e("div",null,[t[25]||(t[25]=e("p",{class:"secondary-stat-label"},"Partiellement livrées",-1)),e("p",lt,n(de.value),1)])])]),e("div",nt,[e("div",at,[e("div",it,[d(u(q),{class:"h-5 w-5 text-white"})]),e("div",null,[t[26]||(t[26]=e("p",{class:"secondary-stat-label"},"Livrées complètement",-1)),e("p",rt,n(ue.value),1)])])])]),e("div",dt,[e("div",ut,[e("div",ct,[e("div",mt,[d(u(ve),{class:"h-5 w-5 text-white"})]),t[27]||(t[27]=e("div",null,[e("h3",{class:"chart-title"},"Commandes récentes"),e("p",{class:"chart-subtitle"},"Filtres et recherche avancée")],-1))])]),e("div",vt,[e("div",gt,[e("div",pt,[d(u(ye),{class:"filter-icon"}),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>E.value=s),type:"date",class:"filter-input",placeholder:"Filtrer par date"},null,512),[[b,E.value]])]),e("div",bt,[m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>L.value=s),class:"filter-select"},[t[28]||(t[28]=e("option",{value:""},"Tous les statuts",-1)),(r(),c(f,null,y(U,s=>e("option",{key:s.value,value:s.value},n(s.label),9,ft)),64))],512),[[C,L.value]])]),e("div",yt,[m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>P.value=s),class:"filter-select"},[t[29]||(t[29]=e("option",{value:""},"Tous les états de livraison",-1)),(r(),c(f,null,y(K,s=>e("option",{key:s.value,value:s.value},n(s.label),9,xt)),64))],512),[[C,P.value]])])])])]),e("div",_t,[(r(!0),c(f,null,y(le.value,s=>(r(),c("div",{key:s.id,class:"commande-card"},[e("div",ht,[e("div",wt,[e("div",Ct,[e("div",kt,[e("div",St,[e("div",Vt,[(r(),O(G(M(s.statut).icon),{class:"h-5 w-5 text-white"}))]),e("div",null,[e("h4",$t,n(s.numeroCommande),1),e("p",qt,n(s.client),1)])])]),e("div",Dt,[e("span",{class:R(["status-badge",M(s.statut).color])},[(r(),O(G(M(s.statut).icon),{class:"h-3 w-3 mr-1"})),v(" "+n(M(s.statut).label),1)],2),e("span",{class:R(["priority-badge",B(s.priorite).color])},n(B(s.priorite).label),3)])]),e("div",Et,[e("div",null,[t[30]||(t[30]=e("p",{class:"text-sm font-medium text-gray-700"},"Date de commande",-1)),e("p",Lt,n(new Date(s.date).toLocaleDateString("fr-FR")),1)]),e("div",null,[t[31]||(t[31]=e("p",{class:"text-sm font-medium text-gray-700"},"Livraison souhaitée",-1)),e("p",Ut,n(s.dateLivraisonSouhaitee?new Date(s.dateLivraisonSouhaitee).toLocaleDateString("fr-FR"):"Non spécifiée"),1)]),e("div",null,[t[32]||(t[32]=e("p",{class:"text-sm font-medium text-gray-700"},"Téléphone",-1)),e("p",Mt,n(s.telephone),1)]),e("div",null,[t[33]||(t[33]=e("p",{class:"text-sm font-medium text-gray-700"},"Email",-1)),e("p",Nt,n(s.email),1)])]),e("div",Pt,[t[34]||(t[34]=e("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Adresse de livraison",-1)),e("p",Tt,n(s.adresse),1)]),e("div",It,[t[39]||(t[39]=e("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Produits commandés",-1)),e("div",jt,[(r(!0),c(f,null,y(s.produits,l=>(r(),c("div",{key:l.nom,class:"bg-gray-50 rounded-lg p-3"},[e("div",At,[e("span",Bt,n(l.nom),1),e("span",Ft,[d(u(k),{class:"h-3 w-3 mr-1"}),t[35]||(t[35]=v(" Non livré ",-1))])]),e("div",Ht,[e("div",null,[t[36]||(t[36]=e("span",{class:"text-gray-600"},"Commandé:",-1)),e("span",Ot,n(l.quantite)+" "+n(l.unite),1)]),e("div",null,[t[37]||(t[37]=e("span",{class:"text-gray-600"},"Livré:",-1)),e("span",Gt,"0 "+n(l.unite),1)]),e("div",null,[t[38]||(t[38]=e("span",{class:"text-gray-600"},"Reste:",-1)),e("span",Rt,n(l.quantite)+" "+n(l.unite),1)])])]))),128))])]),e("div",zt,[e("div",Qt,[t[41]||(t[41]=e("p",{class:"text-sm font-medium text-blue-900"},"État global de livraison",-1)),e("span",Jt,[d(u(k),{class:"h-3 w-3 mr-1"}),t[40]||(t[40]=v(" Non livré ",-1))])]),e("div",Kt,[t[43]||(t[43]=e("div",null,[e("span",{class:"text-blue-600"},"Total livré:"),e("span",{class:"font-medium text-blue-900 ml-1"},"0")],-1)),e("div",null,[t[42]||(t[42]=e("span",{class:"text-blue-600"},"Total restant:",-1)),e("span",Wt,n(s.produits.reduce((l,i)=>l+i.quantite,0)),1)])])])]),e("div",Xt,[e("div",Yt,[s.statut==="en_attente"?(r(),c("button",{key:0,onClick:l=>Z(s),class:"action-btn action-btn-primary"},[d(u(q),{class:"h-4 w-4 mr-2"}),t[44]||(t[44]=v(" Confirmer ",-1))],8,Zt)):w("",!0),s.statut==="confirmee"?(r(),c("button",{key:1,onClick:l=>ee(s),class:"action-btn action-btn-orange"},[d(u($),{class:"h-4 w-4 mr-2"}),t[45]||(t[45]=v(" Préparer ",-1))],8,es)):w("",!0),s.statut==="en_preparation"?(r(),c("button",{key:2,onClick:l=>te(s),class:"action-btn action-btn-success"},[d(u(j),{class:"h-4 w-4 mr-2"}),t[46]||(t[46]=v(" Créer livraison ",-1))],8,ts)):w("",!0),e("button",{onClick:l=>A(s),class:"action-btn action-btn-secondary"},[d(u(fe),{class:"h-4 w-4 mr-2"}),t[47]||(t[47]=v(" Modifier ",-1))],8,ss),e("button",{onClick:l=>Y(s.id),class:"action-btn action-btn-danger"},[d(u(xe),{class:"h-4 w-4 mr-2"}),t[48]||(t[48]=v(" Supprimer ",-1))],8,os)])])])]))),128))]),S.value?(r(),c("div",ls,[e("div",ns,[e("div",as,[e("div",is,[e("div",rs,[e("div",ds,[d(u($),{class:"h-6 w-6 text-white"})]),e("div",null,[e("h3",us,n(_.value?"Modifier la commande":"Nouvelle commande"),1),t[49]||(t[49]=e("p",{class:"modal-subtitle"},"Gestion des commandes clients",-1))])]),e("button",{onClick:t[4]||(t[4]=s=>S.value=!1),class:"modal-close"},[...t[50]||(t[50]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",cs,[e("form",{id:"commande-form",onSubmit:ge(X,["prevent"]),class:"space-y-6"},[e("div",ms,[t[53]||(t[53]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations de suivi",-1)),e("div",vs,[e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de commande",-1)),m(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.numeroCommande=s),type:"text",readonly:"",class:"w-full rounded-lg border-gray-300 bg-white text-gray-600"},null,512),[[b,a.value.numeroCommande]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Priorité",-1)),m(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.priorite=s),required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white"},[(r(),c(f,null,y(T,s=>e("option",{key:s.value,value:s.value},n(s.label),9,gs)),64))],512),[[C,a.value.priorite]])])])]),e("div",ps,[e("div",bs,[t[55]||(t[55]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations de base",-1)),e("div",fs,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),m(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>a.value.statut=s),required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white"},[(r(),c(f,null,y(U,s=>e("option",{key:s.value,value:s.value},n(s.label),9,ys)),64))],512),[[C,a.value.statut]])])])]),e("div",xs,[t[59]||(t[59]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations client",-1)),e("div",_s,[e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Client",-1)),m(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.value.client=s),type:"text",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white",placeholder:"Nom du client"},null,512),[[b,a.value.client]])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),m(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.value.telephone=s),type:"tel",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white",placeholder:"Numéro de téléphone"},null,512),[[b,a.value.telephone]])]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),m(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>a.value.email=s),type:"email",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white",placeholder:"Adresse email"},null,512),[[b,a.value.email]])])])])]),e("div",hs,[t[62]||(t[62]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations de livraison",-1)),e("div",ws,[e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Adresse de livraison",-1)),m(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>a.value.adresse=s),type:"text",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white",placeholder:"Adresse complète"},null,512),[[b,a.value.adresse]])]),e("div",null,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de livraison souhaitée",-1)),m(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>a.value.dateLivraisonSouhaitee=s),type:"date",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white"},null,512),[[b,a.value.dateLivraisonSouhaitee]])])])]),e("div",Cs,[t[70]||(t[70]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Produits commandés",-1)),e("div",ks,[(r(!0),c(f,null,y(a.value.produits,(s,l)=>(r(),c("div",{key:l,class:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end"},[e("div",null,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Produit",-1)),m(e("select",{"onUpdate:modelValue":i=>s.nom=i,required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white"},[t[63]||(t[63]=e("option",{value:""},"Sélectionner un produit",-1)),(r(!0),c(f,null,y(V.value,i=>(r(),c("option",{key:i.nom,value:i.nom},n(i.nom)+" (Stock: "+n(i.stock)+" "+n(i.unite)+") ",9,Vs))),128))],8,Ss),[[C,s.nom]])]),e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Quantité",-1)),m(e("input",{"onUpdate:modelValue":i=>s.quantite=i,type:"number",required:"",min:"0",placeholder:"0",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white"},null,8,$s),[[b,s.quantite,void 0,{number:!0}]])]),e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unité",-1)),m(e("select",{"onUpdate:modelValue":i=>s.unite=i,required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500 bg-white"},[...t[66]||(t[66]=[e("option",{value:"pièces"},"Pièces",-1),e("option",{value:"tonnes"},"Tonnes",-1),e("option",{value:"m³"},"m³",-1),e("option",{value:"palettes"},"Palettes",-1)])],8,qs),[[C,s.unite]])]),e("div",Ds,[a.value.produits.length>1?(r(),c("button",{key:0,type:"button",onClick:i=>oe(l),class:"text-red-600 hover:text-red-800 p-2",title:"Supprimer ce produit"},[...t[68]||(t[68]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Es)):w("",!0)])]))),128)),e("button",{type:"button",onClick:se,class:"text-orange-600 hover:text-orange-800 text-sm font-medium flex items-center"},[...t[69]||(t[69]=[e("svg",{class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),v(" Ajouter un produit ",-1)])])])])],32)]),e("div",Ls,[e("div",Us,[e("button",{type:"button",onClick:t[13]||(t[13]=s=>S.value=!1),class:"btn-cancel"}," Annuler "),e("button",Ms,n(_.value?"Modifier la commande":"Créer la commande"),1)])])])])):w("",!0)])]))}}),Hs=pe(Ns,[["__scopeId","data-v-8ed49596"]]);export{Hs as default};
