import{d as k,b as N,a as d,l as h,c as m,e as s,w as C,h as v,i as l,v as i,m as R,p as f,q,t as x,j as b,s as z,x as L,y as M,k as P,o as p}from"./main-Ddag5VAa.js";const U={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},E={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},S={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},T={class:"space-y-4"},I={class:"grid grid-cols-2 gap-4"},j={class:"space-y-4"},B={class:"space-y-4"},D={class:"space-y-4"},A={class:"flex items-start"},$={class:"flex items-center h-5"},F={key:0,class:"bg-red-50 border border-red-200 rounded-md p-4"},G={class:"flex"},J={class:"ml-3"},O={class:"mt-2 text-sm text-red-700"},H={key:1,class:"bg-green-50 border border-green-200 rounded-md p-4"},K=["disabled"],Q={class:"text-center"},W={class:"text-sm text-gray-600"},Z=k({__name:"RegisterView",setup(X){const g=P(),{signUp:w}=N(),n=d(!1),r=d(""),u=d(!1),o=d({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"",phone:"",acceptTerms:!1}),c=h(()=>o.value.firstName&&o.value.lastName&&o.value.email&&o.value.password&&o.value.password===o.value.confirmPassword&&o.value.role&&o.value.acceptTerms),y=async()=>{if(!c.value){r.value="Veuillez remplir tous les champs obligatoires";return}if(o.value.password!==o.value.confirmPassword){r.value="Les mots de passe ne correspondent pas";return}n.value=!0,r.value="",u.value=!1;try{console.log("üîê [RegisterView] Inscription - D√©but"),console.log("üìß [RegisterView] Email:",o.value.email),console.log("üë§ [RegisterView] R√¥le:",o.value.role);const a=await w({name:`${o.value.firstName} ${o.value.lastName}`,email:o.value.email,password:o.value.password,password_confirmation:o.value.confirmPassword,phone:o.value.phone,role:o.value.role});if(!a.success)throw new Error(a.error||"Erreur lors de l'inscription");console.log("‚úÖ [RegisterView] Inscription r√©ussie"),u.value=!0,setTimeout(()=>{g.push("/login")},2e3)}catch(a){console.error("‚ùå [RegisterView] Erreur d'inscription:",a),r.value=a.message||"Erreur lors de la cr√©ation du compte"}finally{n.value=!1}};return(a,e)=>{const V=M("router-link");return p(),m("div",U,[e[29]||(e[29]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[s("div",{class:"text-center"},[s("h2",{class:"text-3xl font-bold text-gray-900"},"Cr√©er un compte"),s("p",{class:"mt-2 text-sm text-gray-600"}," Rejoignez Global Star Distribution ")])],-1)),s("div",E,[s("div",S,[s("form",{onSubmit:C(y,["prevent"]),class:"space-y-6"},[s("div",T,[e[10]||(e[10]=s("h3",{class:"text-lg font-medium text-gray-900"},"Informations personnelles",-1)),s("div",I,[s("div",null,[e[8]||(e[8]=s("label",{for:"firstName",class:"block text-sm font-medium text-gray-700"}," Pr√©nom * ",-1)),l(s("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.firstName=t),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre pr√©nom"},null,512),[[i,o.value.firstName]])]),s("div",null,[e[9]||(e[9]=s("label",{for:"lastName",class:"block text-sm font-medium text-gray-700"}," Nom * ",-1)),l(s("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.lastName=t),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre nom"},null,512),[[i,o.value.lastName]])])])]),s("div",j,[e[15]||(e[15]=s("h3",{class:"text-lg font-medium text-gray-900"},"Informations de connexion",-1)),s("div",null,[e[11]||(e[11]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email * ",-1)),l(s("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.email=t),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"votre@email.com"},null,512),[[i,o.value.email]])]),s("div",null,[e[12]||(e[12]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Mot de passe * ",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.password=t),type:"password",required:"",minlength:"6",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Minimum 6 caract√®res"},null,512),[[i,o.value.password]]),e[13]||(e[13]=s("p",{class:"mt-1 text-xs text-gray-500"}," Le mot de passe doit contenir au moins 6 caract√®res ",-1))]),s("div",null,[e[14]||(e[14]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"}," Confirmer le mot de passe * ",-1)),l(s("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.confirmPassword=t),type:"password",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"R√©p√©tez votre mot de passe"},null,512),[[i,o.value.confirmPassword]])])]),s("div",B,[e[19]||(e[19]=s("h3",{class:"text-lg font-medium text-gray-900"},"R√¥le dans l'entreprise",-1)),s("div",null,[e[17]||(e[17]=s("label",{for:"role",class:"block text-sm font-medium text-gray-700"}," Votre r√¥le * ",-1)),l(s("select",{id:"role","onUpdate:modelValue":e[5]||(e[5]=t=>o.value.role=t),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},[...e[16]||(e[16]=[f('<option value="">S√©lectionnez votre r√¥le</option><option value="secretaire">Secr√©taire</option><option value="livreur">Livreur</option><option value="operator">Op√©rateur</option><option value="manager">Manager</option><option value="admin">Administrateur</option>',6)])],512),[[R,o.value.role]]),e[18]||(e[18]=s("p",{class:"mt-1 text-xs text-gray-500"}," Choisissez le r√¥le qui correspond le mieux √† vos responsabilit√©s ",-1))])]),s("div",D,[e[22]||(e[22]=s("h3",{class:"text-lg font-medium text-gray-900"},"Informations de contact",-1)),s("div",null,[e[20]||(e[20]=s("label",{for:"phone",class:"block text-sm font-medium text-gray-700"}," T√©l√©phone * ",-1)),l(s("input",{id:"phone","onUpdate:modelValue":e[6]||(e[6]=t=>o.value.phone=t),type:"tel",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"+33 6 12 34 56 78"},null,512),[[i,o.value.phone]]),e[21]||(e[21]=s("p",{class:"mt-1 text-xs text-gray-500"}," Le t√©l√©phone servira pour la connexion ",-1))])]),s("div",A,[s("div",$,[l(s("input",{id:"terms","onUpdate:modelValue":e[7]||(e[7]=t=>o.value.acceptTerms=t),type:"checkbox",required:"",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"},null,512),[[q,o.value.acceptTerms]])]),e[23]||(e[23]=s("div",{class:"ml-3 text-sm"},[s("label",{for:"terms",class:"font-medium text-gray-700"}," J'accepte les conditions d'utilisation * "),s("p",{class:"text-gray-500"}," En cr√©ant un compte, vous acceptez nos conditions d'utilisation et notre politique de confidentialit√©. ")],-1))]),r.value?(p(),m("div",F,[s("div",G,[e[25]||(e[25]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),s("div",J,[e[24]||(e[24]=s("h3",{class:"text-sm font-medium text-red-800"}," Erreur d'inscription ",-1)),s("div",O,x(r.value),1)])])])):v("",!0),u.value?(p(),m("div",H,[...e[26]||(e[26]=[f('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-green-800"> Inscription r√©ussie ! </h3><div class="mt-2 text-sm text-green-700"> Votre compte a √©t√© cr√©√© avec succ√®s. Vous pouvez maintenant vous connecter. </div></div></div>',1)])])):v("",!0),s("div",null,[s("button",{type:"submit",disabled:n.value||!c.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},x(n.value?"Cr√©ation du compte...":"Cr√©er mon compte"),9,K)]),s("div",Q,[s("p",W,[e[28]||(e[28]=b(" D√©j√† un compte ? ",-1)),z(V,{to:"/login",class:"font-medium text-blue-600 hover:text-blue-500"},{default:L(()=>[...e[27]||(e[27]=[b(" Se connecter ",-1)])]),_:1})])])],32)])])])}}});export{Z as default};
