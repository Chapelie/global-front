import{d as j,r as p,c as u,b as t,e as h,j as g,g as D,k as d,I as T,t as l,F as v,q as b,w as S,f as c,v as x,p as _,x as w,o as m}from"./index-DShiURXh.js";import{r as $}from"./PlusIcon-3nd0CGQo.js";import{r as N}from"./UserIcon-B6dO7lwH.js";import{r as U}from"./ClockIcon-DftcQWUa.js";import{r as A}from"./PencilIcon-BUBQsvjv.js";import{r as I}from"./TrashIcon-fFiWIMmY.js";const P={class:"space-y-6"},F={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},L={class:"grid grid-cols-1 sm:grid-cols-3 gap-6"},B={class:"bg-white rounded-2xl shadow-md p-6 border border-gray-100"},z={class:"flex items-center"},O={class:"h-12 w-12 rounded-xl bg-blue-100 flex items-center justify-center"},R={class:"ml-4"},G={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-2xl shadow-md p-6 border border-gray-100"},H={class:"flex items-center"},K={class:"h-12 w-12 rounded-xl bg-green-100 flex items-center justify-center"},Q={class:"ml-4"},W={class:"text-2xl font-bold text-gray-900"},X={class:"bg-white rounded-2xl shadow-md p-6 border border-gray-100"},Y={class:"flex items-center"},Z={class:"h-12 w-12 rounded-xl bg-orange-100 flex items-center justify-center"},tt={class:"ml-4"},et={class:"text-2xl font-bold text-gray-900"},st={class:"space-y-4"},ot={class:"flex items-start justify-between mb-4"},lt={class:"flex-1"},nt={class:"flex items-center space-x-3 mb-2"},rt={class:"text-lg font-semibold text-gray-900"},at={class:"text-sm text-gray-600"},it={class:"flex items-center space-x-2"},dt=["onClick"],ut=["onClick"],mt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ct={class:"text-sm text-gray-900"},gt={class:"text-sm text-gray-900"},xt={class:"text-sm text-gray-900"},ft={class:"text-sm text-gray-900"},pt={key:0},vt={class:"space-y-2"},bt={class:"text-sm text-gray-900"},yt={class:"flex items-center space-x-2"},ht={class:"text-xs text-gray-500"},_t={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},wt={class:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-2xl bg-white"},kt={class:"mt-3"},Et={class:"text-lg font-semibold text-gray-900 mb-4"},qt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Mt=["value"],Vt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jt={class:"flex justify-end space-x-3 pt-4"},Dt={type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 rounded-lg transition-colors"},Pt=j({__name:"PersonnelView",setup(Tt){const a=p([{id:1,nom:"Dupont",prenom:"Jean",poste:"Ouvrier production",telephone:"+33 6 12 34 56 78",email:"jean.dupont@briqueapp.com",dateEmbauche:"2023-01-15",statut:"actif",taches:[{id:1,description:"Production briques standard",statut:"termine",date:"2024-01-15"},{id:2,description:"Contrôle qualité",statut:"en_cours",date:"2024-01-16"}]},{id:2,nom:"Martin",prenom:"Marie",poste:"Chauffeur livraison",telephone:"+33 6 98 76 54 32",email:"marie.martin@briqueapp.com",dateEmbauche:"2023-03-20",statut:"actif",taches:[{id:3,description:"Livraison client Dubois",statut:"en_cours",date:"2024-01-16"}]}]),f=p(!1),i=p(null),o=p({nom:"",prenom:"",poste:"",telephone:"",email:"",dateEmbauche:"",statut:"actif"}),k=["Ouvrier production","Chauffeur livraison","Manager production","Contrôleur qualité","Magasinier","Administratif"],y=n=>{n?(i.value=n,o.value={...n,statut:n.statut==="inactif"?"actif":n.statut}):(i.value=null,o.value={nom:"",prenom:"",poste:"",telephone:"",email:"",dateEmbauche:"",statut:"actif"}),f.value=!0},E=()=>{if(i.value){const n=a.value.findIndex(e=>e.id===i.value.id);a.value[n]={...o.value,id:i.value.id,taches:i.value.taches}}else{const n=Math.max(...a.value.map(e=>e.id))+1;a.value.push({...o.value,id:n,taches:[]})}f.value=!1,i.value=null},q=n=>{confirm("Êtes-vous sûr de vouloir supprimer cet employé ?")&&(a.value=a.value.filter(e=>e.id!==n))},C=a.value.length,M=a.value.filter(n=>n.statut==="actif").length,V=a.value.reduce((n,e)=>n+e.taches.length,0);return(n,e)=>(m(),u("div",P,[t("div",F,[e[10]||(e[10]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900"},"Gestion du Personnel"),t("p",{class:"mt-2 text-gray-600"},"Suivi des employés et tâches")],-1)),t("button",{onClick:e[0]||(e[0]=s=>y()),class:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-xl transition-colors"},[g(d($),{class:"h-5 w-5 mr-2"}),e[9]||(e[9]=D(" Nouvel employé ",-1))])]),t("div",L,[t("div",B,[t("div",z,[t("div",O,[g(d(T),{class:"h-6 w-6 text-blue-600"})]),t("div",R,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-600"},"Total employés",-1)),t("p",G,l(d(C)),1)])])]),t("div",J,[t("div",H,[t("div",K,[g(d(N),{class:"h-6 w-6 text-green-600"})]),t("div",Q,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-gray-600"},"Employés actifs",-1)),t("p",W,l(d(M)),1)])])]),t("div",X,[t("div",Y,[t("div",Z,[g(d(U),{class:"h-6 w-6 text-orange-600"})]),t("div",tt,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-gray-600"},"Total tâches",-1)),t("p",et,l(d(V)),1)])])])]),t("div",st,[(m(!0),u(v,null,b(a.value,s=>(m(),u("div",{key:s.id,class:"bg-white rounded-2xl shadow-md border border-gray-100 p-6"},[t("div",ot,[t("div",lt,[t("div",nt,[t("h4",rt,l(s.prenom)+" "+l(s.nom),1),t("span",{class:w(["inline-flex px-2 py-1 text-xs font-medium rounded-full",s.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},l(s.statut==="actif"?"Actif":"Inactif"),3)]),t("p",at,l(s.poste),1)]),t("div",it,[t("button",{onClick:r=>y(s),class:"text-orange-600 hover:text-orange-900",title:"Modifier"},[g(d(A),{class:"h-4 w-4"})],8,dt),t("button",{onClick:r=>q(s.id),class:"text-red-600 hover:text-red-900",title:"Supprimer"},[g(d(I),{class:"h-4 w-4"})],8,ut)])]),t("div",mt,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-700"},"Téléphone",-1)),t("p",ct,l(s.telephone),1)]),t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-gray-700"},"Email",-1)),t("p",gt,l(s.email),1)]),t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-700"},"Date d'embauche",-1)),t("p",xt,l(new Date(s.dateEmbauche).toLocaleDateString("fr-FR")),1)]),t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-700"},"Tâches en cours",-1)),t("p",ft,l(s.taches.filter(r=>r.statut==="en_cours").length),1)])]),s.taches.length>0?(m(),u("div",pt,[e[18]||(e[18]=t("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Tâches récentes",-1)),t("div",vt,[(m(!0),u(v,null,b(s.taches.slice(0,3),r=>(m(),u("div",{key:r.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[t("span",bt,l(r.description),1),t("div",yt,[t("span",{class:w(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-yellow-100 text-yellow-800":r.statut==="en_attente","bg-blue-100 text-blue-800":r.statut==="en_cours","bg-green-100 text-green-800":r.statut==="termine"}])},l(r.statut==="en_attente"?"En attente":r.statut==="en_cours"?"En cours":"Terminé"),3),t("span",ht,l(new Date(r.date).toLocaleDateString("fr-FR")),1)])]))),128))])])):h("",!0)]))),128))]),f.value?(m(),u("div",_t,[t("div",wt,[t("div",kt,[t("h3",Et,l(i.value?"Modifier l'employé":"Nouvel employé"),1),t("form",{onSubmit:S(E,["prevent"]),class:"space-y-4"},[t("div",qt,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prénom",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.prenom=s),type:"text",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},null,512),[[x,o.value.prenom]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.nom=s),type:"text",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},null,512),[[x,o.value.nom]])])]),t("div",Ct,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Poste",-1)),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.poste=s),required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},[e[21]||(e[21]=t("option",{value:""},"Sélectionner un poste",-1)),(m(),u(v,null,b(k,s=>t("option",{key:s,value:s},l(s),9,Mt)),64))],512),[[_,o.value.poste]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Statut",-1)),c(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.statut=s),required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},[...e[23]||(e[23]=[t("option",{value:"actif"},"Actif",-1),t("option",{value:"inactif"},"Inactif",-1)])],512),[[_,o.value.statut]])])]),t("div",Vt,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Téléphone",-1)),c(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.telephone=s),type:"tel",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},null,512),[[x,o.value.telephone]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),c(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.email=s),type:"email",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},null,512),[[x,o.value.email]])])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date d'embauche",-1)),c(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.dateEmbauche=s),type:"date",required:"",class:"w-full rounded-lg border-gray-300 focus:border-orange-500 focus:ring-orange-500"},null,512),[[x,o.value.dateEmbauche]])]),t("div",jt,[t("button",{type:"button",onClick:e[8]||(e[8]=s=>f.value=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"}," Annuler "),t("button",Dt,l(i.value?"Modifier":"Ajouter"),1)])],32)])])])):h("",!0)]))}});export{Pt as default};
