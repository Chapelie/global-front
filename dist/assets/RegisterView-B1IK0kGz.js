import{d as k,u as N,r as n,p as h,c as m,a as s,w as C,f as v,g as l,v as a,q as R,i as f,s as z,t as x,h as b,j as q,k as M,l as U,m as L,o as p}from"./index-D0gnmK0b.js";const P={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},S={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},T={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},E={class:"space-y-4"},I={class:"grid grid-cols-2 gap-4"},j={class:"space-y-4"},B={class:"space-y-4"},D={class:"space-y-4"},A={class:"flex items-start"},F={class:"flex items-center h-5"},G={key:0,class:"bg-red-50 border border-red-200 rounded-md p-4"},J={class:"flex"},O={class:"ml-3"},H={class:"mt-2 text-sm text-red-700"},K={key:1,class:"bg-green-50 border border-green-200 rounded-md p-4"},Q=["disabled"],W={class:"text-center"},X={class:"text-sm text-gray-600"},$=k({__name:"RegisterView",setup(Y){const g=L(),{signUp:y}=N(),i=n(!1),r=n(""),d=n(!1),o=n({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"",phone:"",acceptTerms:!1}),c=h(()=>o.value.firstName&&o.value.lastName&&o.value.email&&o.value.password&&o.value.password===o.value.confirmPassword&&o.value.role&&o.value.acceptTerms),w=async()=>{if(!c.value){r.value="Veuillez remplir tous les champs obligatoires";return}if(o.value.password!==o.value.confirmPassword){r.value="Les mots de passe ne correspondent pas";return}i.value=!0,r.value="",d.value=!1;try{console.log("üîê [RegisterView] Inscription - D√©but"),console.log("üìß [RegisterView] Email:",o.value.email),console.log("üë§ [RegisterView] R√¥le:",o.value.role),await y(o.value.email,o.value.password,{first_name:o.value.firstName,last_name:o.value.lastName,role:o.value.role,phone:o.value.phone}),console.log("‚úÖ [RegisterView] Inscription r√©ussie"),d.value=!0,setTimeout(()=>{g.push("/login")},2e3)}catch(u){console.error("‚ùå [RegisterView] Erreur d'inscription:",u),r.value=u.message||"Erreur lors de la cr√©ation du compte"}finally{i.value=!1}};return(u,e)=>{const V=U("router-link");return p(),m("div",P,[e[28]||(e[28]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[s("div",{class:"text-center"},[s("h2",{class:"text-3xl font-bold text-gray-900"},"Cr√©er un compte"),s("p",{class:"mt-2 text-sm text-gray-600"}," Rejoignez Global Star Distribution ")])],-1)),s("div",S,[s("div",T,[s("form",{onSubmit:C(w,["prevent"]),class:"space-y-6"},[s("div",E,[e[10]||(e[10]=s("h3",{class:"text-lg font-medium text-gray-900"},"Informations personnelles",-1)),s("div",I,[s("div",null,[e[8]||(e[8]=s("label",{for:"firstName",class:"block text-sm font-medium text-gray-700"}," Pr√©nom * ",-1)),l(s("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.firstName=t),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre pr√©nom"},null,512),[[a,o.value.firstName]])]),s("div",null,[e[9]||(e[9]=s("label",{for:"lastName",class:"block text-sm font-medium text-gray-700"}," Nom * ",-1)),l(s("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.lastName=t),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Votre nom"},null,512),[[a,o.value.lastName]])])])]),s("div",j,[e[15]||(e[15]=s("h3",{class:"text-lg font-medium text-gray-900"},"Informations de connexion",-1)),s("div",null,[e[11]||(e[11]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email * ",-1)),l(s("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.email=t),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"votre@email.com"},null,512),[[a,o.value.email]])]),s("div",null,[e[12]||(e[12]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Mot de passe * ",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.password=t),type:"password",required:"",minlength:"6",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Minimum 6 caract√®res"},null,512),[[a,o.value.password]]),e[13]||(e[13]=s("p",{class:"mt-1 text-xs text-gray-500"}," Le mot de passe doit contenir au moins 6 caract√®res ",-1))]),s("div",null,[e[14]||(e[14]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"}," Confirmer le mot de passe * ",-1)),l(s("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.confirmPassword=t),type:"password",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"R√©p√©tez votre mot de passe"},null,512),[[a,o.value.confirmPassword]])])]),s("div",B,[e[19]||(e[19]=s("h3",{class:"text-lg font-medium text-gray-900"},"R√¥le dans l'entreprise",-1)),s("div",null,[e[17]||(e[17]=s("label",{for:"role",class:"block text-sm font-medium text-gray-700"}," Votre r√¥le * ",-1)),l(s("select",{id:"role","onUpdate:modelValue":e[5]||(e[5]=t=>o.value.role=t),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},[...e[16]||(e[16]=[f('<option value="">S√©lectionnez votre r√¥le</option><option value="secretaire">Secr√©taire</option><option value="livreur">Livreur</option><option value="operator">Op√©rateur</option><option value="manager">Manager</option><option value="admin">Administrateur</option>',6)])],512),[[R,o.value.role]]),e[18]||(e[18]=s("p",{class:"mt-1 text-xs text-gray-500"}," Choisissez le r√¥le qui correspond le mieux √† vos responsabilit√©s ",-1))])]),s("div",D,[e[21]||(e[21]=s("h3",{class:"text-lg font-medium text-gray-900"},"Informations de contact (optionnel)",-1)),s("div",null,[e[20]||(e[20]=s("label",{for:"phone",class:"block text-sm font-medium text-gray-700"}," T√©l√©phone ",-1)),l(s("input",{id:"phone","onUpdate:modelValue":e[6]||(e[6]=t=>o.value.phone=t),type:"tel",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"+33 6 12 34 56 78"},null,512),[[a,o.value.phone]])])]),s("div",A,[s("div",F,[l(s("input",{id:"terms","onUpdate:modelValue":e[7]||(e[7]=t=>o.value.acceptTerms=t),type:"checkbox",required:"",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"},null,512),[[z,o.value.acceptTerms]])]),e[22]||(e[22]=s("div",{class:"ml-3 text-sm"},[s("label",{for:"terms",class:"font-medium text-gray-700"}," J'accepte les conditions d'utilisation * "),s("p",{class:"text-gray-500"}," En cr√©ant un compte, vous acceptez nos conditions d'utilisation et notre politique de confidentialit√©. ")],-1))]),r.value?(p(),m("div",G,[s("div",J,[e[24]||(e[24]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),s("div",O,[e[23]||(e[23]=s("h3",{class:"text-sm font-medium text-red-800"}," Erreur d'inscription ",-1)),s("div",H,x(r.value),1)])])])):v("",!0),d.value?(p(),m("div",K,[...e[25]||(e[25]=[f('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-green-800"> Inscription r√©ussie ! </h3><div class="mt-2 text-sm text-green-700"> Votre compte a √©t√© cr√©√© avec succ√®s. Vous pouvez maintenant vous connecter. </div></div></div>',1)])])):v("",!0),s("div",null,[s("button",{type:"submit",disabled:i.value||!c.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},x(i.value?"Cr√©ation du compte...":"Cr√©er mon compte"),9,Q)]),s("div",W,[s("p",X,[e[27]||(e[27]=b(" D√©j√† un compte ? ",-1)),q(V,{to:"/login",class:"font-medium text-blue-600 hover:text-blue-500"},{default:M(()=>[...e[26]||(e[26]=[b(" Se connecter ",-1)])]),_:1})])])],32)])])])}}});export{$ as default};
