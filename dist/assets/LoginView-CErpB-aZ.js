import{d as V,u as L,r as a,c as i,a as e,n as z,b as t,e as S,w as E,f as p,g as x,v,t as g,h as f,i as j,j as A,k as N,l as B,m as M,o as d}from"./index-D0gnmK0b.js";const T={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},D={class:"sm:mx-auto sm:w-full sm:max-w-md"},U={class:"flex justify-center"},q=["src","alt"],R={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},G={class:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10"},H={class:"mt-1"},I={class:"mt-1"},P={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-3"},F={class:"text-sm text-red-600"},J={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},K={class:"text-sm text-green-600"},O=["disabled"],Q={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},W={class:"mt-6"},X={class:"mt-6 space-y-3"},Y={class:"bg-gray-50 rounded-lg p-3"},Z={class:"text-xs text-gray-600"},se=V({__name:"LoginView",setup($){const b=M(),{logo:y,getLogoAlt:w,getLogoClass:h}=S(),{signIn:_,isLoading:u}=L(),o=a(""),l=a(""),r=a(""),n=a(""),k=async()=>{if(!o.value||!l.value){r.value="Veuillez remplir tous les champs";return}r.value="",n.value="";try{console.log("üîê [LoginView] Tentative de connexion"),console.log("üìß [LoginView] Email:",o.value),await _(o.value,l.value),console.log("‚úÖ [LoginView] Connexion r√©ussie"),n.value="Connexion r√©ussie ! Redirection...",setTimeout(()=>{b.push("/")},1e3)}catch(c){console.error("‚ùå [LoginView] Erreur de connexion:",c),r.value=c.message||"Erreur lors de la connexion"}};return(c,s)=>{const C=B("router-link");return d(),i("div",T,[e("div",D,[e("div",U,[e("img",{src:t(y),alt:t(w)(),class:z(t(h)("medium"))},null,10,q)]),s[2]||(s[2]=e("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"}," Global Star Distribution ",-1)),s[3]||(s[3]=e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Connectez-vous √† votre compte ",-1))]),e("div",R,[e("div",G,[e("form",{onSubmit:E(k,["prevent"]),class:"space-y-6"},[e("div",null,[s[4]||(s[4]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email ",-1)),e("div",H,[x(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=m=>o.value=m),name:"email",type:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre adresse email"},null,512),[[v,o.value]])])]),e("div",null,[s[5]||(s[5]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Mot de passe ",-1)),e("div",I,[x(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=m=>l.value=m),name:"password",type:"password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe"},null,512),[[v,l.value]])])]),r.value?(d(),i("div",P,[e("p",F,g(r.value),1)])):p("",!0),n.value?(d(),i("div",J,[e("p",K,g(n.value),1)])):p("",!0),e("div",null,[e("button",{type:"submit",disabled:t(u),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t(u)?(d(),i("span",Q,[...s[6]||(s[6]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):p("",!0),f(" "+g(t(u)?"Connexion...":"Se connecter"),1)],8,O)])],32),e("div",W,[s[10]||(s[10]=j('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Authentification Supabase</span></div></div>',1)),e("div",X,[s[9]||(s[9]=e("div",{class:"bg-blue-50 rounded-lg p-3"},[e("p",{class:"text-xs font-medium text-blue-700"},"Connexion Supabase"),e("p",{class:"text-xs text-blue-600"},"Utilisez vos identifiants Supabase")],-1)),e("div",Y,[s[8]||(s[8]=e("p",{class:"text-xs font-medium text-gray-700"},"Pas de compte ?",-1)),e("p",Z,[A(C,{to:"/register",class:"text-orange-600 hover:text-orange-500"},{default:N(()=>[...s[7]||(s[7]=[f(" Cr√©er un compte ",-1)])]),_:1})])])])])])])])}}});export{se as default};
