const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardView-C73om-A6.js","assets/DashboardView-C_gr96eN.css","assets/CommandesView-DA8aB5nO.js","assets/PlusIcon-Dl4LIrTD.js","assets/ClockIcon-C1iuYBt7.js","assets/CheckCircleIcon-DIOsNbTF.js","assets/CalendarIcon-DLnXeCIc.js","assets/TrashIcon-CaummfL_.js","assets/CommandesView-DyQwg3Uh.css","assets/ProductionView-CD0iJnzO.js","assets/MagnifyingGlassIcon-xmMHmY14.js","assets/ProductionView-tn0RQdqM.css","assets/LivraisonView-BQ1sF0-g.js","assets/LivraisonView-BHTEJ99M.css","assets/StockView-BBq4GK94.js","assets/StockView-DJe_4z_s.css","assets/DocumentsView-D__yEc-V.js","assets/DocumentsView-C7PRNx1k.css","assets/PersonnelView-DMAbOsaE.js","assets/ShieldCheckIcon-DR0x_S6N.js","assets/PersonnelView-Cc8_gwtH.css","assets/AnalysesView-g-SmHvkq.js","assets/AnalysesView-aSuICt6h.css","assets/ParametresView-BPiDMOnb.js","assets/UsersView-EPHWhZ8o.js","assets/UsersView-B5ziNlTK.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();/**
* @vue/shared v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function La(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Se={},bi=[],$t=()=>{},cd=()=>!1,Nr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ja=t=>t.startsWith("onUpdate:"),et=Object.assign,Fa=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},hg=Object.prototype.hasOwnProperty,ye=(t,e)=>hg.call(t,e),X=Array.isArray,_i=t=>In(t)==="[object Map]",Ri=t=>In(t)==="[object Set]",Cl=t=>In(t)==="[object Date]",oe=t=>typeof t=="function",Fe=t=>typeof t=="string",Nt=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",ud=t=>(Pe(t)||oe(t))&&oe(t.then)&&oe(t.catch),dd=Object.prototype.toString,In=t=>dd.call(t),fg=t=>In(t).slice(8,-1),hd=t=>In(t)==="[object Object]",Ha=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,en=La(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zr=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},gg=/-(\w)/g,wt=zr(t=>t.replace(gg,(e,s)=>s?s.toUpperCase():"")),pg=/\B([A-Z])/g,Qs=zr(t=>t.replace(pg,"-$1").toLowerCase()),Vr=zr(t=>t.charAt(0).toUpperCase()+t.slice(1)),go=zr(t=>t?`on${Vr(t)}`:""),Ss=(t,e)=>!Object.is(t,e),ar=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},fd=(t,e,s,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:s})},yr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Al;const Wr=()=>Al||(Al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Dn(t){if(X(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=Fe(i)?yg(i):Dn(i);if(n)for(const r in n)e[r]=n[r]}return e}else if(Fe(t)||Pe(t))return t}const mg=/;(?![^(]*\))/g,bg=/:([^]+)/,_g=/\/\*[^]*?\*\//g;function yg(t){const e={};return t.replace(_g,"").split(mg).forEach(s=>{if(s){const i=s.split(bg);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ze(t){let e="";if(Fe(t))e=t;else if(X(t))for(let s=0;s<t.length;s++){const i=ze(t[s]);i&&(e+=i+" ")}else if(Pe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const vg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wg=La(vg);function gd(t){return!!t||t===""}function xg(t,e){if(t.length!==e.length)return!1;let s=!0;for(let i=0;s&&i<t.length;i++)s=Rn(t[i],e[i]);return s}function Rn(t,e){if(t===e)return!0;let s=Cl(t),i=Cl(e);if(s||i)return s&&i?t.getTime()===e.getTime():!1;if(s=Nt(t),i=Nt(e),s||i)return t===e;if(s=X(t),i=X(e),s||i)return s&&i?xg(t,e):!1;if(s=Pe(t),i=Pe(e),s||i){if(!s||!i)return!1;const n=Object.keys(t).length,r=Object.keys(e).length;if(n!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Rn(t[o],e[o]))return!1}}return String(t)===String(e)}function Ua(t,e){return t.findIndex(s=>Rn(s,e))}const pd=t=>!!(t&&t.__v_isRef===!0),ie=t=>Fe(t)?t:t==null?"":X(t)||Pe(t)&&(t.toString===dd||!oe(t.toString))?pd(t)?ie(t.value):JSON.stringify(t,md,2):String(t),md=(t,e)=>pd(e)?md(t,e.value):_i(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[i,n],r)=>(s[po(i,r)+" =>"]=n,s),{})}:Ri(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>po(s))}:Nt(e)?po(e):Pe(e)&&!X(e)&&!hd(e)?String(e):e,po=(t,e="")=>{var s;return Nt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dt;class Sg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=dt,!e&&dt&&(this.index=(dt.scopes||(dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=dt;try{return dt=this,e()}finally{dt=s}}}on(){++this._on===1&&(this.prevScope=dt,dt=this)}off(){this._on>0&&--this._on===0&&(dt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function kg(){return dt}let Ae;const mo=new WeakSet;class bd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,dt&&dt.active&&dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mo.has(this)&&(mo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,El(this),vd(this);const e=Ae,s=At;Ae=this,At=!0;try{return this.fn()}finally{wd(this),Ae=e,At=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Na(e);this.deps=this.depsTail=void 0,El(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qo(this)&&this.run()}get dirty(){return qo(this)}}let _d=0,tn,sn;function yd(t,e=!1){if(t.flags|=8,e){t.next=sn,sn=t;return}t.next=tn,tn=t}function $a(){_d++}function Ba(){if(--_d>0)return;if(sn){let e=sn;for(sn=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;tn;){let e=tn;for(tn=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=s}}if(t)throw t}function vd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function wd(t){let e,s=t.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),Na(i),Cg(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=s}function qo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(xd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function xd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===bn)||(t.globalVersion=bn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!qo(t))))return;t.flags|=2;const e=t.dep,s=Ae,i=At;Ae=t,At=!0;try{vd(t);const n=t.fn(t._value);(e.version===0||Ss(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Ae=s,At=i,wd(t),t.flags&=-3}}function Na(t,e=!1){const{dep:s,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),s.subs===t&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Na(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Cg(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let At=!0;const Sd=[];function os(){Sd.push(At),At=!1}function as(){const t=Sd.pop();At=t===void 0?!0:t}function El(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Ae;Ae=void 0;try{e()}finally{Ae=s}}}let bn=0;class Ag{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class za{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ae||!At||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new Ag(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,kd(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=i)}return s}trigger(e){this.version++,bn++,this.notify(e)}notify(e){$a();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ba()}}}function kd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)kd(i)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Ko=new WeakMap,qs=Symbol(""),Go=Symbol(""),_n=Symbol("");function Ye(t,e,s){if(At&&Ae){let i=Ko.get(t);i||Ko.set(t,i=new Map);let n=i.get(s);n||(i.set(s,n=new za),n.map=i,n.key=s),n.track()}}function es(t,e,s,i,n,r){const o=Ko.get(t);if(!o){bn++;return}const a=l=>{l&&l.trigger()};if($a(),e==="clear")o.forEach(a);else{const l=X(t),c=l&&Ha(s);if(l&&s==="length"){const u=Number(i);o.forEach((d,h)=>{(h==="length"||h===_n||!Nt(h)&&h>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(_n)),e){case"add":l?c&&a(o.get("length")):(a(o.get(qs)),_i(t)&&a(o.get(Go)));break;case"delete":l||(a(o.get(qs)),_i(t)&&a(o.get(Go)));break;case"set":_i(t)&&a(o.get(qs));break}}Ba()}function ti(t){const e=_e(t);return e===t?e:(Ye(e,"iterate",_n),vt(t)?e:e.map(qe))}function qr(t){return Ye(t=_e(t),"iterate",_n),t}const Eg={__proto__:null,[Symbol.iterator](){return bo(this,Symbol.iterator,qe)},concat(...t){return ti(this).concat(...t.map(e=>X(e)?ti(e):e))},entries(){return bo(this,"entries",t=>(t[1]=qe(t[1]),t))},every(t,e){return Vt(this,"every",t,e,void 0,arguments)},filter(t,e){return Vt(this,"filter",t,e,s=>s.map(qe),arguments)},find(t,e){return Vt(this,"find",t,e,qe,arguments)},findIndex(t,e){return Vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Vt(this,"findLast",t,e,qe,arguments)},findLastIndex(t,e){return Vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return _o(this,"includes",t)},indexOf(...t){return _o(this,"indexOf",t)},join(t){return ti(this).join(t)},lastIndexOf(...t){return _o(this,"lastIndexOf",t)},map(t,e){return Vt(this,"map",t,e,void 0,arguments)},pop(){return Fi(this,"pop")},push(...t){return Fi(this,"push",t)},reduce(t,...e){return Pl(this,"reduce",t,e)},reduceRight(t,...e){return Pl(this,"reduceRight",t,e)},shift(){return Fi(this,"shift")},some(t,e){return Vt(this,"some",t,e,void 0,arguments)},splice(...t){return Fi(this,"splice",t)},toReversed(){return ti(this).toReversed()},toSorted(t){return ti(this).toSorted(t)},toSpliced(...t){return ti(this).toSpliced(...t)},unshift(...t){return Fi(this,"unshift",t)},values(){return bo(this,"values",qe)}};function bo(t,e,s){const i=qr(t),n=i[e]();return i!==t&&!vt(t)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.value&&(r.value=s(r.value)),r}),n}const Pg=Array.prototype;function Vt(t,e,s,i,n,r){const o=qr(t),a=o!==t&&!vt(t),l=o[e];if(l!==Pg[e]){const d=l.apply(t,r);return a?qe(d):d}let c=s;o!==t&&(a?c=function(d,h){return s.call(this,qe(d),h,t)}:s.length>2&&(c=function(d,h){return s.call(this,d,h,t)}));const u=l.call(o,c,i);return a&&n?n(u):u}function Pl(t,e,s,i){const n=qr(t);let r=s;return n!==t&&(vt(t)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,t)}):r=function(o,a,l){return s.call(this,o,qe(a),l,t)}),n[e](r,...i)}function _o(t,e,s){const i=_e(t);Ye(i,"iterate",_n);const n=i[e](...s);return(n===-1||n===!1)&&qa(s[0])?(s[0]=_e(s[0]),i[e](...s)):n}function Fi(t,e,s=[]){os(),$a();const i=_e(t)[e].apply(t,s);return Ba(),as(),i}const Tg=La("__proto__,__v_isRef,__isVue"),Cd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Nt));function Og(t){Nt(t)||(t=String(t));const e=_e(this);return Ye(e,"has",t),e.hasOwnProperty(t)}class Ad{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,i){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return i===(n?r?$g:Od:r?Td:Pd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=X(e);if(!n){let l;if(o&&(l=Eg[s]))return l;if(s==="hasOwnProperty")return Og}const a=Reflect.get(e,s,Ze(e)?e:i);return(Nt(s)?Cd.has(s):Tg(s))||(n||Ye(e,"get",s),r)?a:Ze(a)?o&&Ha(s)?a:a.value:Pe(a)?n?Id(a):Kr(a):a}}class Ed extends Ad{constructor(e=!1){super(!1,e)}set(e,s,i,n){let r=e[s];if(!this._isShallow){const l=Cs(r);if(!vt(i)&&!Cs(i)&&(r=_e(r),i=_e(i)),!X(e)&&Ze(r)&&!Ze(i))return l||(r.value=i),!0}const o=X(e)&&Ha(s)?Number(s)<e.length:ye(e,s),a=Reflect.set(e,s,i,Ze(e)?e:n);return e===_e(n)&&(o?Ss(i,r)&&es(e,"set",s,i):es(e,"add",s,i)),a}deleteProperty(e,s){const i=ye(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&i&&es(e,"delete",s,void 0),n}has(e,s){const i=Reflect.has(e,s);return(!Nt(s)||!Cd.has(s))&&Ye(e,"has",s),i}ownKeys(e){return Ye(e,"iterate",X(e)?"length":qs),Reflect.ownKeys(e)}}class Mg extends Ad{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ig=new Ed,Dg=new Mg,Rg=new Ed(!0);const Jo=t=>t,Bn=t=>Reflect.getPrototypeOf(t);function Lg(t,e,s){return function(...i){const n=this.__v_raw,r=_e(n),o=_i(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...i),u=s?Jo:e?vr:qe;return!e&&Ye(r,"iterate",l?Go:qs),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Nn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function jg(t,e){const s={get(n){const r=this.__v_raw,o=_e(r),a=_e(n);t||(Ss(n,a)&&Ye(o,"get",n),Ye(o,"get",a));const{has:l}=Bn(o),c=e?Jo:t?vr:qe;if(l.call(o,n))return c(r.get(n));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!t&&Ye(_e(n),"iterate",qs),Reflect.get(n,"size",n)},has(n){const r=this.__v_raw,o=_e(r),a=_e(n);return t||(Ss(n,a)&&Ye(o,"has",n),Ye(o,"has",a)),n===a?r.has(n):r.has(n)||r.has(a)},forEach(n,r){const o=this,a=o.__v_raw,l=_e(a),c=e?Jo:t?vr:qe;return!t&&Ye(l,"iterate",qs),a.forEach((u,d)=>n.call(r,c(u),c(d),o))}};return et(s,t?{add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear")}:{add(n){!e&&!vt(n)&&!Cs(n)&&(n=_e(n));const r=_e(this);return Bn(r).has.call(r,n)||(r.add(n),es(r,"add",n,n)),this},set(n,r){!e&&!vt(r)&&!Cs(r)&&(r=_e(r));const o=_e(this),{has:a,get:l}=Bn(o);let c=a.call(o,n);c||(n=_e(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,r),c?Ss(r,u)&&es(o,"set",n,r):es(o,"add",n,r),this},delete(n){const r=_e(this),{has:o,get:a}=Bn(r);let l=o.call(r,n);l||(n=_e(n),l=o.call(r,n)),a&&a.call(r,n);const c=r.delete(n);return l&&es(r,"delete",n,void 0),c},clear(){const n=_e(this),r=n.size!==0,o=n.clear();return r&&es(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Lg(n,t,e)}),s}function Va(t,e){const s=jg(t,e);return(i,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(ye(s,n)&&n in i?s:i,n,r)}const Fg={get:Va(!1,!1)},Hg={get:Va(!1,!0)},Ug={get:Va(!0,!1)};const Pd=new WeakMap,Td=new WeakMap,Od=new WeakMap,$g=new WeakMap;function Bg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ng(t){return t.__v_skip||!Object.isExtensible(t)?0:Bg(fg(t))}function Kr(t){return Cs(t)?t:Wa(t,!1,Ig,Fg,Pd)}function Md(t){return Wa(t,!1,Rg,Hg,Td)}function Id(t){return Wa(t,!0,Dg,Ug,Od)}function Wa(t,e,s,i,n){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Ng(t);if(r===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,r===2?i:s);return n.set(t,a),a}function yi(t){return Cs(t)?yi(t.__v_raw):!!(t&&t.__v_isReactive)}function Cs(t){return!!(t&&t.__v_isReadonly)}function vt(t){return!!(t&&t.__v_isShallow)}function qa(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function zg(t){return!ye(t,"__v_skip")&&Object.isExtensible(t)&&fd(t,"__v_skip",!0),t}const qe=t=>Pe(t)?Kr(t):t,vr=t=>Pe(t)?Id(t):t;function Ze(t){return t?t.__v_isRef===!0:!1}function Ks(t){return Dd(t,!1)}function Vg(t){return Dd(t,!0)}function Dd(t,e){return Ze(t)?t:new Wg(t,e)}class Wg{constructor(e,s){this.dep=new za,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:_e(e),this._value=s?e:qe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,i=this.__v_isShallow||vt(e)||Cs(e);e=i?e:_e(e),Ss(e,s)&&(this._rawValue=e,this._value=i?e:qe(e),this.dep.trigger())}}function G(t){return Ze(t)?t.value:t}const qg={get:(t,e,s)=>e==="__v_raw"?t:G(Reflect.get(t,e,s)),set:(t,e,s,i)=>{const n=t[e];return Ze(n)&&!Ze(s)?(n.value=s,!0):Reflect.set(t,e,s,i)}};function Rd(t){return yi(t)?t:new Proxy(t,qg)}class Kg{constructor(e,s,i){this.fn=e,this.setter=s,this._value=void 0,this.dep=new za(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return yd(this,!0),!0}get value(){const e=this.dep.track();return xd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Gg(t,e,s=!1){let i,n;return oe(t)?i=t:(i=t.get,n=t.set),new Kg(i,n,s)}const zn={},wr=new WeakMap;let Us;function Jg(t,e=!1,s=Us){if(s){let i=wr.get(s);i||wr.set(s,i=[]),i.push(t)}}function Yg(t,e,s=Se){const{immediate:i,deep:n,once:r,scheduler:o,augmentJob:a,call:l}=s,c=w=>n?w:vt(w)||n===!1||n===0?ts(w,1):ts(w);let u,d,h,f,g=!1,p=!1;if(Ze(t)?(d=()=>t.value,g=vt(t)):yi(t)?(d=()=>c(t),g=!0):X(t)?(p=!0,g=t.some(w=>yi(w)||vt(w)),d=()=>t.map(w=>{if(Ze(w))return w.value;if(yi(w))return c(w);if(oe(w))return l?l(w,2):w()})):oe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){os();try{h()}finally{as()}}const w=Us;Us=u;try{return l?l(t,3,[f]):t(f)}finally{Us=w}}:d=$t,e&&n){const w=d,C=n===!0?1/0:n;d=()=>ts(w(),C)}const m=kg(),_=()=>{u.stop(),m&&m.active&&Fa(m.effects,u)};if(r&&e){const w=e;e=(...C)=>{w(...C),_()}}let x=p?new Array(t.length).fill(zn):zn;const k=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(e){const C=u.run();if(n||g||(p?C.some((A,v)=>Ss(A,x[v])):Ss(C,x))){h&&h();const A=Us;Us=u;try{const v=[C,x===zn?void 0:p&&x[0]===zn?[]:x,f];x=C,l?l(e,3,v):e(...v)}finally{Us=A}}}else u.run()};return a&&a(k),u=new bd(d),u.scheduler=o?()=>o(k,!1):k,f=w=>Jg(w,!1,u),h=u.onStop=()=>{const w=wr.get(u);if(w){if(l)l(w,4);else for(const C of w)C();wr.delete(u)}},e?i?k(!0):x=u.run():o?o(k.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function ts(t,e=1/0,s){if(e<=0||!Pe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Ze(t))ts(t.value,e,s);else if(X(t))for(let i=0;i<t.length;i++)ts(t[i],e,s);else if(Ri(t)||_i(t))t.forEach(i=>{ts(i,e,s)});else if(hd(t)){for(const i in t)ts(t[i],e,s);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&ts(t[i],e,s)}return t}/**
* @vue/runtime-core v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ln(t,e,s,i){try{return i?t(...i):t()}catch(n){Gr(n,e,s)}}function zt(t,e,s,i){if(oe(t)){const n=Ln(t,e,s,i);return n&&ud(n)&&n.catch(r=>{Gr(r,e,s)}),n}if(X(t)){const n=[];for(let r=0;r<t.length;r++)n.push(zt(t[r],e,s,i));return n}}function Gr(t,e,s,i=!0){const n=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Se;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){os(),Ln(r,null,10,[t,l,c]),as();return}}Xg(t,s,n,i,o)}function Xg(t,e,s,i=!0,n=!1){if(n)throw t;console.error(t)}const ot=[];let Lt=-1;const vi=[];let gs=null,fi=0;const Ld=Promise.resolve();let xr=null;function Ka(t){const e=xr||Ld;return t?e.then(this?t.bind(this):t):e}function Qg(t){let e=Lt+1,s=ot.length;for(;e<s;){const i=e+s>>>1,n=ot[i],r=yn(n);r<t||r===t&&n.flags&2?e=i+1:s=i}return e}function Ga(t){if(!(t.flags&1)){const e=yn(t),s=ot[ot.length-1];!s||!(t.flags&2)&&e>=yn(s)?ot.push(t):ot.splice(Qg(e),0,t),t.flags|=1,jd()}}function jd(){xr||(xr=Ld.then(Hd))}function Zg(t){X(t)?vi.push(...t):gs&&t.id===-1?gs.splice(fi+1,0,t):t.flags&1||(vi.push(t),t.flags|=1),jd()}function Tl(t,e,s=Lt+1){for(;s<ot.length;s++){const i=ot[s];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ot.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Fd(t){if(vi.length){const e=[...new Set(vi)].sort((s,i)=>yn(s)-yn(i));if(vi.length=0,gs){gs.push(...e);return}for(gs=e,fi=0;fi<gs.length;fi++){const s=gs[fi];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}gs=null,fi=0}}const yn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Hd(t){try{for(Lt=0;Lt<ot.length;Lt++){const e=ot[Lt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ln(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Lt<ot.length;Lt++){const e=ot[Lt];e&&(e.flags&=-2)}Lt=-1,ot.length=0,Fd(),xr=null,(ot.length||vi.length)&&Hd()}}let mt=null,Ud=null;function Sr(t){const e=mt;return mt=t,Ud=t&&t.type.__scopeId||null,e}function Ws(t,e=mt,s){if(!e||t._n)return t;const i=(...n)=>{i._d&&Ul(-1);const r=Sr(e);let o;try{o=t(...n)}finally{Sr(r),i._d&&Ul(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function TA(t,e){if(mt===null)return t;const s=Qr(mt),i=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[r,o,a,l=Se]=e[n];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&ts(o),i.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ms(t,e,s,i){const n=t.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(os(),zt(l,s,8,[t.el,a,t,e]),as())}}const ep=Symbol("_vte"),tp=t=>t.__isTeleport,sp=Symbol("_leaveCb");function Ja(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ja(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function jn(t,e){return oe(t)?et({name:t.name},e,{setup:t}):t}function $d(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function nn(t,e,s,i,n=!1){if(X(t)){t.forEach((g,p)=>nn(g,e&&(X(e)?e[p]:e),s,i,n));return}if(rn(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&nn(t,e,s,i.component.subTree);return}const r=i.shapeFlag&4?Qr(i.component):i.el,o=n?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Se?a.refs={}:a.refs,d=a.setupState,h=_e(d),f=d===Se?cd:g=>ye(h,g);if(c!=null&&c!==l){if(Fe(c))u[c]=null,f(c)&&(d[c]=null);else if(Ze(c)){c.value=null;const g=e;g.k&&(u[g.k]=null)}}if(oe(l))Ln(l,a,12,[o,u]);else{const g=Fe(l),p=Ze(l);if(g||p){const m=()=>{if(t.f){const _=g?f(l)?d[l]:u[l]:l.value;if(n)X(_)&&Fa(_,r);else if(X(_))_.includes(r)||_.push(r);else if(g)u[l]=[r],f(l)&&(d[l]=u[l]);else{const x=[r];l.value=x,t.k&&(u[t.k]=x)}}else g?(u[l]=o,f(l)&&(d[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,gt(m,s)):m()}}}Wr().requestIdleCallback;Wr().cancelIdleCallback;const rn=t=>!!t.type.__asyncLoader,Bd=t=>t.type.__isKeepAlive;function ip(t,e){Nd(t,"a",e)}function np(t,e){Nd(t,"da",e)}function Nd(t,e,s=Xe){const i=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Jr(e,i,s),s){let n=s.parent;for(;n&&n.parent;)Bd(n.parent.vnode)&&rp(i,e,s,n),n=n.parent}}function rp(t,e,s,i){const n=Jr(e,t,i,!0);zd(()=>{Fa(i[e],n)},s)}function Jr(t,e,s=Xe,i=!1){if(s){const n=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{os();const a=Fn(s),l=zt(e,s,t,o);return a(),as(),l});return i?n.unshift(r):n.push(r),r}}const ls=t=>(e,s=Xe)=>{(!wn||t==="sp")&&Jr(t,(...i)=>e(...i),s)},op=ls("bm"),Ya=ls("m"),ap=ls("bu"),lp=ls("u"),cp=ls("bum"),zd=ls("um"),up=ls("sp"),dp=ls("rtg"),hp=ls("rtc");function fp(t,e=Xe){Jr("ec",t,e)}const Vd="components";function Wd(t,e){return Kd(Vd,t,!0,e)||t}const qd=Symbol.for("v-ndc");function Yo(t){return Fe(t)?Kd(Vd,t,!1)||t:t||qd}function Kd(t,e,s=!0,i=!1){const n=mt||Xe;if(n){const r=n.type;{const a=em(r,!1);if(a&&(a===e||a===wt(e)||a===Vr(wt(e))))return r}const o=Ol(n[t]||r[t],e)||Ol(n.appContext[t],e);return!o&&i?r:o}}function Ol(t,e){return t&&(t[e]||t[wt(e)]||t[Vr(wt(e))])}function ps(t,e,s,i){let n;const r=s,o=X(t);if(o||Fe(t)){const a=o&&yi(t);let l=!1,c=!1;a&&(l=!vt(t),c=Cs(t),t=qr(t)),n=new Array(t.length);for(let u=0,d=t.length;u<d;u++)n[u]=e(l?c?vr(qe(t[u])):qe(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,r)}else if(Pe(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,r)}}else n=[];return n}const Xo=t=>t?ph(t)?Qr(t):Xo(t.parent):null,on=et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xo(t.parent),$root:t=>Xo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Jd(t),$forceUpdate:t=>t.f||(t.f=()=>{Ga(t.update)}),$nextTick:t=>t.n||(t.n=Ka.bind(t.proxy)),$watch:t=>Rp.bind(t)}),yo=(t,e)=>t!==Se&&!t.__isScriptSetup&&ye(t,e),gp={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return s[e];case 3:return r[e]}else{if(yo(i,e))return o[e]=1,i[e];if(n!==Se&&ye(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&ye(c,e))return o[e]=3,r[e];if(s!==Se&&ye(s,e))return o[e]=4,s[e];Qo&&(o[e]=0)}}const u=on[e];let d,h;if(u)return e==="$attrs"&&Ye(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==Se&&ye(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,ye(h,e))return h[e]},set({_:t},e,s){const{data:i,setupState:n,ctx:r}=t;return yo(n,e)?(n[e]=s,!0):i!==Se&&ye(i,e)?(i[e]=s,!0):ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:i,appContext:n,propsOptions:r,type:o}},a){let l,c;return!!(s[a]||t!==Se&&a[0]!=="$"&&ye(t,a)||yo(e,a)||(l=r[0])&&ye(l,a)||ye(i,a)||ye(on,a)||ye(n.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ye(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ml(t){return X(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Qo=!0;function pp(t){const e=Jd(t),s=t.proxy,i=t.ctx;Qo=!1,e.beforeCreate&&Il(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:_,beforeUnmount:x,destroyed:k,unmounted:w,render:C,renderTracked:A,renderTriggered:v,errorCaptured:T,serverPrefetch:P,expose:L,inheritAttrs:H,components:q,directives:se,filters:Re}=e;if(c&&mp(c,i,null),o)for(const W in o){const Q=o[W];oe(Q)&&(i[W]=Q.bind(s))}if(n){const W=n.call(s,s);Pe(W)&&(t.data=Kr(W))}if(Qo=!0,r)for(const W in r){const Q=r[W],ge=oe(Q)?Q.bind(s,s):oe(Q.get)?Q.get.bind(s,s):$t,st=!oe(Q)&&oe(Q.set)?Q.set.bind(s):$t,it=Oe({get:ge,set:st});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>it.value,set:Le=>it.value=Le})}if(a)for(const W in a)Gd(a[W],i,s,W);if(l){const W=oe(l)?l.call(s):l;Reflect.ownKeys(W).forEach(Q=>{lr(Q,W[Q])})}u&&Il(u,t,"c");function V(W,Q){X(Q)?Q.forEach(ge=>W(ge.bind(s))):Q&&W(Q.bind(s))}if(V(op,d),V(Ya,h),V(ap,f),V(lp,g),V(ip,p),V(np,m),V(fp,T),V(hp,A),V(dp,v),V(cp,x),V(zd,w),V(up,P),X(L))if(L.length){const W=t.exposed||(t.exposed={});L.forEach(Q=>{Object.defineProperty(W,Q,{get:()=>s[Q],set:ge=>s[Q]=ge,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===$t&&(t.render=C),H!=null&&(t.inheritAttrs=H),q&&(t.components=q),se&&(t.directives=se),P&&$d(t)}function mp(t,e,s=$t){X(t)&&(t=Zo(t));for(const i in t){const n=t[i];let r;Pe(n)?"default"in n?r=Et(n.from||i,n.default,!0):r=Et(n.from||i):r=Et(n),Ze(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Il(t,e,s){zt(X(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,s)}function Gd(t,e,s,i){let n=i.includes(".")?lh(s,i):()=>s[i];if(Fe(t)){const r=e[t];oe(r)&&an(n,r)}else if(oe(t))an(n,t.bind(s));else if(Pe(t))if(X(t))t.forEach(r=>Gd(r,e,s,i));else{const r=oe(t.handler)?t.handler.bind(s):e[t.handler];oe(r)&&an(n,r,t)}}function Jd(t){const e=t.type,{mixins:s,extends:i}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!n.length&&!s&&!i?l=e:(l={},n.length&&n.forEach(c=>kr(l,c,o,!0)),kr(l,e,o)),Pe(e)&&r.set(e,l),l}function kr(t,e,s,i=!1){const{mixins:n,extends:r}=e;r&&kr(t,r,s,!0),n&&n.forEach(o=>kr(t,o,s,!0));for(const o in e)if(!(i&&o==="expose")){const a=bp[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const bp={data:Dl,props:Rl,emits:Rl,methods:Wi,computed:Wi,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:Wi,directives:Wi,watch:yp,provide:Dl,inject:_p};function Dl(t,e){return e?t?function(){return et(oe(t)?t.call(this,this):t,oe(e)?e.call(this,this):e)}:e:t}function _p(t,e){return Wi(Zo(t),Zo(e))}function Zo(t){if(X(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function rt(t,e){return t?[...new Set([].concat(t,e))]:e}function Wi(t,e){return t?et(Object.create(null),t,e):e}function Rl(t,e){return t?X(t)&&X(e)?[...new Set([...t,...e])]:et(Object.create(null),Ml(t),Ml(e??{})):e}function yp(t,e){if(!t)return e;if(!e)return t;const s=et(Object.create(null),t);for(const i in e)s[i]=rt(t[i],e[i]);return s}function Yd(){return{app:null,config:{isNativeTag:cd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vp=0;function wp(t,e){return function(i,n=null){oe(i)||(i=et({},i)),n!=null&&!Pe(n)&&(n=null);const r=Yd(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:vp++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:sm,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&oe(u.install)?(o.add(u),u.install(c,...d)):oe(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||ee(i,n);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Qr(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(zt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=wi;wi=c;try{return u()}finally{wi=d}}};return c}}let wi=null;function lr(t,e){if(Xe){let s=Xe.provides;const i=Xe.parent&&Xe.parent.provides;i===s&&(s=Xe.provides=Object.create(i)),s[t]=e}}function Et(t,e,s=!1){const i=Jp();if(i||wi){let n=wi?wi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&oe(e)?e.call(i&&i.proxy):e}}const Xd={},Qd=()=>Object.create(Xd),Zd=t=>Object.getPrototypeOf(t)===Xd;function xp(t,e,s,i=!1){const n={},r=Qd();t.propsDefaults=Object.create(null),eh(t,e,n,r);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=i?n:Md(n):t.type.props?t.props=n:t.props=r,t.attrs=r}function Sp(t,e,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=t,a=_e(n),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Yr(t.emitsOptions,h))continue;const f=e[h];if(l)if(ye(r,h))f!==r[h]&&(r[h]=f,c=!0);else{const g=wt(h);n[g]=ea(l,a,g,f,t,!1)}else f!==r[h]&&(r[h]=f,c=!0)}}}else{eh(t,e,n,r)&&(c=!0);let u;for(const d in a)(!e||!ye(e,d)&&((u=Qs(d))===d||!ye(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(n[d]=ea(l,a,d,void 0,t,!0)):delete n[d]);if(r!==a)for(const d in r)(!e||!ye(e,d))&&(delete r[d],c=!0)}c&&es(t.attrs,"set","")}function eh(t,e,s,i){const[n,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(en(l))continue;const c=e[l];let u;n&&ye(n,u=wt(l))?!r||!r.includes(u)?s[u]=c:(a||(a={}))[u]=c:Yr(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=_e(s),c=a||Se;for(let u=0;u<r.length;u++){const d=r[u];s[d]=ea(n,l,d,c[d],t,!ye(c,d))}}return o}function ea(t,e,s,i,n,r){const o=t[s];if(o!=null){const a=ye(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&oe(l)){const{propsDefaults:c}=n;if(s in c)i=c[s];else{const u=Fn(n);i=c[s]=l.call(null,e),u()}}else i=l;n.ce&&n.ce._setProp(s,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Qs(s))&&(i=!0))}return i}const kp=new WeakMap;function th(t,e,s=!1){const i=s?kp:e.propsCache,n=i.get(t);if(n)return n;const r=t.props,o={},a=[];let l=!1;if(!oe(t)){const u=d=>{l=!0;const[h,f]=th(d,e,!0);et(o,h),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Pe(t)&&i.set(t,bi),bi;if(X(r))for(let u=0;u<r.length;u++){const d=wt(r[u]);Ll(d)&&(o[d]=Se)}else if(r)for(const u in r){const d=wt(u);if(Ll(d)){const h=r[u],f=o[d]=X(h)||oe(h)?{type:h}:et({},h),g=f.type;let p=!1,m=!0;if(X(g))for(let _=0;_<g.length;++_){const x=g[_],k=oe(x)&&x.name;if(k==="Boolean"){p=!0;break}else k==="String"&&(m=!1)}else p=oe(g)&&g.name==="Boolean";f[0]=p,f[1]=m,(p||ye(f,"default"))&&a.push(d)}}const c=[o,a];return Pe(t)&&i.set(t,c),c}function Ll(t){return t[0]!=="$"&&!en(t)}const Xa=t=>t==="_"||t==="_ctx"||t==="$stable",Qa=t=>X(t)?t.map(Ut):[Ut(t)],Cp=(t,e,s)=>{if(e._n)return e;const i=Ws((...n)=>Qa(e(...n)),s);return i._c=!1,i},sh=(t,e,s)=>{const i=t._ctx;for(const n in t){if(Xa(n))continue;const r=t[n];if(oe(r))e[n]=Cp(n,r,i);else if(r!=null){const o=Qa(r);e[n]=()=>o}}},ih=(t,e)=>{const s=Qa(e);t.slots.default=()=>s},nh=(t,e,s)=>{for(const i in e)(s||!Xa(i))&&(t[i]=e[i])},Ap=(t,e,s)=>{const i=t.slots=Qd();if(t.vnode.shapeFlag&32){const n=e._;n?(nh(i,e,s),s&&fd(i,"_",n,!0)):sh(e,i)}else e&&ih(t,e)},Ep=(t,e,s)=>{const{vnode:i,slots:n}=t;let r=!0,o=Se;if(i.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:nh(n,e,s):(r=!e.$stable,sh(e,n)),o=e}else e&&(ih(t,e),o={default:1});if(r)for(const a in n)!Xa(a)&&o[a]==null&&delete n[a]},gt=Bp;function Pp(t){return Tp(t)}function Tp(t,e){const s=Wr();s.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=$t,insertStaticContent:g}=t,p=(y,S,E,M=null,D=null,O=null,U=void 0,F=null,j=!!S.dynamicChildren)=>{if(y===S)return;y&&!Hi(y,S)&&(M=I(y),Le(y,D,O,!0),y=null),S.patchFlag===-2&&(j=!1,S.dynamicChildren=null);const{type:R,ref:Y,shapeFlag:N}=S;switch(R){case Xr:m(y,S,E,M);break;case As:_(y,S,E,M);break;case cr:y==null&&x(S,E,M,U);break;case Ke:q(y,S,E,M,D,O,U,F,j);break;default:N&1?C(y,S,E,M,D,O,U,F,j):N&6?se(y,S,E,M,D,O,U,F,j):(N&64||N&128)&&R.process(y,S,E,M,D,O,U,F,j,K)}Y!=null&&D?nn(Y,y&&y.ref,O,S||y,!S):Y==null&&y&&y.ref!=null&&nn(y.ref,null,O,y,!0)},m=(y,S,E,M)=>{if(y==null)i(S.el=a(S.children),E,M);else{const D=S.el=y.el;S.children!==y.children&&c(D,S.children)}},_=(y,S,E,M)=>{y==null?i(S.el=l(S.children||""),E,M):S.el=y.el},x=(y,S,E,M)=>{[y.el,y.anchor]=g(y.children,S,E,M,y.el,y.anchor)},k=({el:y,anchor:S},E,M)=>{let D;for(;y&&y!==S;)D=h(y),i(y,E,M),y=D;i(S,E,M)},w=({el:y,anchor:S})=>{let E;for(;y&&y!==S;)E=h(y),n(y),y=E;n(S)},C=(y,S,E,M,D,O,U,F,j)=>{S.type==="svg"?U="svg":S.type==="math"&&(U="mathml"),y==null?A(S,E,M,D,O,U,F,j):P(y,S,D,O,U,F,j)},A=(y,S,E,M,D,O,U,F)=>{let j,R;const{props:Y,shapeFlag:N,transition:J,dirs:te}=y;if(j=y.el=o(y.type,O,Y&&Y.is,Y),N&8?u(j,y.children):N&16&&T(y.children,j,null,M,D,vo(y,O),U,F),te&&Ms(y,null,M,"created"),v(j,y,y.scopeId,U,M),Y){for(const ke in Y)ke!=="value"&&!en(ke)&&r(j,ke,null,Y[ke],O,M);"value"in Y&&r(j,"value",null,Y.value,O),(R=Y.onVnodeBeforeMount)&&Dt(R,M,y)}te&&Ms(y,null,M,"beforeMount");const fe=Op(D,J);fe&&J.beforeEnter(j),i(j,S,E),((R=Y&&Y.onVnodeMounted)||fe||te)&&gt(()=>{R&&Dt(R,M,y),fe&&J.enter(j),te&&Ms(y,null,M,"mounted")},D)},v=(y,S,E,M,D)=>{if(E&&f(y,E),M)for(let O=0;O<M.length;O++)f(y,M[O]);if(D){let O=D.subTree;if(S===O||uh(O.type)&&(O.ssContent===S||O.ssFallback===S)){const U=D.vnode;v(y,U,U.scopeId,U.slotScopeIds,D.parent)}}},T=(y,S,E,M,D,O,U,F,j=0)=>{for(let R=j;R<y.length;R++){const Y=y[R]=F?ms(y[R]):Ut(y[R]);p(null,Y,S,E,M,D,O,U,F)}},P=(y,S,E,M,D,O,U)=>{const F=S.el=y.el;let{patchFlag:j,dynamicChildren:R,dirs:Y}=S;j|=y.patchFlag&16;const N=y.props||Se,J=S.props||Se;let te;if(E&&Is(E,!1),(te=J.onVnodeBeforeUpdate)&&Dt(te,E,S,y),Y&&Ms(S,y,E,"beforeUpdate"),E&&Is(E,!0),(N.innerHTML&&J.innerHTML==null||N.textContent&&J.textContent==null)&&u(F,""),R?L(y.dynamicChildren,R,F,E,M,vo(S,D),O):U||Q(y,S,F,null,E,M,vo(S,D),O,!1),j>0){if(j&16)H(F,N,J,E,D);else if(j&2&&N.class!==J.class&&r(F,"class",null,J.class,D),j&4&&r(F,"style",N.style,J.style,D),j&8){const fe=S.dynamicProps;for(let ke=0;ke<fe.length;ke++){const ve=fe[ke],lt=N[ve],ct=J[ve];(ct!==lt||ve==="value")&&r(F,ve,lt,ct,D,E)}}j&1&&y.children!==S.children&&u(F,S.children)}else!U&&R==null&&H(F,N,J,E,D);((te=J.onVnodeUpdated)||Y)&&gt(()=>{te&&Dt(te,E,S,y),Y&&Ms(S,y,E,"updated")},M)},L=(y,S,E,M,D,O,U)=>{for(let F=0;F<S.length;F++){const j=y[F],R=S[F],Y=j.el&&(j.type===Ke||!Hi(j,R)||j.shapeFlag&198)?d(j.el):E;p(j,R,Y,null,M,D,O,U,!0)}},H=(y,S,E,M,D)=>{if(S!==E){if(S!==Se)for(const O in S)!en(O)&&!(O in E)&&r(y,O,S[O],null,D,M);for(const O in E){if(en(O))continue;const U=E[O],F=S[O];U!==F&&O!=="value"&&r(y,O,F,U,D,M)}"value"in E&&r(y,"value",S.value,E.value,D)}},q=(y,S,E,M,D,O,U,F,j)=>{const R=S.el=y?y.el:a(""),Y=S.anchor=y?y.anchor:a("");let{patchFlag:N,dynamicChildren:J,slotScopeIds:te}=S;te&&(F=F?F.concat(te):te),y==null?(i(R,E,M),i(Y,E,M),T(S.children||[],E,Y,D,O,U,F,j)):N>0&&N&64&&J&&y.dynamicChildren?(L(y.dynamicChildren,J,E,D,O,U,F),(S.key!=null||D&&S===D.subTree)&&rh(y,S,!0)):Q(y,S,E,Y,D,O,U,F,j)},se=(y,S,E,M,D,O,U,F,j)=>{S.slotScopeIds=F,y==null?S.shapeFlag&512?D.ctx.activate(S,E,M,U,j):Re(S,E,M,D,O,U,j):ce(y,S,j)},Re=(y,S,E,M,D,O,U)=>{const F=y.component=Gp(y,M,D);if(Bd(y)&&(F.ctx.renderer=K),Yp(F,!1,U),F.asyncDep){if(D&&D.registerDep(F,V,U),!y.el){const j=F.subTree=ee(As);_(null,j,S,E),y.placeholder=j.el}}else V(F,y,S,E,D,O,U)},ce=(y,S,E)=>{const M=S.component=y.component;if(Up(y,S,E))if(M.asyncDep&&!M.asyncResolved){W(M,S,E);return}else M.next=S,M.update();else S.el=y.el,M.vnode=S},V=(y,S,E,M,D,O,U)=>{const F=()=>{if(y.isMounted){let{next:N,bu:J,u:te,parent:fe,vnode:ke}=y;{const Mt=oh(y);if(Mt){N&&(N.el=ke.el,W(y,N,U)),Mt.asyncDep.then(()=>{y.isUnmounted||F()});return}}let ve=N,lt;Is(y,!1),N?(N.el=ke.el,W(y,N,U)):N=ke,J&&ar(J),(lt=N.props&&N.props.onVnodeBeforeUpdate)&&Dt(lt,fe,N,ke),Is(y,!0);const ct=Fl(y),Ot=y.subTree;y.subTree=ct,p(Ot,ct,d(Ot.el),I(Ot),y,D,O),N.el=ct.el,ve===null&&$p(y,ct.el),te&&gt(te,D),(lt=N.props&&N.props.onVnodeUpdated)&&gt(()=>Dt(lt,fe,N,ke),D)}else{let N;const{el:J,props:te}=S,{bm:fe,m:ke,parent:ve,root:lt,type:ct}=y,Ot=rn(S);Is(y,!1),fe&&ar(fe),!Ot&&(N=te&&te.onVnodeBeforeMount)&&Dt(N,ve,S),Is(y,!0);{lt.ce&&lt.ce._def.shadowRoot!==!1&&lt.ce._injectChildStyle(ct);const Mt=y.subTree=Fl(y);p(null,Mt,E,M,y,D,O),S.el=Mt.el}if(ke&&gt(ke,D),!Ot&&(N=te&&te.onVnodeMounted)){const Mt=S;gt(()=>Dt(N,ve,Mt),D)}(S.shapeFlag&256||ve&&rn(ve.vnode)&&ve.vnode.shapeFlag&256)&&y.a&&gt(y.a,D),y.isMounted=!0,S=E=M=null}};y.scope.on();const j=y.effect=new bd(F);y.scope.off();const R=y.update=j.run.bind(j),Y=y.job=j.runIfDirty.bind(j);Y.i=y,Y.id=y.uid,j.scheduler=()=>Ga(Y),Is(y,!0),R()},W=(y,S,E)=>{S.component=y;const M=y.vnode.props;y.vnode=S,y.next=null,Sp(y,S.props,M,E),Ep(y,S.children,E),os(),Tl(y),as()},Q=(y,S,E,M,D,O,U,F,j=!1)=>{const R=y&&y.children,Y=y?y.shapeFlag:0,N=S.children,{patchFlag:J,shapeFlag:te}=S;if(J>0){if(J&128){st(R,N,E,M,D,O,U,F,j);return}else if(J&256){ge(R,N,E,M,D,O,U,F,j);return}}te&8?(Y&16&&He(R,D,O),N!==R&&u(E,N)):Y&16?te&16?st(R,N,E,M,D,O,U,F,j):He(R,D,O,!0):(Y&8&&u(E,""),te&16&&T(N,E,M,D,O,U,F,j))},ge=(y,S,E,M,D,O,U,F,j)=>{y=y||bi,S=S||bi;const R=y.length,Y=S.length,N=Math.min(R,Y);let J;for(J=0;J<N;J++){const te=S[J]=j?ms(S[J]):Ut(S[J]);p(y[J],te,E,null,D,O,U,F,j)}R>Y?He(y,D,O,!0,!1,N):T(S,E,M,D,O,U,F,j,N)},st=(y,S,E,M,D,O,U,F,j)=>{let R=0;const Y=S.length;let N=y.length-1,J=Y-1;for(;R<=N&&R<=J;){const te=y[R],fe=S[R]=j?ms(S[R]):Ut(S[R]);if(Hi(te,fe))p(te,fe,E,null,D,O,U,F,j);else break;R++}for(;R<=N&&R<=J;){const te=y[N],fe=S[J]=j?ms(S[J]):Ut(S[J]);if(Hi(te,fe))p(te,fe,E,null,D,O,U,F,j);else break;N--,J--}if(R>N){if(R<=J){const te=J+1,fe=te<Y?S[te].el:M;for(;R<=J;)p(null,S[R]=j?ms(S[R]):Ut(S[R]),E,fe,D,O,U,F,j),R++}}else if(R>J)for(;R<=N;)Le(y[R],D,O,!0),R++;else{const te=R,fe=R,ke=new Map;for(R=fe;R<=J;R++){const ft=S[R]=j?ms(S[R]):Ut(S[R]);ft.key!=null&&ke.set(ft.key,R)}let ve,lt=0;const ct=J-fe+1;let Ot=!1,Mt=0;const ji=new Array(ct);for(R=0;R<ct;R++)ji[R]=0;for(R=te;R<=N;R++){const ft=y[R];if(lt>=ct){Le(ft,D,O,!0);continue}let It;if(ft.key!=null)It=ke.get(ft.key);else for(ve=fe;ve<=J;ve++)if(ji[ve-fe]===0&&Hi(ft,S[ve])){It=ve;break}It===void 0?Le(ft,D,O,!0):(ji[It-fe]=R+1,It>=Mt?Mt=It:Ot=!0,p(ft,S[It],E,null,D,O,U,F,j),lt++)}const xl=Ot?Mp(ji):bi;for(ve=xl.length-1,R=ct-1;R>=0;R--){const ft=fe+R,It=S[ft],Sl=S[ft+1],kl=ft+1<Y?Sl.el||Sl.placeholder:M;ji[R]===0?p(null,It,E,kl,D,O,U,F,j):Ot&&(ve<0||R!==xl[ve]?it(It,E,kl,2):ve--)}}},it=(y,S,E,M,D=null)=>{const{el:O,type:U,transition:F,children:j,shapeFlag:R}=y;if(R&6){it(y.component.subTree,S,E,M);return}if(R&128){y.suspense.move(S,E,M);return}if(R&64){U.move(y,S,E,K);return}if(U===Ke){i(O,S,E);for(let N=0;N<j.length;N++)it(j[N],S,E,M);i(y.anchor,S,E);return}if(U===cr){k(y,S,E);return}if(M!==2&&R&1&&F)if(M===0)F.beforeEnter(O),i(O,S,E),gt(()=>F.enter(O),D);else{const{leave:N,delayLeave:J,afterLeave:te}=F,fe=()=>{y.ctx.isUnmounted?n(O):i(O,S,E)},ke=()=>{O._isLeaving&&O[sp](!0),N(O,()=>{fe(),te&&te()})};J?J(O,fe,ke):ke()}else i(O,S,E)},Le=(y,S,E,M=!1,D=!1)=>{const{type:O,props:U,ref:F,children:j,dynamicChildren:R,shapeFlag:Y,patchFlag:N,dirs:J,cacheIndex:te}=y;if(N===-2&&(D=!1),F!=null&&(os(),nn(F,null,E,y,!0),as()),te!=null&&(S.renderCache[te]=void 0),Y&256){S.ctx.deactivate(y);return}const fe=Y&1&&J,ke=!rn(y);let ve;if(ke&&(ve=U&&U.onVnodeBeforeUnmount)&&Dt(ve,S,y),Y&6)Tt(y.component,E,M);else{if(Y&128){y.suspense.unmount(E,M);return}fe&&Ms(y,null,S,"beforeUnmount"),Y&64?y.type.remove(y,S,E,K,M):R&&!R.hasOnce&&(O!==Ke||N>0&&N&64)?He(R,S,E,!1,!0):(O===Ke&&N&384||!D&&Y&16)&&He(j,S,E),M&&_t(y)}(ke&&(ve=U&&U.onVnodeUnmounted)||fe)&&gt(()=>{ve&&Dt(ve,S,y),fe&&Ms(y,null,S,"unmounted")},E)},_t=y=>{const{type:S,el:E,anchor:M,transition:D}=y;if(S===Ke){at(E,M);return}if(S===cr){w(y);return}const O=()=>{n(E),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(y.shapeFlag&1&&D&&!D.persisted){const{leave:U,delayLeave:F}=D,j=()=>U(E,O);F?F(y.el,O,j):j()}else O()},at=(y,S)=>{let E;for(;y!==S;)E=h(y),n(y),y=E;n(S)},Tt=(y,S,E)=>{const{bum:M,scope:D,job:O,subTree:U,um:F,m:j,a:R}=y;jl(j),jl(R),M&&ar(M),D.stop(),O&&(O.flags|=8,Le(U,y,S,E)),F&&gt(F,S),gt(()=>{y.isUnmounted=!0},S)},He=(y,S,E,M=!1,D=!1,O=0)=>{for(let U=O;U<y.length;U++)Le(y[U],S,E,M,D)},I=y=>{if(y.shapeFlag&6)return I(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const S=h(y.anchor||y.el),E=S&&S[ep];return E?h(E):S};let z=!1;const $=(y,S,E)=>{y==null?S._vnode&&Le(S._vnode,null,null,!0):p(S._vnode||null,y,S,null,null,null,E),S._vnode=y,z||(z=!0,Tl(),Fd(),z=!1)},K={p,um:Le,m:it,r:_t,mt:Re,mc:T,pc:Q,pbc:L,n:I,o:t};return{render:$,hydrate:void 0,createApp:wp($)}}function vo({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Is({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Op(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rh(t,e,s=!1){const i=t.children,n=e.children;if(X(i)&&X(n))for(let r=0;r<i.length;r++){const o=i[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=ms(n[r]),a.el=o.el),!s&&a.patchFlag!==-2&&rh(o,a)),a.type===Xr&&a.patchFlag!==-1&&(a.el=o.el),a.type===As&&!a.el&&(a.el=o.el)}}function Mp(t){const e=t.slice(),s=[0];let i,n,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=s[s.length-1],t[n]<c){e[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<c?r=a+1:o=a;c<t[s[r]]&&(r>0&&(e[i]=s[r-1]),s[r]=i)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function oh(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:oh(e)}function jl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ip=Symbol.for("v-scx"),Dp=()=>Et(Ip);function an(t,e,s){return ah(t,e,s)}function ah(t,e,s=Se){const{immediate:i,deep:n,flush:r,once:o}=s,a=et({},s),l=e&&i||!e&&r!=="post";let c;if(wn){if(r==="sync"){const f=Dp();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=$t,f.resume=$t,f.pause=$t,f}}const u=Xe;a.call=(f,g,p)=>zt(f,u,g,p);let d=!1;r==="post"?a.scheduler=f=>{gt(f,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(f,g)=>{g?f():Ga(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Yg(t,e,a);return wn&&(c?c.push(h):l&&h()),h}function Rp(t,e,s){const i=this.proxy,n=Fe(t)?t.includes(".")?lh(i,t):()=>i[t]:t.bind(i,i);let r;oe(e)?r=e:(r=e.handler,s=e);const o=Fn(this),a=ah(n,r.bind(i),s);return o(),a}function lh(t,e){const s=e.split(".");return()=>{let i=t;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Lp=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${wt(e)}Modifiers`]||t[`${Qs(e)}Modifiers`];function jp(t,e,...s){if(t.isUnmounted)return;const i=t.vnode.props||Se;let n=s;const r=e.startsWith("update:"),o=r&&Lp(i,e.slice(7));o&&(o.trim&&(n=s.map(u=>Fe(u)?u.trim():u)),o.number&&(n=s.map(yr)));let a,l=i[a=go(e)]||i[a=go(wt(e))];!l&&r&&(l=i[a=go(Qs(e))]),l&&zt(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,zt(c,t,6,n)}}function ch(t,e,s=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const r=t.emits;let o={},a=!1;if(!oe(t)){const l=c=>{const u=ch(c,e,!0);u&&(a=!0,et(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Pe(t)&&i.set(t,null),null):(X(r)?r.forEach(l=>o[l]=null):et(o,r),Pe(t)&&i.set(t,o),o)}function Yr(t,e){return!t||!Nr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ye(t,e[0].toLowerCase()+e.slice(1))||ye(t,Qs(e))||ye(t,e))}function Fl(t){const{type:e,vnode:s,proxy:i,withProxy:n,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:g,inheritAttrs:p}=t,m=Sr(t);let _,x;try{if(s.shapeFlag&4){const w=n||i,C=w;_=Ut(c.call(C,w,u,d,f,h,g)),x=a}else{const w=e;_=Ut(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),x=e.props?a:Fp(a)}}catch(w){ln.length=0,Gr(w,t,1),_=ee(As)}let k=_;if(x&&p!==!1){const w=Object.keys(x),{shapeFlag:C}=k;w.length&&C&7&&(r&&w.some(ja)&&(x=Hp(x,r)),k=Ci(k,x,!1,!0))}return s.dirs&&(k=Ci(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&Ja(k,s.transition),_=k,Sr(m),_}const Fp=t=>{let e;for(const s in t)(s==="class"||s==="style"||Nr(s))&&((e||(e={}))[s]=t[s]);return e},Hp=(t,e)=>{const s={};for(const i in t)(!ja(i)||!(i.slice(9)in e))&&(s[i]=t[i]);return s};function Up(t,e,s){const{props:i,children:n,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?Hl(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==i[h]&&!Yr(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Hl(i,o,c):!0:!!o;return!1}function Hl(t,e,s){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==t[r]&&!Yr(s,r))return!0}return!1}function $p({vnode:t,parent:e},s){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=s,e=e.parent;else break}}const uh=t=>t.__isSuspense;function Bp(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):Zg(t)}const Ke=Symbol.for("v-fgt"),Xr=Symbol.for("v-txt"),As=Symbol.for("v-cmt"),cr=Symbol.for("v-stc"),ln=[];let bt=null;function ae(t=!1){ln.push(bt=t?null:[])}function Np(){ln.pop(),bt=ln[ln.length-1]||null}let vn=1;function Ul(t,e=!1){vn+=t,t<0&&bt&&e&&(bt.hasOnce=!0)}function dh(t){return t.dynamicChildren=vn>0?bt||bi:null,Np(),vn>0&&bt&&bt.push(t),t}function le(t,e,s,i,n,r){return dh(b(t,e,s,i,n,r,!0))}function Cr(t,e,s,i,n){return dh(ee(t,e,s,i,n,!0))}function Ar(t){return t?t.__v_isVNode===!0:!1}function Hi(t,e){return t.type===e.type&&t.key===e.key}const hh=({key:t})=>t??null,ur=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Fe(t)||Ze(t)||oe(t)?{i:mt,r:t,k:e,f:!!s}:t:null);function b(t,e=null,s=null,i=0,n=null,r=t===Ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&hh(e),ref:e&&ur(e),scopeId:Ud,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:mt};return a?(Za(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=Fe(s)?8:16),vn>0&&!o&&bt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&bt.push(l),l}const ee=zp;function zp(t,e=null,s=null,i=0,n=null,r=!1){if((!t||t===qd)&&(t=As),Ar(t)){const a=Ci(t,e,!0);return s&&Za(a,s),vn>0&&!r&&bt&&(a.shapeFlag&6?bt[bt.indexOf(t)]=a:bt.push(a)),a.patchFlag=-2,a}if(tm(t)&&(t=t.__vccOpts),e){e=Vp(e);let{class:a,style:l}=e;a&&!Fe(a)&&(e.class=ze(a)),Pe(l)&&(qa(l)&&!X(l)&&(l=et({},l)),e.style=Dn(l))}const o=Fe(t)?1:uh(t)?128:tp(t)?64:Pe(t)?4:oe(t)?2:0;return b(t,e,s,i,n,o,r,!0)}function Vp(t){return t?qa(t)||Zd(t)?et({},t):t:null}function Ci(t,e,s=!1,i=!1){const{props:n,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?Wp(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&hh(c),ref:e&&e.ref?s&&r?X(r)?r.concat(ur(e)):[r,ur(e)]:ur(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ci(t.ssContent),ssFallback:t.ssFallback&&Ci(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Ja(u,l.clone(u)),u}function fh(t=" ",e=0){return ee(Xr,null,t,e)}function gh(t,e){const s=ee(cr,null,t);return s.staticCount=e,s}function cn(t="",e=!1){return e?(ae(),Cr(As,null,t)):ee(As,null,t)}function Ut(t){return t==null||typeof t=="boolean"?ee(As):X(t)?ee(Ke,null,t.slice()):Ar(t)?ms(t):ee(Xr,null,String(t))}function ms(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ci(t)}function Za(t,e){let s=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(X(e))s=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Za(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Zd(e)?e._ctx=mt:n===3&&mt&&(mt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else oe(e)?(e={default:e,_ctx:mt},s=32):(e=String(e),i&64?(s=16,e=[fh(e)]):s=8);t.children=e,t.shapeFlag|=s}function Wp(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=ze([e.class,i.class]));else if(n==="style")e.style=Dn([e.style,i.style]);else if(Nr(n)){const r=e[n],o=i[n];o&&r!==o&&!(X(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=i[n])}return e}function Dt(t,e,s,i=null){zt(t,e,7,[s,i])}const qp=Yd();let Kp=0;function Gp(t,e,s){const i=t.type,n=(e?e.appContext:t.appContext)||qp,r={uid:Kp++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:th(i,n),emitsOptions:ch(i,n),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:i.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=jp.bind(null,r),t.ce&&t.ce(r),r}let Xe=null;const Jp=()=>Xe||mt;let Er,ta;{const t=Wr(),e=(s,i)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(i),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};Er=e("__VUE_INSTANCE_SETTERS__",s=>Xe=s),ta=e("__VUE_SSR_SETTERS__",s=>wn=s)}const Fn=t=>{const e=Xe;return Er(t),t.scope.on(),()=>{t.scope.off(),Er(e)}},$l=()=>{Xe&&Xe.scope.off(),Er(null)};function ph(t){return t.vnode.shapeFlag&4}let wn=!1;function Yp(t,e=!1,s=!1){e&&ta(e);const{props:i,children:n}=t.vnode,r=ph(t);xp(t,i,r,e),Ap(t,n,s||e);const o=r?Xp(t,e):void 0;return e&&ta(!1),o}function Xp(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gp);const{setup:i}=s;if(i){os();const n=t.setupContext=i.length>1?Zp(t):null,r=Fn(t),o=Ln(i,t,0,[t.props,n]),a=ud(o);if(as(),r(),(a||t.sp)&&!rn(t)&&$d(t),a){if(o.then($l,$l),e)return o.then(l=>{Bl(t,l)}).catch(l=>{Gr(l,t,0)});t.asyncDep=o}else Bl(t,o)}else mh(t)}function Bl(t,e,s){oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=Rd(e)),mh(t)}function mh(t,e,s){const i=t.type;t.render||(t.render=i.render||$t);{const n=Fn(t);os();try{pp(t)}finally{as(),n()}}}const Qp={get(t,e){return Ye(t,"get",""),t[e]}};function Zp(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Qp),slots:t.slots,emit:t.emit,expose:e}}function Qr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Rd(zg(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in on)return on[s](t)},has(e,s){return s in e||s in on}})):t.proxy}function em(t,e=!0){return oe(t)?t.displayName||t.name:t.name||e&&t.__name}function tm(t){return oe(t)&&"__vccOpts"in t}const Oe=(t,e)=>Gg(t,e,wn);function bh(t,e,s){const i=arguments.length;return i===2?Pe(e)&&!X(e)?Ar(e)?ee(t,null,[e]):ee(t,e):ee(t,null,e):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Ar(s)&&(s=[s]),ee(t,e,s))}const sm="3.5.19";/**
* @vue/runtime-dom v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sa;const Nl=typeof window<"u"&&window.trustedTypes;if(Nl)try{sa=Nl.createPolicy("vue",{createHTML:t=>t})}catch{}const _h=sa?t=>sa.createHTML(t):t=>t,im="http://www.w3.org/2000/svg",nm="http://www.w3.org/1998/Math/MathML",Xt=typeof document<"u"?document:null,zl=Xt&&Xt.createElement("template"),rm={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,i)=>{const n=e==="svg"?Xt.createElementNS(im,t):e==="mathml"?Xt.createElementNS(nm,t):s?Xt.createElement(t,{is:s}):Xt.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>Xt.createTextNode(t),createComment:t=>Xt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Xt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,i,n,r){const o=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{zl.innerHTML=_h(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=zl.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},om=Symbol("_vtc");function am(t,e,s){const i=t[om];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Vl=Symbol("_vod"),lm=Symbol("_vsh"),cm=Symbol(""),um=/(^|;)\s*display\s*:/;function dm(t,e,s){const i=t.style,n=Fe(s);let r=!1;if(s&&!n){if(e)if(Fe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&dr(i,a,"")}else for(const o in e)s[o]==null&&dr(i,o,"");for(const o in s)o==="display"&&(r=!0),dr(i,o,s[o])}else if(n){if(e!==s){const o=i[cm];o&&(s+=";"+o),i.cssText=s,r=um.test(s)}}else e&&t.removeAttribute("style");Vl in t&&(t[Vl]=r?i.display:"",t[lm]&&(i.display="none"))}const Wl=/\s*!important$/;function dr(t,e,s){if(X(s))s.forEach(i=>dr(t,e,i));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const i=hm(t,e);Wl.test(s)?t.setProperty(Qs(i),s.replace(Wl,""),"important"):t[i]=s}}const ql=["Webkit","Moz","ms"],wo={};function hm(t,e){const s=wo[e];if(s)return s;let i=wt(e);if(i!=="filter"&&i in t)return wo[e]=i;i=Vr(i);for(let n=0;n<ql.length;n++){const r=ql[n]+i;if(r in t)return wo[e]=r}return e}const Kl="http://www.w3.org/1999/xlink";function Gl(t,e,s,i,n,r=wg(e)){i&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Kl,e.slice(6,e.length)):t.setAttributeNS(Kl,e,s):s==null||r&&!gd(s)?t.removeAttribute(e):t.setAttribute(e,r?"":Nt(s)?String(s):s)}function Jl(t,e,s,i,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?_h(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=gd(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function _s(t,e,s,i){t.addEventListener(e,s,i)}function fm(t,e,s,i){t.removeEventListener(e,s,i)}const Yl=Symbol("_vei");function gm(t,e,s,i,n=null){const r=t[Yl]||(t[Yl]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=pm(e);if(i){const c=r[e]=_m(i,n);_s(t,a,c,l)}else o&&(fm(t,a,o,l),r[e]=void 0)}}const Xl=/(?:Once|Passive|Capture)$/;function pm(t){let e;if(Xl.test(t)){e={};let i;for(;i=t.match(Xl);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qs(t.slice(2)),e]}let xo=0;const mm=Promise.resolve(),bm=()=>xo||(mm.then(()=>xo=0),xo=Date.now());function _m(t,e){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;zt(ym(i,s.value),e,5,[i])};return s.value=t,s.attached=bm(),s}function ym(t,e){if(X(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Ql=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vm=(t,e,s,i,n,r)=>{const o=n==="svg";e==="class"?am(t,i,o):e==="style"?dm(t,s,i):Nr(e)?ja(e)||gm(t,e,s,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wm(t,e,i,o))?(Jl(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gl(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Fe(i))?Jl(t,wt(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Gl(t,e,i,o))};function wm(t,e,s,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ql(e)&&oe(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ql(e)&&Fe(s)?!1:e in t}const Ai=t=>{const e=t.props["onUpdate:modelValue"]||!1;return X(e)?s=>ar(e,s):e};function xm(t){t.target.composing=!0}function Zl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rs=Symbol("_assign"),OA={created(t,{modifiers:{lazy:e,trim:s,number:i}},n){t[rs]=Ai(n);const r=i||n.props&&n.props.type==="number";_s(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),r&&(a=yr(a)),t[rs](a)}),s&&_s(t,"change",()=>{t.value=t.value.trim()}),e||(_s(t,"compositionstart",xm),_s(t,"compositionend",Zl),_s(t,"change",Zl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:i,trim:n,number:r}},o){if(t[rs]=Ai(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?yr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===s||n&&t.value.trim()===l)||(t.value=l))}},MA={deep:!0,created(t,e,s){t[rs]=Ai(s),_s(t,"change",()=>{const i=t._modelValue,n=xn(t),r=t.checked,o=t[rs];if(X(i)){const a=Ua(i,n),l=a!==-1;if(r&&!l)o(i.concat(n));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Ri(i)){const a=new Set(i);r?a.add(n):a.delete(n),o(a)}else o(yh(t,r))})},mounted:ec,beforeUpdate(t,e,s){t[rs]=Ai(s),ec(t,e,s)}};function ec(t,{value:e,oldValue:s},i){t._modelValue=e;let n;if(X(e))n=Ua(e,i.props.value)>-1;else if(Ri(e))n=e.has(i.props.value);else{if(e===s)return;n=Rn(e,yh(t,!0))}t.checked!==n&&(t.checked=n)}const IA={deep:!0,created(t,{value:e,modifiers:{number:s}},i){const n=Ri(e);_s(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?yr(xn(o)):xn(o));t[rs](t.multiple?n?new Set(r):r:r[0]),t._assigning=!0,Ka(()=>{t._assigning=!1})}),t[rs]=Ai(i)},mounted(t,{value:e}){tc(t,e)},beforeUpdate(t,e,s){t[rs]=Ai(s)},updated(t,{value:e}){t._assigning||tc(t,e)}};function tc(t,e){const s=t.multiple,i=X(e);if(!(s&&!i&&!Ri(e))){for(let n=0,r=t.options.length;n<r;n++){const o=t.options[n],a=xn(o);if(s)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Ua(e,a)>-1}else o.selected=e.has(a);else if(Rn(xn(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function xn(t){return"_value"in t?t._value:t.value}function yh(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Sm=["ctrl","shift","alt","meta"],km={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Sm.some(s=>t[`${s}Key`]&&!e.includes(s))},DA=(t,e)=>{const s=t._withMods||(t._withMods={}),i=e.join(".");return s[i]||(s[i]=((n,...r)=>{for(let o=0;o<e.length;o++){const a=km[e[o]];if(a&&a(n,e))return}return t(n,...r)}))},Cm=et({patchProp:vm},rm);let sc;function Am(){return sc||(sc=Pp(Cm))}const Em=((...t)=>{const e=Am().createApp(...t),{mount:s}=e;return e.mount=i=>{const n=Tm(i);if(!n)return;const r=e._component;!oe(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Pm(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Pm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Tm(t){return Fe(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const gi=typeof document<"u";function vh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Om(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&vh(t.default)}const be=Object.assign;function So(t,e){const s={};for(const i in e){const n=e[i];s[i]=Pt(n)?n.map(t):t(n)}return s}const un=()=>{},Pt=Array.isArray,wh=/#/g,Mm=/&/g,Im=/\//g,Dm=/=/g,Rm=/\?/g,xh=/\+/g,Lm=/%5B/g,jm=/%5D/g,Sh=/%5E/g,Fm=/%60/g,kh=/%7B/g,Hm=/%7C/g,Ch=/%7D/g,Um=/%20/g;function el(t){return encodeURI(""+t).replace(Hm,"|").replace(Lm,"[").replace(jm,"]")}function $m(t){return el(t).replace(kh,"{").replace(Ch,"}").replace(Sh,"^")}function ia(t){return el(t).replace(xh,"%2B").replace(Um,"+").replace(wh,"%23").replace(Mm,"%26").replace(Fm,"`").replace(kh,"{").replace(Ch,"}").replace(Sh,"^")}function Bm(t){return ia(t).replace(Dm,"%3D")}function Nm(t){return el(t).replace(wh,"%23").replace(Rm,"%3F")}function zm(t){return t==null?"":Nm(t).replace(Im,"%2F")}function Sn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Vm=/\/$/,Wm=t=>t.replace(Vm,"");function ko(t,e,s="/"){let i,n={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),n=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=Jm(i??e,s),{fullPath:i+(r&&"?")+r+o,path:i,query:n,hash:Sn(o)}}function qm(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ic(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Km(t,e,s){const i=e.matched.length-1,n=s.matched.length-1;return i>-1&&i===n&&Ei(e.matched[i],s.matched[n])&&Ah(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ei(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ah(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Gm(t[s],e[s]))return!1;return!0}function Gm(t,e){return Pt(t)?nc(t,e):Pt(e)?nc(e,t):t===e}function nc(t,e){return Pt(e)?t.length===e.length&&t.every((s,i)=>s===e[i]):t.length===1&&t[0]===e}function Jm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let r=s.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const ds={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var kn;(function(t){t.pop="pop",t.push="push"})(kn||(kn={}));var dn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(dn||(dn={}));function Ym(t){if(!t)if(gi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Wm(t)}const Xm=/^[^#]+#/;function Qm(t,e){return t.replace(Xm,"#")+e}function Zm(t,e){const s=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-s.left-(e.left||0),top:i.top-s.top-(e.top||0)}}const Zr=()=>({left:window.scrollX,top:window.scrollY});function eb(t){let e;if("el"in t){const s=t.el,i=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Zm(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rc(t,e){return(history.state?history.state.position-e:-1)+t}const na=new Map;function tb(t,e){na.set(t,e)}function sb(t){const e=na.get(t);return na.delete(t),e}let ib=()=>location.protocol+"//"+location.host;function Eh(t,e){const{pathname:s,search:i,hash:n}=e,r=t.indexOf("#");if(r>-1){let a=n.includes(t.slice(r))?t.slice(r).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),ic(l,"")}return ic(s,t)+i+n}function nb(t,e,s,i){let n=[],r=[],o=null;const a=({state:h})=>{const f=Eh(t,location),g=s.value,p=e.value;let m=0;if(h){if(s.value=f,e.value=h,o&&o===g){o=null;return}m=p?h.position-p.position:0}else i(f);n.forEach(_=>{_(s.value,g,{delta:m,type:kn.pop,direction:m?m>0?dn.forward:dn.back:dn.unknown})})};function l(){o=s.value}function c(h){n.push(h);const f=()=>{const g=n.indexOf(h);g>-1&&n.splice(g,1)};return r.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(be({},h.state,{scroll:Zr()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function oc(t,e,s,i=!1,n=!1){return{back:t,current:e,forward:s,replaced:i,position:window.history.length,scroll:n?Zr():null}}function rb(t){const{history:e,location:s}=window,i={value:Eh(t,s)},n={value:e.state};n.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:ib()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),n.value=c}catch(f){console.error(f),s[u?"replace":"assign"](h)}}function o(l,c){const u=be({},e.state,oc(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=be({},n.value,e.state,{forward:l,scroll:Zr()});r(u.current,u,!0);const d=be({},oc(i.value,l,null),{position:u.position+1},c);r(l,d,!1),i.value=l}return{location:i,state:n,push:a,replace:o}}function ob(t){t=Ym(t);const e=rb(t),s=nb(t,e.state,e.location,e.replace);function i(r,o=!0){o||s.pauseListeners(),history.go(r)}const n=be({location:"",base:t,go:i,createHref:Qm.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function ab(t){return typeof t=="string"||t&&typeof t=="object"}function Ph(t){return typeof t=="string"||typeof t=="symbol"}const Th=Symbol("");var ac;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ac||(ac={}));function Pi(t,e){return be(new Error,{type:t,[Th]:!0},e)}function Wt(t,e){return t instanceof Error&&Th in t&&(e==null||!!(t.type&e))}const lc="[^/]+?",lb={sensitive:!1,strict:!1,start:!0,end:!0},cb=/[.+*?^${}()[\]/\\]/g;function ub(t,e){const s=be({},lb,e),i=[];let n=s.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(n+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(s.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(cb,"\\$&"),f+=40;else if(h.type===1){const{value:g,repeatable:p,optional:m,regexp:_}=h;r.push({name:g,repeatable:p,optional:m});const x=_||lc;if(x!==lc){f+=10;try{new RegExp(`(${x})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+w.message)}}let k=p?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||(k=m&&c.length<2?`(?:/${k})`:"/"+k),m&&(k+="?"),n+=k,f+=20,m&&(f+=-8),p&&(f+=-20),x===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(s.strict&&s.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",g=r[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:p,optional:m}=f,_=g in c?c[g]:"";if(Pt(_)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=Pt(_)?_.join("/"):_;if(!x)if(m)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=x}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function db(t,e){let s=0;for(;s<t.length&&s<e.length;){const i=e[s]-t[s];if(i)return i;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Oh(t,e){let s=0;const i=t.score,n=e.score;for(;s<i.length&&s<n.length;){const r=db(i[s],n[s]);if(r)return r;s++}if(Math.abs(n.length-i.length)===1){if(cc(i))return 1;if(cc(n))return-1}return n.length-i.length}function cc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hb={type:0,value:""},fb=/[a-zA-Z0-9_]/;function gb(t){if(!t)return[[]];if(t==="/")return[[hb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=0,i=s;const n=[];let r;function o(){r&&n.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(s===0?r.push({type:0,value:c}):s===1||s===2||s===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){i=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=i;break;case 1:l==="("?s=2:fb.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),n}function pb(t,e,s){const i=ub(gb(t.path),s),n=be(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function mb(t,e){const s=[],i=new Map;e=fc({strict:!1,end:!0,sensitive:!1},e);function n(d){return i.get(d)}function r(d,h,f){const g=!f,p=dc(d);p.aliasOf=f&&f.record;const m=fc(e,d),_=[p];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of w)_.push(dc(be({},p,{components:f?f.record.components:p.components,path:C,aliasOf:f?f.record:p})))}let x,k;for(const w of _){const{path:C}=w;if(h&&C[0]!=="/"){const A=h.record.path,v=A[A.length-1]==="/"?"":"/";w.path=h.record.path+(C&&v+C)}if(x=pb(w,h,m),f?f.alias.push(x):(k=k||x,k!==x&&k.alias.push(x),g&&d.name&&!hc(x)&&o(d.name)),Mh(x)&&l(x),p.children){const A=p.children;for(let v=0;v<A.length;v++)r(A[v],x,f&&f.children[v])}f=f||x}return k?()=>{o(k)}:un}function o(d){if(Ph(d)){const h=i.get(d);h&&(i.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=yb(d,s);s.splice(h,0,d),d.record.name&&!hc(d)&&i.set(d.record.name,d)}function c(d,h){let f,g={},p,m;if("name"in d&&d.name){if(f=i.get(d.name),!f)throw Pi(1,{location:d});m=f.record.name,g=be(uc(h.params,f.keys.filter(k=>!k.optional).concat(f.parent?f.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),d.params&&uc(d.params,f.keys.map(k=>k.name))),p=f.stringify(g)}else if(d.path!=null)p=d.path,f=s.find(k=>k.re.test(p)),f&&(g=f.parse(p),m=f.record.name);else{if(f=h.name?i.get(h.name):s.find(k=>k.re.test(h.path)),!f)throw Pi(1,{location:d,currentLocation:h});m=f.record.name,g=be({},h.params,d.params),p=f.stringify(g)}const _=[];let x=f;for(;x;)_.unshift(x.record),x=x.parent;return{name:m,path:p,params:g,matched:_,meta:_b(_)}}t.forEach(d=>r(d));function u(){s.length=0,i.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function uc(t,e){const s={};for(const i of e)i in t&&(s[i]=t[i]);return s}function dc(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:bb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function bb(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const i in t.components)e[i]=typeof s=="object"?s[i]:s;return e}function hc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _b(t){return t.reduce((e,s)=>be(e,s.meta),{})}function fc(t,e){const s={};for(const i in t)s[i]=i in e?e[i]:t[i];return s}function yb(t,e){let s=0,i=e.length;for(;s!==i;){const r=s+i>>1;Oh(t,e[r])<0?i=r:s=r+1}const n=vb(t);return n&&(i=e.lastIndexOf(n,i-1)),i}function vb(t){let e=t;for(;e=e.parent;)if(Mh(e)&&Oh(t,e)===0)return e}function Mh({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function wb(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const r=i[n].replace(xh," "),o=r.indexOf("="),a=Sn(o<0?r:r.slice(0,o)),l=o<0?null:Sn(r.slice(o+1));if(a in e){let c=e[a];Pt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function gc(t){let e="";for(let s in t){const i=t[s];if(s=Bm(s),i==null){i!==void 0&&(e+=(e.length?"&":"")+s);continue}(Pt(i)?i.map(r=>r&&ia(r)):[i&&ia(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function xb(t){const e={};for(const s in t){const i=t[s];i!==void 0&&(e[s]=Pt(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const Sb=Symbol(""),pc=Symbol(""),eo=Symbol(""),tl=Symbol(""),ra=Symbol("");function Ui(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function bs(t,e,s,i,n,r=o=>o()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Pi(4,{from:s,to:e})):h instanceof Error?l(h):ab(h)?l(Pi(2,{from:e,to:h})):(o&&i.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},u=r(()=>t.call(i&&i.instances[n],e,s,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function Co(t,e,s,i,n=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(vh(l)){const u=(l.__vccOpts||l)[e];u&&r.push(bs(u,s,i,o,a,n))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Om(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&bs(f,s,i,o,a,n)()}))}}return r}function mc(t){const e=Et(eo),s=Et(tl),i=Oe(()=>{const l=G(t.to);return e.resolve(l)}),n=Oe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(Ei.bind(null,u));if(h>-1)return h;const f=bc(l[c-2]);return c>1&&bc(u)===f&&d[d.length-1].path!==f?d.findIndex(Ei.bind(null,l[c-2])):h}),r=Oe(()=>n.value>-1&&Pb(s.params,i.value.params)),o=Oe(()=>n.value>-1&&n.value===s.matched.length-1&&Ah(s.params,i.value.params));function a(l={}){if(Eb(l)){const c=e[G(t.replace)?"replace":"push"](G(t.to)).catch(un);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:Oe(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}function kb(t){return t.length===1?t[0]:t}const Cb=jn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mc,setup(t,{slots:e}){const s=Kr(mc(t)),{options:i}=Et(eo),n=Oe(()=>({[_c(t.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[_c(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&kb(e.default(s));return t.custom?r:bh("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},r)}}}),Ab=Cb;function Eb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Pb(t,e){for(const s in e){const i=e[s],n=t[s];if(typeof i=="string"){if(i!==n)return!1}else if(!Pt(n)||n.length!==i.length||i.some((r,o)=>r!==n[o]))return!1}return!0}function bc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _c=(t,e,s)=>t??e??s,Tb=jn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const i=Et(ra),n=Oe(()=>t.route||i.value),r=Et(pc,0),o=Oe(()=>{let c=G(r);const{matched:u}=n.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Oe(()=>n.value.matched[o.value]);lr(pc,Oe(()=>o.value+1)),lr(Sb,a),lr(ra,n);const l=Ks();return an(()=>[l.value,a.value,t.name],([c,u,d],[h,f,g])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ei(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return yc(s.default,{Component:h,route:c});const f=d.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=bh(h,be({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return yc(s.default,{Component:m,route:c})||m}}});function yc(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const oa=Tb;function Ob(t){const e=mb(t.routes,t),s=t.parseQuery||wb,i=t.stringifyQuery||gc,n=t.history,r=Ui(),o=Ui(),a=Ui(),l=Vg(ds);let c=ds;gi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=So.bind(null,I=>""+I),d=So.bind(null,zm),h=So.bind(null,Sn);function f(I,z){let $,K;return Ph(I)?($=e.getRecordMatcher(I),K=z):K=I,e.addRoute(K,$)}function g(I){const z=e.getRecordMatcher(I);z&&e.removeRoute(z)}function p(){return e.getRoutes().map(I=>I.record)}function m(I){return!!e.getRecordMatcher(I)}function _(I,z){if(z=be({},z||l.value),typeof I=="string"){const E=ko(s,I,z.path),M=e.resolve({path:E.path},z),D=n.createHref(E.fullPath);return be(E,M,{params:h(M.params),hash:Sn(E.hash),redirectedFrom:void 0,href:D})}let $;if(I.path!=null)$=be({},I,{path:ko(s,I.path,z.path).path});else{const E=be({},I.params);for(const M in E)E[M]==null&&delete E[M];$=be({},I,{params:d(E)}),z.params=d(z.params)}const K=e.resolve($,z),xe=I.hash||"";K.params=u(h(K.params));const y=qm(i,be({},I,{hash:$m(xe),path:K.path})),S=n.createHref(y);return be({fullPath:y,hash:xe,query:i===gc?xb(I.query):I.query||{}},K,{redirectedFrom:void 0,href:S})}function x(I){return typeof I=="string"?ko(s,I,l.value.path):be({},I)}function k(I,z){if(c!==I)return Pi(8,{from:z,to:I})}function w(I){return v(I)}function C(I){return w(be(x(I),{replace:!0}))}function A(I){const z=I.matched[I.matched.length-1];if(z&&z.redirect){const{redirect:$}=z;let K=typeof $=="function"?$(I):$;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=x(K):{path:K},K.params={}),be({query:I.query,hash:I.hash,params:K.path!=null?{}:I.params},K)}}function v(I,z){const $=c=_(I),K=l.value,xe=I.state,y=I.force,S=I.replace===!0,E=A($);if(E)return v(be(x(E),{state:typeof E=="object"?be({},xe,E.state):xe,force:y,replace:S}),z||$);const M=$;M.redirectedFrom=z;let D;return!y&&Km(i,K,$)&&(D=Pi(16,{to:M,from:K}),it(K,K,!0,!1)),(D?Promise.resolve(D):L(M,K)).catch(O=>Wt(O)?Wt(O,2)?O:st(O):Q(O,M,K)).then(O=>{if(O){if(Wt(O,2))return v(be({replace:S},x(O.to),{state:typeof O.to=="object"?be({},xe,O.to.state):xe,force:y}),z||M)}else O=q(M,K,!0,S,xe);return H(M,K,O),O})}function T(I,z){const $=k(I,z);return $?Promise.reject($):Promise.resolve()}function P(I){const z=at.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(I):I()}function L(I,z){let $;const[K,xe,y]=Mb(I,z);$=Co(K.reverse(),"beforeRouteLeave",I,z);for(const E of K)E.leaveGuards.forEach(M=>{$.push(bs(M,I,z))});const S=T.bind(null,I,z);return $.push(S),He($).then(()=>{$=[];for(const E of r.list())$.push(bs(E,I,z));return $.push(S),He($)}).then(()=>{$=Co(xe,"beforeRouteUpdate",I,z);for(const E of xe)E.updateGuards.forEach(M=>{$.push(bs(M,I,z))});return $.push(S),He($)}).then(()=>{$=[];for(const E of y)if(E.beforeEnter)if(Pt(E.beforeEnter))for(const M of E.beforeEnter)$.push(bs(M,I,z));else $.push(bs(E.beforeEnter,I,z));return $.push(S),He($)}).then(()=>(I.matched.forEach(E=>E.enterCallbacks={}),$=Co(y,"beforeRouteEnter",I,z,P),$.push(S),He($))).then(()=>{$=[];for(const E of o.list())$.push(bs(E,I,z));return $.push(S),He($)}).catch(E=>Wt(E,8)?E:Promise.reject(E))}function H(I,z,$){a.list().forEach(K=>P(()=>K(I,z,$)))}function q(I,z,$,K,xe){const y=k(I,z);if(y)return y;const S=z===ds,E=gi?history.state:{};$&&(K||S?n.replace(I.fullPath,be({scroll:S&&E&&E.scroll},xe)):n.push(I.fullPath,xe)),l.value=I,it(I,z,$,S),st()}let se;function Re(){se||(se=n.listen((I,z,$)=>{if(!Tt.listening)return;const K=_(I),xe=A(K);if(xe){v(be(xe,{replace:!0,force:!0}),K).catch(un);return}c=K;const y=l.value;gi&&tb(rc(y.fullPath,$.delta),Zr()),L(K,y).catch(S=>Wt(S,12)?S:Wt(S,2)?(v(be(x(S.to),{force:!0}),K).then(E=>{Wt(E,20)&&!$.delta&&$.type===kn.pop&&n.go(-1,!1)}).catch(un),Promise.reject()):($.delta&&n.go(-$.delta,!1),Q(S,K,y))).then(S=>{S=S||q(K,y,!1),S&&($.delta&&!Wt(S,8)?n.go(-$.delta,!1):$.type===kn.pop&&Wt(S,20)&&n.go(-1,!1)),H(K,y,S)}).catch(un)}))}let ce=Ui(),V=Ui(),W;function Q(I,z,$){st(I);const K=V.list();return K.length?K.forEach(xe=>xe(I,z,$)):console.error(I),Promise.reject(I)}function ge(){return W&&l.value!==ds?Promise.resolve():new Promise((I,z)=>{ce.add([I,z])})}function st(I){return W||(W=!I,Re(),ce.list().forEach(([z,$])=>I?$(I):z()),ce.reset()),I}function it(I,z,$,K){const{scrollBehavior:xe}=t;if(!gi||!xe)return Promise.resolve();const y=!$&&sb(rc(I.fullPath,0))||(K||!$)&&history.state&&history.state.scroll||null;return Ka().then(()=>xe(I,z,y)).then(S=>S&&eb(S)).catch(S=>Q(S,I,z))}const Le=I=>n.go(I);let _t;const at=new Set,Tt={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:p,resolve:_,options:t,push:w,replace:C,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:ge,install(I){const z=this;I.component("RouterLink",Ab),I.component("RouterView",oa),I.config.globalProperties.$router=z,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>G(l)}),gi&&!_t&&l.value===ds&&(_t=!0,w(n.location).catch(xe=>{}));const $={};for(const xe in ds)Object.defineProperty($,xe,{get:()=>l.value[xe],enumerable:!0});I.provide(eo,z),I.provide(tl,Md($)),I.provide(ra,l);const K=I.unmount;at.add(I),I.unmount=function(){at.delete(I),at.size<1&&(c=ds,se&&se(),se=null,l.value=ds,_t=!1,W=!1),K()}}};function He(I){return I.reduce((z,$)=>z.then(()=>P($)),Promise.resolve())}return Tt}function Mb(t,e){const s=[],i=[],n=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ei(c,a))?i.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ei(c,l))||n.push(l))}return[s,i,n]}function Ib(){return Et(eo)}function Db(t){return Et(tl)}const Rb="modulepreload",Lb=function(t){return"/"+t},vc={},We=function(e,s,i){let n=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(s.map(c=>{if(c=Lb(c),c in vc)return;vc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Rb,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},jb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>We(async()=>{const{default:i}=await Promise.resolve().then(()=>Li);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class to extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class Ih extends to{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aa extends to{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class la extends to{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pr||(Pr={}));var Fb=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class Hb{constructor(e,{headers:s={},customFetch:i,region:n=Pr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=jb(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var i;return Fb(this,void 0,void 0,function*(){try{const{headers:n,method:r,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(p=>{throw new Ih(p)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new aa(d);if(!d.ok)throw new la(d);let f=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(n){return{data:null,error:n,response:n instanceof la||n instanceof aa?n.context:void 0}}})}}var RA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ub(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $b(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function i(){var n=!1;try{n=this instanceof i}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(s,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),s}var Ne={},si={},ii={},ni={},ri={},oi={},Bb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ti=Bb();const Nb=Ti.fetch,Dh=Ti.fetch.bind(Ti),Rh=Ti.Headers,zb=Ti.Request,Vb=Ti.Response,Li=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rh,Request:zb,Response:Vb,default:Dh,fetch:Nb},Symbol.toStringTag,{value:"Module"})),Wb=$b(Li);var Vn={},wc;function Lh(){if(wc)return Vn;wc=1,Object.defineProperty(Vn,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Vn.default=t,Vn}var xc;function jh(){if(xc)return oi;xc=1;var t=oi&&oi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(oi,"__esModule",{value:!0});const e=t(Wb),s=t(Lh());class i{constructor(r){var o,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let g=null,p=null,m=null,_=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const A=await c.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=A:p=JSON.parse(A))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&C&&C.length>1&&(m=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,_=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await c.text();try{g=JSON.parse(w),Array.isArray(g)&&c.status===404&&(p=[],g=null,_=200,x="OK")}catch{c.status===404&&w===""?(_=204,x="No Content"):g={message:w}}if(g&&this.isMaybeSingle&&(!((f=g?.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,_=200,x="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:p,count:m,status:_,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(d=c?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(r,o)}returns(){return this}overrideTypes(){return this}}return oi.default=i,oi}var Sc;function Fh(){if(Sc)return ri;Sc=1;var t=ri&&ri.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ri,"__esModule",{value:!0});const e=t(jh());class s extends e.default{select(n){let r=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,r,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[n?"analyze":null,r?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return ri.default=s,ri}var kc;function sl(){if(kc)return ni;kc=1;var t=ni&&ni.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ni,"__esModule",{value:!0});const e=t(Fh());class s extends e.default{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}in(n,r){const o=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${r}`),this}match(n){return Object.entries(n).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(n,r,o){return this.url.searchParams.append(n,`not.${r}.${o}`),this}or(n,{foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,r,o){return this.url.searchParams.append(n,`${r}.${o}`),this}}return ni.default=s,ni}var Cc;function Hh(){if(Cc)return ii;Cc=1;var t=ii&&ii.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ii,"__esModule",{value:!0});const e=t(sl());class s{constructor(n,{headers:r={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(r),this.schema=o,this.fetch=a}select(n,{head:r=!1,count:o}={}){const a=r?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:r,defaultToNull:o=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:r,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:r}={}){var o;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var r;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return ii.default=s,ii}var Ac;function qb(){if(Ac)return si;Ac=1;var t=si&&si.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(si,"__esModule",{value:!0});const e=t(Hh()),s=t(sl());class i{constructor(r,{headers:o={},schema:a,fetch:l}={}){this.url=r,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(r){const o=new URL(`${this.url}/${r}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new i(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${r}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{h.searchParams.append(p,m)})):(d="POST",f=o);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new s.default({method:d,url:h,headers:g,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return si.default=i,si}var Ec;function Kb(){if(Ec)return Ne;Ec=1;var t=Ne&&Ne.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const e=t(qb());Ne.PostgrestClient=e.default;const s=t(Hh());Ne.PostgrestQueryBuilder=s.default;const i=t(sl());Ne.PostgrestFilterBuilder=i.default;const n=t(Fh());Ne.PostgrestTransformBuilder=n.default;const r=t(jh());Ne.PostgrestBuilder=r.default;const o=t(Lh());return Ne.PostgrestError=o.default,Ne.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:r.default,PostgrestError:o.default},Ne}var Gb=Kb();const Jb=Ub(Gb),{PostgrestClient:Yb,PostgrestQueryBuilder:LA,PostgrestFilterBuilder:jA,PostgrestTransformBuilder:FA,PostgrestBuilder:HA,PostgrestError:Xb}=Jb;class Uh{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qb="2.15.5",Zb=`realtime-js/${Qb}`,e_="1.0.0",ca=1e4,t_=1e3,s_=100;var hn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hn||(hn={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var kt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kt||(kt={}));var ua;(function(t){t.websocket="websocket"})(ua||(ua={}));var Vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vs||(Vs={}));class i_{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const n=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+n));o=o+n;const l=i.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class $h{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ce||(Ce={}));const Pc=(t,e,s={})=>{var i;const n=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((r,o)=>(r[o]=n_(o,t,e,n),r),{})},n_=(t,e,s,i)=>{const n=e.find(a=>a.name===t),r=n?.type,o=s[t];return r&&!i.includes(r)?Bh(r,o):da(o)},Bh=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return l_(e,s)}switch(t){case Ce.bool:return r_(e);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return o_(e);case Ce.json:case Ce.jsonb:return a_(e);case Ce.timestamp:return c_(e);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return da(e);default:return da(e)}},da=t=>t,r_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},o_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l_=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,i=t[s];if(t[0]==="{"&&i==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Bh(e,a))}return t},c_=t=>typeof t=="string"?t.replace(" ","T"):t,Nh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ao{constructor(e,s,i={},n=ca){this.channel=e,this.event=s,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ha;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ha||(ha={}));class xi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xi.syncState(this.state,n,r,o),this.pendingDiffs.forEach(l=>{this.state=xi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xi.syncDiff(this.state,n,r,o),a())}),this.onJoin((n,r,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:r,newPresences:o})}),this.onLeave((n,r,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,n){const r=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=r[c];if(d){const h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),p=d.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(a[c]=g),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},i,n)}static syncDiff(e,s,i,n){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}i(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const n=e[i];return"metas"in n?s[i]=n.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[i]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fa||(fa={}));var Si;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Si||(Si={}));var Ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class so{constructor(e,s={config:{}},i){this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,kt.join,this.params,this.timeout),this.rejoinTimer=new $h(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(n,r)=>{this._trigger(this._replyEventName(r),n)}),this.presence=new xi(this),this.broadcastEndpointURL=Nh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var i,n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Si.PRESENCE]&&this.bindings[Si.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Ht.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e?.(Ht.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(g=p?.length)!==null&&g!==void 0?g:0,_=[];for(let x=0;x<m;x++){const k=p[x],{filter:{event:w,schema:C,table:A,filter:v}}=k,T=f&&f[x];if(T&&T.event===w&&T.schema===C&&T.table===A&&T.filter===v)_.push(Object.assign(Object.assign({},k),{id:T.id}));else{this.unsubscribe(),this.state=Ue.errored,e?.(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ht.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ue.errored,e?.(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===Ue.joined&&e===Si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,n;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new Ao(this,kt.leave,{},e),i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const n=new AbortController,r=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(r),o}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ao(this,e,s,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>s_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var n,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=kt;if(i&&[a,l,c,u].indexOf(o)>=0&&i!==this._joinRef())return;let h=this._onMessage(o,s,i);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,p,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,i)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,p,m,_,x,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,C=(g=f.filter)===null||g===void 0?void 0:g.event;return w&&((p=s.ids)===null||p===void 0?void 0:p.includes(w))&&(C==="*"||C?.toLocaleLowerCase()===((m=s.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const w=(x=(_=f?.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((k=s?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:m,commit_timestamp:_,type:x,errors:k}=g;h=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:_,eventType:x,new:{},old:{},errors:k}),this._getPayloadRecords(g))}f.callback(h,i)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const n=e.toLocaleLowerCase(),r={type:n,filter:s,callback:i};return this.bindings[n]?this.bindings[n].push(r):this.bindings[n]=[r],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var r;return!(((r=n.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&so.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kt.close,{},e)}_onError(e){this._on(kt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Pc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Pc(e.columns,e.old_record)),s}}const Eo=()=>{},Wn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u_=[1e3,2e3,5e3,1e4],d_=1e4,h_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zh{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ca,this.transport=null,this.heartbeatIntervalMs=Wn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eo,this.ref=0,this.reconnectTimer=null,this.logger=Eo,this.conn=null,this.sendBuffer=[],this.serializer=new i_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...o)=>We(async()=>{const{default:a}=await Promise.resolve().then(()=>Li);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${ua.websocket}`,this.httpEndpoint=Nh(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:e_}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return Vs.Connecting;case hn.open:return Vs.Open;case hn.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,n=this.getChannels().find(r=>r.topic===i);if(n)return n;{const r=new so(`realtime:${e}`,s,this);return this.channels.push(r),r}}push(e){const{topic:s,event:i,payload:n,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${i} (${r})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(t_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Wn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:n,payload:r,ref:o}=s,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${i} ${n} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(n,r,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${i}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([h_],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const n={access_token:s,version:Zb};s&&i.updateJoinPayload(n),i.joinedOnce&&i._isJoined()&&i._push(kt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $h(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,n,r,o,a,l,c,u;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:ca,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:Wn.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Eo,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(d=>u_[d-1]||d_),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((d,h)=>h(JSON.stringify(d))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class il extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class f_ extends il{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ga extends il{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var g_=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Vh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>We(async()=>{const{default:i}=await Promise.resolve().then(()=>Li);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},p_=()=>g_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield We(()=>Promise.resolve().then(()=>Li),void 0)).Response:Response}),pa=t=>{if(Array.isArray(t))return t.map(s=>pa(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,i])=>{const n=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[n]=pa(i)}),e},m_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Zs=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Po=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),b_=(t,e,s)=>Zs(void 0,void 0,void 0,function*(){const i=yield p_();t instanceof i&&!s?.noResolveJson?t.json().then(n=>{const r=t.status||500,o=n?.statusCode||r+"";e(new f_(Po(n),r,o))}).catch(n=>{e(new ga(Po(n),n))}):e(new ga(Po(t),t))}),__=(t,e,s,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!i?n:(m_(i)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(i)):n.body=i,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function Hn(t,e,s,i,n,r){return Zs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,__(e,i,n,r)).then(l=>{if(!l.ok)throw l;return i?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>b_(l,a,i))})})}function Tr(t,e,s,i){return Zs(this,void 0,void 0,function*(){return Hn(t,"GET",e,s,i)})}function jt(t,e,s,i,n){return Zs(this,void 0,void 0,function*(){return Hn(t,"POST",e,i,n,s)})}function ma(t,e,s,i,n){return Zs(this,void 0,void 0,function*(){return Hn(t,"PUT",e,i,n,s)})}function y_(t,e,s,i){return Zs(this,void 0,void 0,function*(){return Hn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Wh(t,e,s,i,n){return Zs(this,void 0,void 0,function*(){return Hn(t,"DELETE",e,i,n,s)})}var nt=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const v_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w_{constructor(e,s={},i,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=Vh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,n){return nt(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Tc),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield(e=="PUT"?ma:jt)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}upload(e,s,i){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,n){return nt(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Tc.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield ma(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return nt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const r=yield jt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new il("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}update(e,s,i){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return nt(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}copy(e,s,i){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,i){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield jt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,i){return nt(this,void 0,void 0,function*(){try{const n=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),r=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}download(e,s){return nt(this,void 0,void 0,function*(){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(s?.transform||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Tr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}info(e){return nt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield Tr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:pa(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}exists(e){return nt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield y_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i)&&i instanceof ga){const n=i.originalError;if([400,404].includes(n?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),n=[],r=s?.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&n.push(r);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}list(e,s,i){return nt(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},v_),s),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listV2(e,s){return nt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const x_="2.12.1",S_={"X-Client-Info":`storage-js/${x_}`};var ai=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class k_{constructor(e,s={},i,n){this.shouldThrowOnError=!1;const r=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},S_),s),this.fetch=Vh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ai(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}})}getBucket(e){return ai(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ai(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}updateBucket(e,s){return ai(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ai(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ai(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}}class C_ extends k_{constructor(e,s={},i,n){super(e,s,i,n)}from(e){return new w_(this.url,this.headers,e,this.fetch)}}const A_="2.57.4";let qi="";typeof Deno<"u"?qi="deno":typeof document<"u"?qi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qi="react-native":qi="node";const E_={"X-Client-Info":`supabase-js-${qi}/${A_}`},P_={headers:E_},T_={schema:"public"},O_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M_={};var I_=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const D_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Dh:e=fetch,(...s)=>e(...s)},R_=()=>typeof Headers>"u"?Rh:Headers,L_=(t,e,s)=>{const i=D_(s),n=R_();return(r,o)=>I_(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(r,Object.assign(Object.assign({},o),{headers:c}))})};var j_=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};function F_(t){return t.endsWith("/")?t:t+"/"}function H_(t,e){var s,i;const{db:n,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d?.headers)!==null&&s!==void 0?s:{}),(i=a?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>j_(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function U_(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qh="2.71.1",pi=30*1e3,ba=3,To=ba*pi,$_="http://localhost:9999",B_="supabase.auth.token",N_={"X-Client-Info":`gotrue-js/${qh}`},_a="X-Supabase-Api-Version",Kh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V_=600*1e3;class io extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gh extends io{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Jh(t){return re(t)&&t.name==="AuthApiError"}class nl extends io{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class cs extends io{constructor(e,s,i,n){super(e,i,n),this.name=s,this.status=i}}class Qt extends cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yh(t){return re(t)&&t.name==="AuthSessionMissingError"}class Ki extends cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gi extends cs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ji extends cs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xh(t){return re(t)&&t.name==="AuthImplicitGrantRedirectError"}class ya extends cs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Or extends cs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function hr(t){return re(t)&&t.name==="AuthRetryableFetchError"}class va extends cs{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Mr extends cs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oc=` 	
\r=`.split(""),W_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oc.length;e+=1)t[Oc[e].charCodeAt(0)]=-2;for(let e=0;e<Ir.length;e+=1)t[Ir[e].charCodeAt(0)]=e;return t})();function Mc(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Ir[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Ir[i]),e.queuedBits-=6}}function Qh(t,e,s){const i=W_[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ic(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},r=o=>{G_(o,i,s)};for(let o=0;o<t.length;o+=1)Qh(t.charCodeAt(o),n,r);return e.join("")}function q_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function K_(t,e){for(let s=0;s<t.length;s+=1){let i=t.charCodeAt(s);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}q_(i,e)}}function G_(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function J_(t){const e=[],s={queue:0,queuedBits:0},i=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Qh(t.charCodeAt(n),s,i);return new Uint8Array(e)}function Y_(t){const e=[];return K_(t,s=>e.push(s)),new Uint8Array(e)}function X_(t){const e=[],s={queue:0,queuedBits:0},i=n=>{e.push(n)};return t.forEach(n=>Mc(n,s,i)),Mc(null,s,i),e.join("")}function Q_(t){return Math.round(Date.now()/1e3)+t}function Z_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const St=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},Zh=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function e0(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,r)=>{e[r]=n})}catch{}return s.searchParams.forEach((i,n)=>{e[n]=i}),e}const ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>We(async()=>{const{default:i}=await Promise.resolve().then(()=>Li);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},t0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mi=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Rs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},hs=async(t,e)=>{await t.removeItem(e)};class no{constructor(){this.promise=new no.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}no.promiseConstructor=Promise;function Oo(t){const e=t.split(".");if(e.length!==3)throw new Mr("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!z_.test(e[i]))throw new Mr("JWT not in base64url format");return{header:JSON.parse(Ic(e[0])),payload:JSON.parse(Ic(e[1])),signature:J_(e[2]),raw:{header:e[0],payload:e[1]}}}async function s0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function i0(t,e){return new Promise((i,n)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){i(o);return}}catch(o){if(!e(r,o)){n(o);return}}})()})}function n0(t){return("0"+t.toString(16)).substr(-2)}function r0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let n="";for(let r=0;r<56;r++)n+=s.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,n0).join("")}async function o0(t){const s=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(i);return Array.from(n).map(r=>String.fromCharCode(r)).join("")}async function a0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await o0(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function li(t,e,s=!1){const i=r0();let n=i;s&&(n+="/PASSWORD_RECOVERY"),await mi(t,`${e}-code-verifier`,n);const r=await a0(i);return[r,i===r?"plain":"s256"]}const l0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c0(t){const e=t.headers.get(_a);if(!e||!e.match(l0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function u0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function d0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ci(t){if(!h0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mo(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dc(t){return JSON.parse(JSON.stringify(t))}var f0=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]]);return s};const $s=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g0=[502,503,504];async function Rc(t){var e;if(!t0(t))throw new Or($s(t),0);if(g0.includes(t.status))throw new Or($s(t),t.status);let s;try{s=await t.json()}catch(r){throw new nl($s(r),r)}let i;const n=c0(t);if(n&&n.getTime()>=Kh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new va($s(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new va($s(s),t.status,s.weak_password.reasons);throw new Gh($s(s),t.status||500,i)}const p0=(t,e,s,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),s))};async function ue(t,e,s,i){var n;const r=Object.assign({},i?.headers);r[_a]||(r[_a]=Kh["2024-01-01"].name),i?.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await m0(t,e,s+a,{headers:r,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(l):{data:Object.assign({},l),error:null}}async function m0(t,e,s,i,n,r){const o=p0(e,i,n,r);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Or($s(l),0)}if(a.ok||await Rc(a),i?.noResolveJson)return a;try{return await a.json()}catch(l){await Rc(l)}}function Gt(t){var e;let s=null;v0(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Q_(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:i},error:null}}function Lc(t){const e=Gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ys(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function b0(t){return{data:t,error:null}}function _0(t){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r}=t,o=f0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function y0(t){return t}function v0(t){return t.access_token&&t.refresh_token&&t.expires_in}const fr=["global","local","others"];var w0=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]]);return s};class tf{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=ef(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=fr[0]){if(fr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fr.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ys})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=w0(e,["options"]),n=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:_0,redirectTo:s?.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ys})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,n,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(r=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""},xform:y0});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(re(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ci(e);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ys})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){ci(e);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ys})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){ci(e);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ys})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ci(e.userId);try{const{data:s,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:i}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(e){ci(e.userId),ci(e.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}}function jc(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function x0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bs={debug:!!(globalThis&&Zh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nf extends sf{}async function rf(t,e,s){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bs.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}x0();const S0={url:$_,storageKey:B_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:N_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fc(t,e,s){return await s()}const ui={};class Oi{constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Oi.nextInstanceID,Oi.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},S0),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new tf({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ef(n.fetch),this.lock=n.lock||Fc,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:St()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=rf:this.lock=Fc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Zh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jc(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=jc(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=ui[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){ui[this.storageKey]=Object.assign(Object.assign({},ui[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=ui[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ui[this.storageKey]=Object.assign(Object.assign({},ui[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=e0(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),St()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:r}=await this._getSessionFromURL(s,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Xh(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?{error:s}:{error:new nl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,n;try{const r=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Gt}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var s,i,n;try{let r;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await li(this.storage,this.storageKey)),r=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:d,data:(s=h?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},xform:Gt})}else if("phone"in e){const{phone:u,password:d,options:h}=e;r=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(n=h?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Gt})}else throw new Gi("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:a}=e;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Lc})}else if("phone"in e){const{phone:r,password:o,options:a}=e;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Lc})}else throw new Gi("You must provide either an email or phone number and a password");const{data:i,error:n}=s;return n?{data:{user:null,session:null},error:n}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ki}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,n,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,i,n,r,o,a,l,c,u,d,h,f;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:m,wallet:_,statement:x,options:k}=e;let w;if(St())if(typeof _=="object")w=_;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))w=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=_}const C=new URL((s=k?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in w&&w.signIn){const A=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let v;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")v=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)v=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in v&&"signature"in v&&(typeof v.signedMessage=="string"||v.signedMessage instanceof Uint8Array)&&v.signature instanceof Uint8Array)g=typeof v.signedMessage=="string"?v.signedMessage:new TextDecoder().decode(v.signedMessage),p=v.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(n=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((r=k?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((a=k?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((d=(u=k?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...k.signInWithSolana.resources.map(v=>`- ${v}`)]:[]].join(`
`);const A=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=A}}try{const{data:m,error:_}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:X_(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(_)throw _;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ki}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:_})}catch(m){if(re(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const s=await Rs(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(s??"").split("/");try{const{data:r,error:o}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Gt});if(await hs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Ki}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:o})}catch(r){if(re(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:s,provider:i,token:n,access_token:r,nonce:o}=e,a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Gt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ki}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,n,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await li(this.storage,this.storageKey));const{error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Gi("You must provide either an email or phone number.")}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,i;try{let n,r;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:n,xform:Gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,i,n;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await li(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:b0})}catch(r){if(re(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new Qt;const{error:n}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(re(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:r}=e,{error:o}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:n,options:r}=e,{data:o,error:a}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Gi("You must provide either an email or phone number and a type")}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<To:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await Rs(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Mo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ys}):await this._useSession(async s=>{var i,n,r;const{data:o,error:a}=s;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:ys})})}catch(s){if(re(s))return Yh(s)&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:n,error:r}=i;if(r)throw r;if(!n.session)throw new Qt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await li(this.storage,this.storageKey));const{data:c,error:u}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ys});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qt;const s=Date.now()/1e3;let i=s,n=!0,r=null;const{payload:o}=Oo(e.access_token);if(o.exp&&(i=o.exp,n=i<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(re(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Qt;const{session:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!St())throw new Ji("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ji(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ya("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ji("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ya("No code detected.");const{data:x,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Ji("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:p,error:m}=await this._getUser(r);if(m)throw m;const _={provider_token:i,provider_refresh_token:n,access_token:r,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(i){if(re(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Rs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r)return{error:r};const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Jh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Z_(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,n;try{const{data:{session:r},error:o}=s;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await li(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(re(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:i,error:n}=await this._useSession(async r=>{var o,a,l,c,u;const{data:d,error:h}=r;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return St()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(re(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,n;const{data:r,error:o}=s;if(o)throw o;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await i0(async n=>(n>0&&await s0(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gt})),(n,r)=>{const o=200*Math.pow(2,n);return r&&hr(r)&&Date.now()+o-i<pi})}catch(i){if(this._debug(s,"error",i),re(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),St()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await Rs(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await mi(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:Mo()}else if(n&&!n.user&&!n.user){const o=await Rs(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await hs(this.storage,this.storageKey+"-user"),await mi(this.storage,this.storageKey,n)):n.user=Mo()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const r=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<To;if(this._debug(i,`session has${r?"":" not"} expired with margin of ${To}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),hr(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new no;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Qt;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(n,"error",r),re(r)){const o={session:null,error:r};return hr(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,i=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await mi(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const r=Dc(n);await mi(this.storage,this.storageKey,r)}else{const n=Dc(s);await mi(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await hs(this.storage,this.storageKey),await hs(this.storage,this.storageKey+"-code-verifier"),await hs(this.storage,this.storageKey+"-user"),this.userStorage&&await hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${pi}ms, refresh threshold is ${ba} ticks`),n<=ba&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const n=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await li(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(i?.queryParams){const r=new URLSearchParams(i.queryParams);n.push(r.toString())}return i?.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;return r?{data:null,error:r}:await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,n;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(re(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;return r?{data:null,error:r}:await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(re(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=e?.factors||[],n=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:n,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:n},error:r}=e;if(r)return{data:null,error:r};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Oo(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(a=>a.kid===e);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(a=>a.kid===e),i&&this.jwks_cached_at+V_>n)return i;const{data:r,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=n,i=r.keys.find(a=>a.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};i=f.session.access_token}const{header:n,payload:r,signature:o,raw:{header:a,payload:l}}=Oo(i);s?.allowExpired||u0(r.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:f}=await this.getUser(i);if(f)throw f;return{data:{claims:r,header:n,signature:o},error:null}}const u=d0(n.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Y_(`${a}.${l}`)))throw new Mr("Invalid JWT signature");return{data:{claims:r,header:n,signature:o},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}}Oi.nextInstanceID=0;const of=Oi;class k0 extends of{constructor(e){super(e)}}var C0=function(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class af{constructor(e,s,i){var n,r,o;this.supabaseUrl=e,this.supabaseKey=s;const a=U_(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:T_,realtime:M_,auth:Object.assign(Object.assign({},O_),{storageKey:l}),global:P_},u=H_(i??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=L_(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Yb(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new C_(this.storageUrl.href,this.headers,this.fetch,i?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Hb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return C0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:n,userStorage:r,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:n,userStorage:r,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lf=(t,e,s)=>new af(t,e,s);function A0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}A0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UA=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:Gh,AuthClient:of,AuthError:io,AuthImplicitGrantRedirectError:Ji,AuthInvalidCredentialsError:Gi,AuthInvalidJwtError:Mr,AuthInvalidTokenResponseError:Ki,AuthPKCEGrantCodeExchangeError:ya,AuthRetryableFetchError:Or,AuthSessionMissingError:Qt,AuthUnknownError:nl,AuthWeakPasswordError:va,CustomAuthError:cs,get FunctionRegion(){return Pr},FunctionsError:to,FunctionsFetchError:Ih,FunctionsHttpError:la,FunctionsRelayError:aa,GoTrueAdminApi:tf,GoTrueClient:Oi,NavigatorLockAcquireTimeoutError:nf,PostgrestError:Xb,get REALTIME_LISTEN_TYPES(){return Si},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return fa},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ha},get REALTIME_SUBSCRIBE_STATES(){return Ht},RealtimeChannel:so,RealtimeClient:zh,RealtimePresence:xi,SIGN_OUT_SCOPES:fr,SupabaseClient:af,WebSocketFactory:Uh,createClient:lf,isAuthApiError:Jh,isAuthError:re,isAuthImplicitGrantRedirectError:Xh,isAuthRetryableFetchError:hr,isAuthSessionMissingError:Yh,lockInternals:Bs,navigatorLock:rf},Symbol.toStringTag,{value:"Module"})),wa="https://lowuuqsenzwnjypwihnr.supabase.co",E0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxvd3V1cXNlbnp3bmp5cHdpaG5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1Mzk0NTIsImV4cCI6MjA3NTExNTQ1Mn0.XujdMv651RimoX1WrXxKbW5UN7vrCXJx82tNh9_eG2U";console.log("🔍 [Supabase] Variables d'environnement:");console.log("🔍 [Supabase] VITE_SUPABASE_URL:",wa);console.log("🔍 [Supabase] VITE_SUPABASE_ANON_KEY:","Défini");let Z=null;try{Z=lf(wa,E0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),console.log("✅ [Supabase] Client créé avec succès"),console.log("✅ [Supabase] URL:",wa)}catch(t){console.error("❌ [Supabase] Erreur de configuration:",t),console.log("📱 L'application fonctionnera en mode hors ligne uniquement")}const me=Ks({user:null,loading:!0,initialized:!1}),Dr=()=>{const t=Oe(()=>me.value.user),e=Oe(()=>!!me.value.user),s=Oe(()=>me.value.loading),i=Oe(()=>me.value.initialized),n=async()=>{if(console.log("🔐 [Auth] initAuth() - Début"),console.log("🔍 [Auth] Supabase client:",Z?"Disponible":"Non disponible"),!Z){console.error("❌ [Auth] Supabase client non disponible"),me.value.loading=!1,me.value.initialized=!0;return}try{console.log("📡 [Auth] Récupération de la session actuelle");const{data:{session:w},error:C}=await Z.auth.getSession();C?console.error("❌ [Auth] Erreur lors de la récupération de session:",C):console.log("✅ [Auth] Session récupérée:",w?"Session active":"Aucune session"),w?.user?(console.log("👤 [Auth] Utilisateur trouvé dans la session:",w.user.email),me.value.user=w.user):console.log("👤 [Auth] Aucun utilisateur dans la session"),console.log("👂 [Auth] Configuration du listener d'authentification"),Z.auth.onAuthStateChange((A,v)=>{console.log("🔄 [Auth] Auth state changed:",A,v?.user?.email),v?.user?(console.log("✅ [Auth] Utilisateur connecté:",v.user.email),me.value.user=v.user):(console.log("❌ [Auth] Utilisateur déconnecté"),me.value.user=null),me.value.loading=!1}),me.value.initialized=!0,me.value.loading=!1,console.log("✅ [Auth] Initialisation terminée")}catch(w){console.error("❌ [Auth] Erreur lors de l'initialisation de l'auth:",w),me.value.loading=!1,me.value.initialized=!0}},r=async(w,C)=>{console.log("🔐 [Auth] signIn() - Début"),console.log("📧 [Auth] Email:",w),me.value.loading=!0,console.log("📡 [Auth] Appel Supabase: signInWithPassword()");const{data:A,error:v}=await Z.auth.signInWithPassword({email:w,password:C});if(v)throw console.error("❌ [Auth] Erreur de connexion:",v),me.value.loading=!1,new Error(fs(v.message));return console.log("✅ [Auth] Connexion réussie:",A.user?.email),console.log("👤 [Auth] User ID:",A.user?.id),A},o=async(w,C,A)=>{console.log("🔐 [Auth] signUp() - Début"),console.log("📧 [Auth] Email:",w),console.log("👤 [Auth] Métadonnées:",A),me.value.loading=!0;const{data:v,error:T}=await Z.auth.signUp({email:w,password:C,options:{data:{first_name:A?.first_name||"",last_name:A?.last_name||"",role:A?.role||"secretaire",phone:A?.phone||"",full_name:`${A?.first_name||""} ${A?.last_name||""}`.trim()}}});if(T)throw console.error("❌ [Auth] Erreur d'inscription:",T),me.value.loading=!1,new Error(fs(T.message));if(console.log("✅ [Auth] Inscription réussie:",v.user?.email),console.log("👤 [Auth] User ID:",v.user?.id),v.user)try{await m(v.user.id,{email:v.user.email,first_name:A?.first_name||"",last_name:A?.last_name||"",role:A?.role||"secretaire",phone:A?.phone||""})}catch(P){console.warn("⚠️ [Auth] Erreur lors de la création du profil:",P)}return me.value.loading=!1,v},a=async()=>{const{error:w}=await Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(w)throw new Error(fs(w.message))},l=async()=>{me.value.loading=!0;const{error:w}=await Z.auth.signOut();if(w)throw me.value.loading=!1,new Error(fs(w.message));me.value.user=null,me.value.loading=!1},c=async w=>{const{error:C}=await Z.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/reset-password`});if(C)throw new Error(fs(C.message))},u=async w=>{const{error:C}=await Z.auth.updateUser({password:w});if(C)throw new Error(fs(C.message))},d=async w=>{const{error:C}=await Z.auth.updateUser({data:w});if(C)throw new Error(fs(C.message));me.value.user&&(me.value.user={...me.value.user,user_metadata:{...me.value.user.user_metadata,...w}})},h=async(w,C)=>{const{error:A}=await Z.auth.admin.updateUserById(w,{user_metadata:{role:C}});if(A)throw new Error(fs(A.message))},f=()=>me.value.user?.user_metadata?.role||"secretaire",g=w=>f()===w,p=w=>w.includes(f()),m=async(w,C)=>{console.log("👤 [Auth] createUserProfile() - Début"),console.log("🆔 [Auth] User ID:",w),console.log("📋 [Auth] Profil:",C);const{data:A,error:v}=await Z.from("users").insert({id:w,email:C.email,first_name:C.first_name,last_name:C.last_name,role:C.role,phone:C.phone||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(v)throw console.error("❌ [Auth] Erreur création profil:",v),v;return console.log("✅ [Auth] Profil créé:",A),A};return{user:t,isAuthenticated:e,isLoading:s,isInitialized:i,initAuth:n,signIn:r,signUp:o,signInWithGoogle:a,signOut:l,resetPassword:c,updatePassword:u,updateProfile:d,updateUserRole:h,createUserProfile:m,getUserProfile:async w=>{const C=w||me.value.user?.id;if(!C)return null;console.log("👤 [Auth] getUserProfile() - Début"),console.log("🆔 [Auth] User ID:",C);const{data:A,error:v}=await Z.from("users").select("*").eq("id",C).single();return v?(console.error("❌ [Auth] Erreur récupération profil:",v),null):(console.log("✅ [Auth] Profil récupéré:",A),A)},updateUserProfile:async w=>{const C=me.value.user?.id;if(!C)throw new Error("Utilisateur non authentifié");console.log("👤 [Auth] updateUserProfile() - Début"),console.log("🆔 [Auth] User ID:",C),console.log("📝 [Auth] Mises à jour:",w);const{data:A,error:v}=await Z.from("users").update({...w,updated_at:new Date().toISOString()}).eq("id",C).select().single();if(v)throw console.error("❌ [Auth] Erreur mise à jour profil:",v),v;return console.log("✅ [Auth] Profil mis à jour:",A),A},getAllUsers:async()=>{console.log("👥 [Auth] getAllUsers() - Début");const{data:w,error:C}=await Z.from("users").select("*").order("created_at",{ascending:!1});if(C)throw console.error("❌ [Auth] Erreur récupération utilisateurs:",C),C;return console.log("✅ [Auth] Utilisateurs récupérés:",w?.length||0),w||[]},getCurrentRole:f,hasRole:g,hasAnyRole:p}},fs=t=>({"Invalid login credentials":"Email ou mot de passe incorrect","Email not confirmed":"Veuillez confirmer votre email","User not found":"Utilisateur introuvable","Password should be at least 6 characters":"Le mot de passe doit contenir au moins 6 caractères","User already registered":"Cet email est déjà utilisé","Invalid email":"Adresse email invalide","Signup is disabled":"Les inscriptions sont désactivées","Email rate limit exceeded":"Trop de tentatives, réessayez plus tard"})[t]||t,P0="/assets/logo-DRyNJObc.jpeg",T0=()=>({logo:P0,getLogoAlt:()=>"Global Star Distribution",getLogoClass:(e="medium")=>`${{small:"h-8 w-8",medium:"h-16 w-16",large:"h-24 w-24"}[e]} rounded-xl object-cover`});function gr(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function O0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"})])}function Hc(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function M0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"})])}function I0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function cf(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function uf(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function pr(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})])}function D0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Uc(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function qn(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function R0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function xa(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function mr(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}function L0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function j0(t,e){return ae(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const F0={key:0,class:"min-h-screen bg-gray-50"},H0={key:1,class:"min-h-screen bg-gray-50"},U0={key:0,class:"relative z-50 lg:hidden"},$0={class:"fixed inset-0 z-40 flex"},B0={class:"relative flex w-full max-w-sm flex-1 flex-col bg-gradient-to-b from-gray-50 to-white shadow-2xl"},N0={class:"absolute top-0 right-0 -mr-12 pt-2"},z0={class:"flex flex-shrink-0 items-center px-6 py-8 bg-white border-b border-gray-100"},V0={class:"flex items-center"},W0={class:"h-10 w-10 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg"},q0=["src","alt"],K0={class:"mt-6 flex-1 space-y-2 px-4"},G0={class:"p-4 border-t border-gray-100 bg-white"},J0={class:"flex items-center p-3 rounded-xl bg-gray-50"},Y0={class:"h-10 w-10 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg"},X0={class:"text-sm font-bold text-white"},Q0={class:"ml-3 flex-1"},Z0={class:"text-sm font-semibold text-gray-900"},ey={class:"text-xs text-gray-600"},ty={class:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col"},sy={class:"flex flex-col flex-grow bg-gradient-to-b from-gray-50 to-white border-r border-gray-200 shadow-lg"},iy={class:"flex items-center flex-shrink-0 px-6 py-8 bg-white border-b border-gray-100"},ny={class:"flex items-center"},ry={class:"h-10 w-10 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg"},oy=["src","alt"],ay={class:"mt-6 flex-1 space-y-2 px-4"},ly={class:"transition-colors"},cy={key:0,class:"absolute right-2 top-1/2 transform -translate-y-1/2 w-2 h-2 bg-white rounded-full shadow-lg"},uy={class:"p-4 border-t border-gray-100 bg-white"},dy={class:"flex items-center p-3 rounded-xl bg-gray-50"},hy={class:"h-10 w-10 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg"},fy={class:"text-sm font-bold text-white"},gy={class:"ml-3 flex-1"},py={class:"text-sm font-semibold text-gray-900"},my={class:"text-xs text-gray-600"},by={class:"lg:pl-72"},_y={class:"sticky top-0 z-40 flex h-20 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white/80 backdrop-blur-xl px-4 shadow-lg sm:gap-x-6 sm:px-6 lg:px-8"},yy={class:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6"},vy={class:"flex flex-1 items-center"},wy={class:"text-xl font-bold text-gray-900"},xy={class:"text-sm text-gray-600"},Sy={class:"flex items-center gap-x-4 lg:gap-x-6"},ky={class:"flex items-center gap-x-4"},Cy={class:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors"},Ay={class:"h-10 w-10 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg"},Ey={class:"text-sm font-bold text-white"},Py={class:"hidden sm:block"},Ty={class:"text-sm font-semibold text-gray-900"},Oy={class:"text-xs text-gray-600"},My={class:"py-8"},Iy={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Dy=jn({__name:"App",setup(t){const e=Ks(!1),s=Db(),i=Ib(),{logo:n,getLogoAlt:r,getLogoClass:o}=T0(),a=["/login","/register"],l=Oe(()=>a.includes(s.path)),c=[{name:"Dashboard",href:"/",icon:R0},{name:"Commandes",href:"/commandes",icon:xa},{name:"Production",href:"/production",icon:pr},{name:"Livraison",href:"/livraison",icon:mr},{name:"Stock",href:"/stock",icon:gr},{name:"Documents",href:"/documents",icon:D0},{name:"Personnel",href:"/personnel",icon:L0},{name:"Analyses",href:"/analyses",icon:cf},{name:"Paramètres",href:"/parametres",icon:uf}],u=Oe(()=>c.find(p=>p.href===s.path)?.name||"Dashboard"),{user:d}=Dr(),h=()=>{e.value=!e.value},{signOut:f}=Dr(),g=async()=>{await f(),i.push("/login")};return(p,m)=>{const _=Wd("router-link");return l.value?(ae(),le("div",F0,[ee(G(oa))])):(ae(),le("div",H0,[e.value?(ae(),le("div",U0,[b("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm",onClick:h}),b("div",$0,[b("div",B0,[b("div",N0,[b("button",{type:"button",class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full bg-white bg-opacity-20 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white transition-all hover:bg-opacity-30",onClick:h},[ee(G(j0),{class:"h-6 w-6 text-white"})])]),b("div",z0,[b("div",V0,[b("div",W0,[b("img",{src:G(n),alt:G(r)(),class:ze(G(o)("small"))},null,10,q0)]),m[1]||(m[1]=b("div",{class:"ml-3"},[b("h1",{class:"text-lg font-bold text-gray-900"},"Global Star"),b("p",{class:"text-sm text-gray-600"},"Distribution")],-1))])]),b("nav",K0,[(ae(),le(Ke,null,ps(c,x=>ee(_,{key:x.name,to:x.href,class:ze(["group flex items-center px-4 py-3 text-base font-medium rounded-xl transition-all duration-200",[G(s).path===x.href?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg":"text-gray-700 hover:bg-white hover:shadow-md"]]),onClick:m[0]||(m[0]=k=>e.value=!1)},{default:Ws(()=>[(ae(),Cr(Yo(x.icon),{class:ze(["mr-4 h-6 w-6 flex-shrink-0",[G(s).path===x.href?"text-white":"text-gray-500 group-hover:text-orange-500"]])},null,8,["class"])),fh(" "+ie(x.name),1)]),_:2},1032,["to","class"])),64))]),b("div",G0,[b("div",J0,[b("div",Y0,[b("span",X0,ie((G(d)?.user_metadata?.first_name||G(d)?.email||"U")?.charAt(0).toUpperCase()),1)]),b("div",Q0,[b("p",Z0,ie(G(d)?.user_metadata?.first_name||G(d)?.email),1),b("p",ey,ie(G(d)?.user_metadata?.role),1)])])])])])])):cn("",!0),b("div",ty,[b("div",sy,[b("div",iy,[b("div",ny,[b("div",ry,[b("img",{src:G(n),alt:G(r)(),class:ze(G(o)("small"))},null,10,oy)]),m[2]||(m[2]=b("div",{class:"ml-3"},[b("h1",{class:"text-lg font-bold text-gray-900"},"Global Star"),b("p",{class:"text-sm text-gray-600"},"Distribution")],-1))])]),b("nav",ay,[(ae(),le(Ke,null,ps(c,x=>ee(_,{key:x.name,to:x.href,class:ze(["group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 relative overflow-hidden",[G(s).path===x.href?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:bg-white hover:shadow-md hover:transform hover:scale-102"]])},{default:Ws(()=>[(ae(),Cr(Yo(x.icon),{class:ze(["mr-4 h-5 w-5 flex-shrink-0 transition-colors",[G(s).path===x.href?"text-white":"text-gray-500 group-hover:text-orange-500"]])},null,8,["class"])),b("span",ly,ie(x.name),1),G(s).path===x.href?(ae(),le("div",cy)):cn("",!0)]),_:2},1032,["to","class"])),64))]),b("div",uy,[b("div",dy,[b("div",hy,[b("span",fy,ie(G(d)?.user_metadata?.first_name?.charAt(0).toUpperCase()||G(d)?.email?.charAt(0).toUpperCase()),1)]),b("div",gy,[b("p",py,ie(G(d)?.user_metadata?.first_name||G(d)?.email),1),b("p",my,ie(G(d)?.user_metadata?.role||"Utilisateur"),1)]),b("button",{onClick:g,class:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-lg hover:bg-red-50",title:"Déconnexion"},[ee(G(Hc),{class:"h-5 w-5"})])])])])]),b("div",by,[b("div",_y,[b("button",{type:"button",class:"-m-2.5 p-2.5 text-gray-700 hover:text-orange-600 transition-colors lg:hidden",onClick:h},[ee(G(I0),{class:"h-6 w-6"})]),b("div",yy,[b("div",vy,[b("div",null,[b("h1",wy,ie(u.value),1),b("p",xy,ie(new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)])]),b("div",Sy,[m[3]||(m[3]=gh('<button type="button" class="relative -m-2.5 p-2.5 text-gray-400 hover:text-orange-500 transition-colors hover:bg-orange-50 rounded-xl" data-v-7e4e8a9a><span class="sr-only" data-v-7e4e8a9a>Voir les notifications</span><div class="relative" data-v-7e4e8a9a><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" data-v-7e4e8a9a><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" data-v-7e4e8a9a></path></svg><span class="absolute -top-1 -right-1 h-3 w-3 rounded-full bg-gradient-to-r from-red-500 to-red-600 shadow-lg animate-pulse" data-v-7e4e8a9a></span></div></button>',1)),b("div",ky,[b("div",Cy,[b("div",Ay,[b("span",Ey,ie((G(d)?.user_metadata?.first_name||G(d)?.email||"U")?.charAt(0).toUpperCase()),1)]),b("div",Py,[b("p",Ty,ie(G(d)?.user_metadata?.first_name||G(d)?.email),1),b("p",Oy,ie(G(d)?.user_metadata?.role),1)])]),b("button",{onClick:g,class:"text-gray-400 hover:text-red-500 transition-colors p-2 rounded-xl hover:bg-red-50",title:"Déconnexion"},[ee(G(Hc),{class:"h-5 w-5"})])])])])]),b("main",My,[b("div",Iy,[ee(G(oa))])])])]))}}}),df=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s},Ry=df(Dy,[["__scopeId","data-v-7e4e8a9a"]]);class Ly{getItem(e){try{const s=localStorage.getItem(e);return s?JSON.parse(s):[]}catch(s){return console.error(`Erreur lors de la lecture de ${e}:`,s),[]}}setItem(e,s){try{localStorage.setItem(e,JSON.stringify(s))}catch(i){console.error(`Erreur lors de l'écriture de ${e}:`,i)}}getArticles(){return[]}addArticle(){return{}}updateArticle(){return{}}deleteArticle(){return{}}getCommandes(){return[]}addCommande(){return{}}updateCommande(){return{}}deleteCommande(){return{}}getLivraisons(){return[]}addLivraison(){return{}}updateLivraison(){return{}}deleteLivraison(){return{}}getProductions(){return[]}getProductionToday(){return[]}addProduction(){return{}}updateProduction(){return{}}deleteProduction(){return{}}getStock(){return[]}getPersonnel(){return[]}addPersonnel(){return{}}updatePersonnel(){return{}}deletePersonnel(){return{}}getDocuments(){return[]}addDocument(){return{}}updateDocument(){return{}}deleteDocument(){return{}}getAnalyses(){return[]}addAnalyse(){return{}}updateAnalyse(){return{}}deleteAnalyse(){return{}}getTransferts(){return[]}addTransfert(){return{}}updateTransfert(){return{}}deleteTransfert(){return{}}getStats(){return{}}}const xt=new Ly,qt={mode:"offline",supabase:{enabled:!1,url:"https://lowuuqsenzwnjypwihnr.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxvd3V1cXNlbnp3bmp5cHdpaG5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1Mzk0NTIsImV4cCI6MjA3NTExNTQ1Mn0.XujdMv651RimoX1WrXxKbW5UN7vrCXJx82tNh9_eG2U"},sync:{enabled:!1,interval:3e4,retryAttempts:3}},jy=()=>{const t="https://lowuuqsenzwnjypwihnr.supabase.co",e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxvd3V1cXNlbnp3bmp5cHdpaG5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1Mzk0NTIsImV4cCI6MjA3NTExNTQ1Mn0.XujdMv651RimoX1WrXxKbW5UN7vrCXJx82tNh9_eG2U",s=t.trim()!==""&&e.trim()!==""&&t.startsWith("https://")&&e.startsWith("eyJ");return console.log("🔍 [AppConfig] Vérification Supabase:",{supabaseUrl:"Défini",supabaseAnonKey:"Défini",isConfigured:s}),s},Fy=()=>(jy()?(qt.mode="online",qt.supabase.enabled=!0,qt.supabase.url="https://lowuuqsenzwnjypwihnr.supabase.co",qt.supabase.anonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxvd3V1cXNlbnp3bmp5cHdpaG5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1Mzk0NTIsImV4cCI6MjA3NTExNTQ1Mn0.XujdMv651RimoX1WrXxKbW5UN7vrCXJx82tNh9_eG2U",qt.sync.enabled=!0,console.log("✅ Mode en ligne activé (Supabase configuré)")):(qt.mode="offline",qt.supabase.enabled=!1,qt.sync.enabled=!1,console.log("📱 Mode hors ligne activé")),qt);class Hy{useSupabase;constructor(){this.useSupabase=!0,console.log("📊 CompleteHybridService: Mode Supabase FORCÉ"),console.log("🚀 [CompleteHybridService] MODE SUPABASE FORCÉ - 100% Supabase activé")}isUserAuthenticated(){return console.log("📡 [CompleteHybridService] Mode Supabase forcé - Authentification simulée"),!0}getCurrentUserId(){return console.log("📡 [CompleteHybridService] Mode Supabase - Récupération de toutes les données (sans filtre user_id)"),null}mapArticleFromSupabase(e){return{id:e.id?.toString(),nom:e.nom,categorie:e.categorie,stock:e.stock,seuilCritique:e.seuil_critique,unite:e.unite,prix:e.prix,fournisseur:e.fournisseur,notes:e.notes,typeProduction:e.type_production,capaciteProduction:e.capacite_production,uniteProduction:e.unite_production,coutProduction:e.cout_production,tempsProduction:e.temps_production,qualite:e.qualite,actif:e.actif,derniereMiseAJour:e.derniere_mise_a_jour,user_id:e.user_id}}mapArticleToSupabase(e){return{nom:e.nom,categorie:e.categorie,stock:e.stock,seuil_critique:e.seuilCritique,unite:e.unite,prix:e.prix,fournisseur:e.fournisseur,notes:e.notes,type_production:e.typeProduction,capacite_production:e.capaciteProduction,unite_production:e.uniteProduction,cout_production:e.coutProduction,temps_production:e.tempsProduction,qualite:e.qualite,actif:e.actif,derniere_mise_a_jour:e.derniereMiseAJour}}mapCommandeFromSupabase(e){return{id:e.id?.toString(),numeroCommande:e.numero_commande,client:e.client,telephone:e.telephone,email:e.email,adresse:e.adresse,produits:e.produits||[],statut:e.statut,date:e.date,dateLivraisonSouhaitee:e.date_livraison_souhaitee,priorite:e.priorite,user_id:e.user_id}}mapCommandeToSupabase(e){return{numero_commande:e.numeroCommande,client:e.client,telephone:e.telephone,email:e.email,adresse:e.adresse,produits:e.produits,statut:e.statut,date:e.date,date_livraison_souhaitee:e.dateLivraisonSouhaitee,priorite:e.priorite}}mapLivraisonFromSupabase(e){return{id:e.id?.toString(),numeroBl:e.numero_bl,date:e.date,client:e.client,telephone:e.telephone,chauffeur:e.chauffeur,produits:e.produits||[],statut:e.statut,adresse:e.adresse,codeSuivi:e.code_suivi,totalCommande:e.total_commande,totalLivraison:e.total_livraison,differenceTotale:e.difference_totale,resteAPayerTotal:e.reste_a_payer_total,user_id:e.user_id}}mapLivraisonToSupabase(e){return{numero_bl:e.numeroBl,date:e.date,client:e.client,telephone:e.telephone,chauffeur:e.chauffeur,produits:e.produits,statut:e.statut,adresse:e.adresse,code_suivi:e.codeSuivi,total_commande:e.totalCommande,total_livraison:e.totalLivraison,difference_totale:e.differenceTotale,reste_a_payer_total:e.resteAPayerTotal}}mapProductionFromSupabase(e){return{id:e.id?.toString(),date:e.date,lotId:e.lot_id,statut:e.statut,articlesProduits:e.articles_produits||[],tempsEffectif:e.temps_effectif,rendement:e.rendement,coutProduction:e.cout_production,user_id:e.user_id}}mapProductionToSupabase(e){return{date:e.date,lot_id:e.lotId,statut:e.statut,articles_produits:e.articlesProduits,temps_effectif:e.tempsEffectif,rendement:e.rendement,cout_production:e.coutProduction}}mapUserFromSupabase(e){return{id:e.id?.toString(),email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role,phone:e.phone,actif:e.actif,created_at:e.created_at,updated_at:e.updated_at}}mapUserToSupabase(e){return{email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role,phone:e.phone,actif:e.actif}}getFromStorage(e){try{const s=localStorage.getItem(e);if(s){const i=JSON.parse(s);return console.log(`📦 [CompleteHybridService] ${e} trouvés dans localStorage:`,i.length),i}return console.log(`📦 [CompleteHybridService] Aucun ${e} dans localStorage`),[]}catch(s){return console.error(`❌ [CompleteHybridService] Erreur lors de la lecture du localStorage (${e}):`,s),[]}}saveToStorage(e,s){try{localStorage.setItem(e,JSON.stringify(s)),console.log(`💾 [CompleteHybridService] ${e} sauvegardés dans localStorage:`,s.length)}catch(i){console.error(`❌ [CompleteHybridService] Erreur lors de la sauvegarde dans localStorage (${e}):`,i)}}async getArticles(){console.log("🔍 [CompleteHybridService] getArticles() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const e=this.getCurrentUserId(),{data:s,error:i}=await this.buildQuery("articles",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Articles récupérés depuis Supabase:",s?.length||0),(s||[]).map(r=>this.mapArticleFromSupabase(r))}else return console.log("⚠️ [CompleteHybridService] Mode Supabase forcé - section else ignorée"),[]}catch(e){throw console.error("❌ [CompleteHybridService] Erreur lors de la récupération des articles:",e),e}}async addArticle(e){console.log("🔍 [CompleteHybridService] addArticle() - Début");const s={...e,user_id:this.getCurrentUserId()||void 0};try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapArticleToSupabase(s),{data:r,error:o}=await Z.from("articles").insert([{...n,user_id:i}]).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Article créé dans Supabase:",r),this.mapArticleFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("stock_articles"),n={...s,id:this.generateId()};return i.push(n),this.saveToStorage("stock_articles",i),console.log("✅ [CompleteHybridService] Article créé dans localStorage:",n),n}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la création de l'article:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("stock_articles"),r={...s,id:this.generateId()};return n.push(r),this.saveToStorage("stock_articles",n),r}}async updateArticle(e,s){console.log("🔍 [CompleteHybridService] updateArticle() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapArticleToSupabase(s),{data:r,error:o}=await Z.from("articles").update(n).eq("id",e).eq("user_id",i).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Article mis à jour dans Supabase:",r),this.mapArticleFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("stock_articles"),n=i.findIndex(r=>r.id===e);if(n!==-1)return i[n]={...i[n],...s},this.saveToStorage("stock_articles",i),console.log("✅ [CompleteHybridService] Article mis à jour dans localStorage:",i[n]),i[n];throw new Error("Article non trouvé")}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la mise à jour de l'article:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("stock_articles"),r=n.findIndex(o=>o.id===e);if(r!==-1)return n[r]={...n[r],...s},this.saveToStorage("stock_articles",n),n[r];throw new Error("Article non trouvé")}}async deleteArticle(e){console.log("🔍 [CompleteHybridService] deleteArticle() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const s=this.getCurrentUserId();if(!s)throw new Error("Utilisateur non authentifié");const{error:i}=await Z.from("articles").delete().eq("id",e).eq("user_id",s);if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;console.log("✅ [CompleteHybridService] Article supprimé de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("stock_articles").filter(n=>n.id!==e);this.saveToStorage("stock_articles",i),console.log("✅ [CompleteHybridService] Article supprimé de localStorage")}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la suppression de l'article:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("stock_articles").filter(r=>r.id!==e);this.saveToStorage("stock_articles",n)}}async getCommandes(){console.log("🔍 [CompleteHybridService] getCommandes() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const e=this.getCurrentUserId(),{data:s,error:i}=await this.buildQuery("commandes",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Commandes récupérées depuis Supabase:",s?.length||0),(s||[]).map(r=>this.mapCommandeFromSupabase(r))}else return console.log("💾 [CompleteHybridService] Utilisation de localStorage"),this.getFromStorage("commandes")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors de la récupération des commandes:",e),console.log("🔄 [CompleteHybridService] Fallback vers localStorage"),this.getFromStorage("commandes")}}async addCommande(e){console.log("🔍 [CompleteHybridService] addCommande() - Début");const s={...e,user_id:this.getCurrentUserId()||void 0};try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapCommandeToSupabase(s),{data:r,error:o}=await Z.from("commandes").insert([{...n,user_id:i}]).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Commande créée dans Supabase:",r),this.mapCommandeFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("commandes"),n={...s,id:this.generateId()};return i.push(n),this.saveToStorage("commandes",i),console.log("✅ [CompleteHybridService] Commande créée dans localStorage:",n),n}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la création de la commande:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("commandes"),r={...s,id:this.generateId()};return n.push(r),this.saveToStorage("commandes",n),r}}async updateCommande(e,s){console.log("🔍 [CompleteHybridService] updateCommande() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapCommandeToSupabase(s),{data:r,error:o}=await Z.from("commandes").update(n).eq("id",e).eq("user_id",i).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Commande mise à jour dans Supabase:",r),this.mapCommandeFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("commandes"),n=i.findIndex(r=>r.id===e);if(n!==-1)return i[n]={...i[n],...s},this.saveToStorage("commandes",i),console.log("✅ [CompleteHybridService] Commande mise à jour dans localStorage:",i[n]),i[n];throw new Error("Commande non trouvée")}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la mise à jour de la commande:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("commandes"),r=n.findIndex(o=>o.id===e);if(r!==-1)return n[r]={...n[r],...s},this.saveToStorage("commandes",n),n[r];throw new Error("Commande non trouvée")}}async deleteCommande(e){console.log("🔍 [CompleteHybridService] deleteCommande() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const s=this.getCurrentUserId();if(!s)throw new Error("Utilisateur non authentifié");const{error:i}=await Z.from("commandes").delete().eq("id",e).eq("user_id",s);if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;console.log("✅ [CompleteHybridService] Commande supprimée de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("commandes").filter(n=>n.id!==e);this.saveToStorage("commandes",i),console.log("✅ [CompleteHybridService] Commande supprimée de localStorage")}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la suppression de la commande:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("commandes").filter(r=>r.id!==e);this.saveToStorage("commandes",n)}}async getLivraisons(){console.log("🔍 [CompleteHybridService] getLivraisons() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const e=this.getCurrentUserId(),{data:s,error:i}=await this.buildQuery("livraisons",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Livraisons récupérées depuis Supabase:",s?.length||0),(s||[]).map(r=>this.mapLivraisonFromSupabase(r))}else return console.log("💾 [CompleteHybridService] Utilisation de localStorage"),this.getFromStorage("livraisons")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors de la récupération des livraisons:",e),console.log("🔄 [CompleteHybridService] Fallback vers localStorage"),this.getFromStorage("livraisons")}}async addLivraison(e){console.log("🔍 [CompleteHybridService] addLivraison() - Début");const s={...e,user_id:this.getCurrentUserId()||void 0};try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapLivraisonToSupabase(s),{data:r,error:o}=await Z.from("livraisons").insert([{...n,user_id:i}]).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Livraison créée dans Supabase:",r),this.mapLivraisonFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("livraisons"),n={...s,id:this.generateId()};return i.push(n),this.saveToStorage("livraisons",i),console.log("✅ [CompleteHybridService] Livraison créée dans localStorage:",n),n}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la création de la livraison:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("livraisons"),r={...s,id:this.generateId()};return n.push(r),this.saveToStorage("livraisons",n),r}}async updateLivraison(e,s){console.log("🔍 [CompleteHybridService] updateLivraison() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapLivraisonToSupabase(s),{data:r,error:o}=await Z.from("livraisons").update(n).eq("id",e).eq("user_id",i).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Livraison mise à jour dans Supabase:",r),this.mapLivraisonFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("livraisons"),n=i.findIndex(r=>r.id===e);if(n!==-1)return i[n]={...i[n],...s},this.saveToStorage("livraisons",i),console.log("✅ [CompleteHybridService] Livraison mise à jour dans localStorage:",i[n]),i[n];throw new Error("Livraison non trouvée")}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la mise à jour de la livraison:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("livraisons"),r=n.findIndex(o=>o.id===e);if(r!==-1)return n[r]={...n[r],...s},this.saveToStorage("livraisons",n),n[r];throw new Error("Livraison non trouvée")}}async deleteLivraison(e){console.log("🔍 [CompleteHybridService] deleteLivraison() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const s=this.getCurrentUserId();if(!s)throw new Error("Utilisateur non authentifié");const{error:i}=await Z.from("livraisons").delete().eq("id",e).eq("user_id",s);if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;console.log("✅ [CompleteHybridService] Livraison supprimée de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("livraisons").filter(n=>n.id!==e);this.saveToStorage("livraisons",i),console.log("✅ [CompleteHybridService] Livraison supprimée de localStorage")}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la suppression de la livraison:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("livraisons").filter(r=>r.id!==e);this.saveToStorage("livraisons",n)}}async getProductions(){console.log("🔍 [CompleteHybridService] getProductions() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const e=this.getCurrentUserId(),{data:s,error:i}=await this.buildQuery("production",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Productions récupérées depuis Supabase:",s?.length||0),(s||[]).map(r=>this.mapProductionFromSupabase(r))}else return console.log("💾 [CompleteHybridService] Utilisation de localStorage"),this.getFromStorage("productions")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors de la récupération des productions:",e),console.log("🔄 [CompleteHybridService] Fallback vers localStorage"),this.getFromStorage("productions")}}async addProduction(e){console.log("🔍 [CompleteHybridService] addProduction() - Début");const s={...e,user_id:this.getCurrentUserId()||void 0};try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapProductionToSupabase(s),{data:r,error:o}=await Z.from("production").insert([{...n,user_id:i}]).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Production créée dans Supabase:",r),this.mapProductionFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("productions"),n={...s,id:this.generateId()};return i.push(n),this.saveToStorage("productions",i),console.log("✅ [CompleteHybridService] Production créée dans localStorage:",n),n}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la création de la production:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("productions"),r={...s,id:this.generateId()};return n.push(r),this.saveToStorage("productions",n),r}}async updateProduction(e,s){console.log("🔍 [CompleteHybridService] updateProduction() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapProductionToSupabase(s),{data:r,error:o}=await Z.from("production").update(n).eq("id",e).eq("user_id",i).select("*").single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;return console.log("✅ [CompleteHybridService] Production mise à jour dans Supabase:",r),this.mapProductionFromSupabase(r)}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("productions"),n=i.findIndex(r=>r.id===e);if(n!==-1)return i[n]={...i[n],...s},this.saveToStorage("productions",i),console.log("✅ [CompleteHybridService] Production mise à jour dans localStorage:",i[n]),i[n];throw new Error("Production non trouvée")}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la mise à jour de la production:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("productions"),r=n.findIndex(o=>o.id===e);if(r!==-1)return n[r]={...n[r],...s},this.saveToStorage("productions",n),n[r];throw new Error("Production non trouvée")}}async deleteProduction(e){console.log("🔍 [CompleteHybridService] deleteProduction() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const s=this.getCurrentUserId();if(!s)throw new Error("Utilisateur non authentifié");const{error:i}=await Z.from("production").delete().eq("id",e).eq("user_id",s);if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;console.log("✅ [CompleteHybridService] Production supprimée de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("productions").filter(n=>n.id!==e);this.saveToStorage("productions",i),console.log("✅ [CompleteHybridService] Production supprimée de localStorage")}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la suppression de la production:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("productions").filter(r=>r.id!==e);this.saveToStorage("productions",n)}}async getUsers(){console.log("🔍 [CompleteHybridService] getUsers() - Début");try{if(this.isUserAuthenticated()){if(console.log("📡 [CompleteHybridService] Utilisation de Supabase"),!this.getCurrentUserId())throw new Error("Utilisateur non authentifié");const{data:s,error:i}=await Z.from("users").select("*").order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Utilisateurs récupérés depuis Supabase:",s?.length||0),(s||[]).map(r=>this.mapUserFromSupabase(r))}else return console.log("💾 [CompleteHybridService] Utilisation de localStorage"),this.getFromStorage("users")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors de la récupération des utilisateurs:",e),console.log("🔄 [CompleteHybridService] Fallback vers localStorage"),this.getFromStorage("users")}}async getAnalyses(){console.log("🔍 [CompleteHybridService] getAnalyses() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const e=this.getCurrentUserId();if(!e)throw new Error("Utilisateur non authentifié");const{data:s,error:i}=await Z.from("analyses").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Analyses récupérées depuis Supabase:",s?.length||0),(s||[]).map(n=>this.mapAnalyseFromSupabase(n))}else return console.log("💾 [CompleteHybridService] Utilisation de localStorage"),this.getFromStorage("analyses")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors de la récupération des analyses:",e),console.log("🔄 [CompleteHybridService] Fallback vers localStorage"),this.getFromStorage("analyses")}}async addAnalyse(e){console.log("🔍 [CompleteHybridService] addAnalyse() - Début"),console.log("📊 [CompleteHybridService] Analyse à créer:",e);const s={...e,user_id:this.getCurrentUserId()||void 0};try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapAnalyseToSupabase(s),{data:r,error:o}=await Z.from("analyses").insert([{...n,user_id:i}]).select().single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;console.log("✅ [CompleteHybridService] Analyse créée dans Supabase:",r);const a=this.mapAnalyseFromSupabase(r);return console.log("🔄 [CompleteHybridService] Analyse mappée:",a),a}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("analyses"),n={...s,id:this.generateId()};return i.push(n),this.saveToStorage("analyses",i),console.log("✅ [CompleteHybridService] Analyse créée dans localStorage:",n),n}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la création de l'analyse:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("analyses"),r={...s,id:this.generateId()};return n.push(r),this.saveToStorage("analyses",n),console.log("✅ [CompleteHybridService] Analyse créée dans localStorage (fallback):",r),r}}async updateAnalyse(e,s){console.log("🔍 [CompleteHybridService] updateAnalyse() - Début"),console.log("📊 [CompleteHybridService] Analyse à mettre à jour:",e,s);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.getCurrentUserId();if(!i)throw new Error("Utilisateur non authentifié");const n=this.mapAnalyseToSupabase(s),{data:r,error:o}=await Z.from("analyses").update(n).eq("id",e).eq("user_id",i).select().single();if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",o),o;console.log("✅ [CompleteHybridService] Analyse mise à jour dans Supabase:",r);const a=this.mapAnalyseFromSupabase(r);return console.log("🔄 [CompleteHybridService] Analyse mappée:",a),a}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("analyses"),n=i.findIndex(r=>r.id===e);if(n!==-1)return i[n]={...i[n],...s},this.saveToStorage("analyses",i),console.log("✅ [CompleteHybridService] Analyse mise à jour dans localStorage:",i[n]),i[n];throw new Error("Analyse non trouvée")}}catch(i){console.error("❌ [CompleteHybridService] Erreur lors de la mise à jour de l'analyse:",i),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("analyses"),r=n.findIndex(o=>o.id===e);if(r!==-1)return n[r]={...n[r],...s},this.saveToStorage("analyses",n),console.log("✅ [CompleteHybridService] Analyse mise à jour dans localStorage (fallback):",n[r]),n[r];throw new Error("Analyse non trouvée")}}async deleteAnalyse(e){console.log("🔍 [CompleteHybridService] deleteAnalyse() - Début"),console.log("📊 [CompleteHybridService] Analyse à supprimer:",e);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const s=this.getCurrentUserId();if(!s)throw new Error("Utilisateur non authentifié");const{error:i}=await Z.from("analyses").delete().eq("id",e).eq("user_id",s);if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;console.log("✅ [CompleteHybridService] Analyse supprimée de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("analyses").filter(n=>n.id!==e);this.saveToStorage("analyses",i),console.log("✅ [CompleteHybridService] Analyse supprimée de localStorage")}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la suppression de l'analyse:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("analyses").filter(r=>r.id!==e);this.saveToStorage("analyses",n),console.log("✅ [CompleteHybridService] Analyse supprimée de localStorage (fallback)")}}mapAnalyseFromSupabase(e){return{id:e.id?.toString(),nom:e.nom,type:e.type,donnees:e.donnees||{},dateAnalyse:e.date_analyse||e.date_debut||new Date().toISOString(),description:e.description,dateDebut:e.date_debut,dateFin:e.date_fin,statut:e.statut,resultats:e.resultats,observations:e.observations,recommandations:e.recommandations,user_id:e.user_id}}mapAnalyseToSupabase(e){return{nom:e.nom,type:e.type,description:e.description,date_debut:e.dateDebut,date_fin:e.dateFin,statut:e.statut,resultats:e.resultats,observations:e.observations,recommandations:e.recommandations}}async getDocuments(){console.log("🔍 [CompleteHybridService] getDocuments() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const e=this.getCurrentUserId();if(!e)throw new Error("Utilisateur non authentifié");const{data:s,error:i}=await Z.from("documents").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",i),i;return console.log("✅ [CompleteHybridService] Documents récupérés depuis Supabase:",s?.length||0),(s||[]).map(n=>this.mapDocumentFromSupabase(n))}else return console.log("💾 [CompleteHybridService] Utilisation de localStorage"),this.getFromStorage("documents")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors de la récupération des documents:",e),console.log("🔄 [CompleteHybridService] Fallback vers localStorage"),this.getFromStorage("documents")}}async addDocument(e){console.log("🔍 [CompleteHybridService] addDocument() - Début"),console.log("📄 [CompleteHybridService] Document à créer:",e.nom);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase Storage");let s=this.getCurrentUserId();s||(console.log("📡 [CompleteHybridService] Mode Supabase forcé - utilisation d'un userId par défaut"),s="00000000-0000-0000-0000-000000000000");const i=`documents/${s}/${e.fileName}`,{data:n,error:r}=await Z.storage.from("documents").upload(i,e.contenu,{contentType:"application/pdf",upsert:!0});if(r)throw console.error("❌ [CompleteHybridService] Erreur upload Supabase:",r),r;const{data:o}=Z.storage.from("documents").getPublicUrl(i),a={nom:e.nom,type:e.type,taille:e.contenu.size,url:o.publicUrl,description:e.description,user_id:s},{data:l,error:c}=await Z.from("documents").insert([a]).select().single();if(c)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",c),c;console.log("✅ [CompleteHybridService] Document créé dans Supabase:",l);const u=this.mapDocumentFromSupabase(l);return console.log("🔄 [CompleteHybridService] Document mappé:",u),u}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const s=this.getFromStorage("documents"),i={...e,id:this.generateId(),taille:e.contenu.size,url:URL.createObjectURL(e.contenu)};return s.push(i),this.saveToStorage("documents",s),console.log("✅ [CompleteHybridService] Document créé dans localStorage:",i),i}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la création du document:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const i=this.getFromStorage("documents"),n={...e,id:this.generateId(),taille:e.contenu.size,url:URL.createObjectURL(e.contenu)};return i.push(n),this.saveToStorage("documents",i),console.log("✅ [CompleteHybridService] Document créé dans localStorage (fallback):",n),n}}async deleteDocument(e){console.log("🔍 [CompleteHybridService] deleteDocument() - Début"),console.log("📄 [CompleteHybridService] Document à supprimer:",e);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const s=this.getCurrentUserId();if(!s)throw new Error("Utilisateur non authentifié");const{data:i,error:n}=await Z.from("documents").select("url").eq("id",e).eq("user_id",s).single();if(n)throw console.error("❌ [CompleteHybridService] Erreur récupération document:",n),n;if(i?.url){const o=i.url.split("/").slice(-2).join("/"),{error:a}=await Z.storage.from("documents").remove([o]);a&&console.error("❌ [CompleteHybridService] Erreur suppression storage:",a)}const{error:r}=await Z.from("documents").delete().eq("id",e).eq("user_id",s);if(r)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",r),r;console.log("✅ [CompleteHybridService] Document supprimé de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("documents").filter(n=>n.id!==e);this.saveToStorage("documents",i),console.log("✅ [CompleteHybridService] Document supprimé de localStorage")}}catch(s){console.error("❌ [CompleteHybridService] Erreur lors de la suppression du document:",s),console.log("🔄 [CompleteHybridService] Fallback vers localStorage");const n=this.getFromStorage("documents").filter(r=>r.id!==e);this.saveToStorage("documents",n),console.log("✅ [CompleteHybridService] Document supprimé de localStorage (fallback)")}}mapDocumentFromSupabase(e){return{id:e.id?.toString(),nom:e.nom,type:e.type,taille:e.taille,url:e.url,description:e.description,user_id:e.user_id}}mapDocumentToSupabase(e){return{nom:e.nom,type:e.type,taille:e.taille,url:e.url,description:e.description}}async createUser(e){console.log("🔍 [CompleteHybridService] createUser() - Début"),console.log("👤 [CompleteHybridService] Utilisateur à créer:",e.email);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i={id:this.generateId(),email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role,phone:e.phone,actif:e.actif,password_hash:await this.hashPassword(e.password)},{data:n,error:r}=await Z.from("users").insert([i]).select().single();if(r)throw console.error("❌ [CompleteHybridService] Erreur création utilisateur DB:",r),r;console.log("✅ [CompleteHybridService] Utilisateur créé dans DB:",n);const o=this.mapUserFromSupabase(n);return console.log("🔄 [CompleteHybridService] Utilisateur mappé:",o),o}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const s=this.getFromStorage("users"),i={...e,id:this.generateId(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return s.push(i),this.saveToStorage("users",s),console.log("✅ [CompleteHybridService] Utilisateur créé dans localStorage:",i),i}}catch(s){throw console.error("❌ [CompleteHybridService] Erreur lors de la création de l'utilisateur:",s),s}}async updateUser(e,s){console.log("🔍 [CompleteHybridService] updateUser() - Début"),console.log("👤 [CompleteHybridService] Utilisateur à mettre à jour:",e,s);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const i=this.mapUserToSupabase(s),{data:n,error:r}=await Z.from("users").update(i).eq("id",e).select().single();if(r)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",r),r;console.log("✅ [CompleteHybridService] Utilisateur mis à jour dans Supabase:",n);const o=this.mapUserFromSupabase(n);return console.log("🔄 [CompleteHybridService] Utilisateur mappé:",o),o}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("users"),n=i.findIndex(r=>r.id===e);if(n!==-1)return i[n]={...i[n],...s,updated_at:new Date().toISOString()},this.saveToStorage("users",i),console.log("✅ [CompleteHybridService] Utilisateur mis à jour dans localStorage:",i[n]),i[n];throw new Error("Utilisateur non trouvé")}}catch(i){throw console.error("❌ [CompleteHybridService] Erreur lors de la mise à jour de l'utilisateur:",i),i}}async deleteUser(e){console.log("🔍 [CompleteHybridService] deleteUser() - Début"),console.log("👤 [CompleteHybridService] Utilisateur à supprimer:",e);try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase");const{error:s}=await Z.from("users").delete().eq("id",e);if(s)throw console.error("❌ [CompleteHybridService] Erreur Supabase:",s),s;const{error:i}=await Z.auth.admin.deleteUser(e);i&&console.warn("⚠️ [CompleteHybridService] Erreur suppression Auth (peut nécessiter droits admin):",i),console.log("✅ [CompleteHybridService] Utilisateur supprimé de Supabase")}else{console.log("💾 [CompleteHybridService] Utilisation de localStorage");const i=this.getFromStorage("users").filter(n=>n.id!==e);this.saveToStorage("users",i),console.log("✅ [CompleteHybridService] Utilisateur supprimé de localStorage")}}catch(s){throw console.error("❌ [CompleteHybridService] Erreur lors de la suppression de l'utilisateur:",s),s}}async loginUser(e,s){console.log("🔍 [CompleteHybridService] loginUser() - Début"),console.log("👤 [CompleteHybridService] Connexion pour:",e);try{const{data:i,error:n}=await Z.from("users").select("*").eq("email",e).eq("actif",!0).single();if(n||!i)throw new Error("Utilisateur non trouvé ou inactif");if(!await this.verifyPassword(s,i.password_hash))throw new Error("Mot de passe incorrect");const o={user:{id:i.id,email:i.email,user_metadata:{first_name:i.first_name,last_name:i.last_name,role:i.role,phone:i.phone}},access_token:this.generateToken(i.id),refresh_token:this.generateToken(i.id)};return console.log("✅ [CompleteHybridService] Connexion réussie:",i.id),{user:o.user,session:o}}catch(i){throw console.error("❌ [CompleteHybridService] Erreur lors de la connexion:",i),i}}async hashPassword(e){const i=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}async verifyPassword(e,s){return await this.hashPassword(e)===s}generateToken(e){return btoa(JSON.stringify({userId:e,timestamp:Date.now()}))}buildQuery(e,s){let i=Z.from(e).select("*");return s&&(i=i.eq("user_id",s)),i}async getStockInfo(){console.log("🔍 [CompleteHybridService] getStockInfo() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase pour le stock");const e=this.getCurrentUserId(),{data:s,error:i}=await this.buildQuery("articles",e).order("created_at",{ascending:!1});if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase stock:",i),i;const n=(s||[]).map(o=>this.mapArticleFromSupabase(o)),r={totalArticles:n.length,stockCritique:n.filter(o=>o.stock<=o.seuilCritique).length,valeurTotale:n.reduce((o,a)=>o+a.stock*a.prix,0),articlesCritiques:n.filter(o=>o.stock<=o.seuilCritique),stockMoyen:n.length>0?n.reduce((o,a)=>o+a.stock,0)/n.length:0};return console.log("✅ [CompleteHybridService] Informations stock récupérées:",r),r}else throw new Error("Mode Supabase forcé - localStorage non disponible")}catch(e){throw console.error("❌ [CompleteHybridService] Erreur lors de la récupération du stock:",e),e}}async getProductionsDuJour(){console.log("🔍 [CompleteHybridService] getProductionsDuJour() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase pour les productions du jour");const e=this.getCurrentUserId(),s=new Date().toISOString().split("T")[0],{data:i,error:n}=await this.buildQuery("production",e).gte("date",`${s}T00:00:00.000Z`).lte("date",`${s}T23:59:59.999Z`).order("date",{ascending:!1});if(n)throw console.error("❌ [CompleteHybridService] Erreur Supabase productions du jour:",n),n;const r=(i||[]).map(a=>this.mapProductionFromSupabase(a)),o={total:r.length,enCours:r.filter(a=>a.statut==="en_cours").length,terminees:r.filter(a=>a.statut==="termine").length,annulees:r.filter(a=>a.statut==="annule").length,productions:r};return console.log("✅ [CompleteHybridService] Productions du jour récupérées:",o),o}else throw new Error("Mode Supabase forcé - localStorage non disponible")}catch(e){throw console.error("❌ [CompleteHybridService] Erreur lors de la récupération des productions du jour:",e),e}}async getLivraisonsRecentes(){console.log("🔍 [CompleteHybridService] getLivraisonsRecentes() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase pour les livraisons récentes");const e=this.getCurrentUserId(),{data:s,error:i}=await this.buildQuery("livraisons",e).order("date",{ascending:!1}).limit(10);if(i)throw console.error("❌ [CompleteHybridService] Erreur Supabase livraisons récentes:",i),i;const n=(s||[]).map(o=>this.mapLivraisonFromSupabase(o)),r={total:n.length,enCours:n.filter(o=>o.statut==="en_cours").length,livrees:n.filter(o=>o.statut==="livre").length,enAttente:n.filter(o=>o.statut==="en_attente").length,livraisons:n};return console.log("✅ [CompleteHybridService] Livraisons récentes récupérées:",r),r}else throw new Error("Mode Supabase forcé - localStorage non disponible")}catch(e){throw console.error("❌ [CompleteHybridService] Erreur lors de la récupération des livraisons récentes:",e),e}}async getProductionParSemaine(){console.log("🔍 [CompleteHybridService] getProductionParSemaine() - Début");try{if(this.isUserAuthenticated()){console.log("📡 [CompleteHybridService] Utilisation de Supabase pour la production par semaine");const e=this.getCurrentUserId(),s=new Date,i=new Date(s.setDate(s.getDate()-s.getDay())),n=new Date(i);n.setDate(n.getDate()+6);const{data:r,error:o}=await this.buildQuery("production",e).gte("date",i.toISOString()).lte("date",n.toISOString()).order("date",{ascending:!1});if(o)throw console.error("❌ [CompleteHybridService] Erreur Supabase production par semaine:",o),o;const a=(r||[]).map(u=>this.mapProductionFromSupabase(u)),l={lundi:a.filter(u=>new Date(u.date).getDay()===1).length,mardi:a.filter(u=>new Date(u.date).getDay()===2).length,mercredi:a.filter(u=>new Date(u.date).getDay()===3).length,jeudi:a.filter(u=>new Date(u.date).getDay()===4).length,vendredi:a.filter(u=>new Date(u.date).getDay()===5).length,samedi:a.filter(u=>new Date(u.date).getDay()===6).length,dimanche:a.filter(u=>new Date(u.date).getDay()===0).length},c={totalSemaine:a.length,enCours:a.filter(u=>u.statut==="en_cours").length,terminees:a.filter(u=>u.statut==="termine").length,parJour:l,productions:a};return console.log("✅ [CompleteHybridService] Production par semaine récupérée:",c),c}else throw new Error("Mode Supabase forcé - localStorage non disponible")}catch(e){throw console.error("❌ [CompleteHybridService] Erreur lors de la récupération de la production par semaine:",e),e}}async getDashboardStats(){console.log("🔍 [CompleteHybridService] getDashboardStats() - Début");try{if(this.isUserAuthenticated()){if(console.log("📡 [CompleteHybridService] Utilisation de Supabase"),!this.getCurrentUserId())throw new Error("Utilisateur non authentifié");const[s,i,n,r]=await Promise.all([this.getArticles(),this.getCommandes(),this.getLivraisons(),this.getProductions()]),o={totalArticles:s.length,totalCommandes:i.length,totalLivraisons:n.length,totalProductions:r.length,details:{articles:{total:s.length,stockCritique:s.filter(a=>a.stock<=a.seuilCritique).length,valeurTotale:s.reduce((a,l)=>a+l.stock*l.prix,0)},commandes:{total:i.length,enAttente:i.filter(a=>a.statut==="en_attente").length,confirmees:i.filter(a=>a.statut==="confirmee").length,livrees:i.filter(a=>a.statut==="livree").length},livraisons:{total:n.length,enCours:n.filter(a=>a.statut==="en_cours").length,livrees:n.filter(a=>a.statut==="livre").length},productions:{total:r.length,enCours:r.filter(a=>a.statut==="en_cours").length,terminees:r.filter(a=>a.statut==="termine").length}}};return console.log("✅ [CompleteHybridService] Statistiques calculées:",o),o}else throw console.log("⚠️ [CompleteHybridService] Mode Supabase forcé - section else ignorée"),new Error("Mode Supabase forcé - localStorage non disponible")}catch(e){return console.error("❌ [CompleteHybridService] Erreur lors du calcul des statistiques:",e),{totalArticles:0,totalCommandes:0,totalLivraisons:0,totalProductions:0,details:{articles:{total:0,stockCritique:0,valeurTotale:0},commandes:{total:0,enAttente:0,confirmees:0,livrees:0},livraisons:{total:0,enCours:0,livrees:0},productions:{total:0,enCours:0,terminees:0}}}}}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}getMode(){return console.log("📡 [CompleteHybridService] Mode Supabase forcé - getMode = online"),"online"}isSupabaseEnabled(){return console.log("📡 [CompleteHybridService] Mode Supabase forcé - isSupabaseEnabled = true"),!0}}const B=new Hy,Uy=()=>({getArticles:B.getArticles.bind(B),addArticle:B.addArticle.bind(B),updateArticle:B.updateArticle.bind(B),deleteArticle:B.deleteArticle.bind(B),getCommandes:B.getCommandes.bind(B),addCommande:B.addCommande.bind(B),updateCommande:B.updateCommande.bind(B),deleteCommande:B.deleteCommande.bind(B),getLivraisons:B.getLivraisons.bind(B),addLivraison:B.addLivraison.bind(B),updateLivraison:B.updateLivraison.bind(B),deleteLivraison:B.deleteLivraison.bind(B),getProductions:B.getProductions.bind(B),addProduction:B.addProduction.bind(B),updateProduction:B.updateProduction.bind(B),deleteProduction:B.deleteProduction.bind(B),getUsers:B.getUsers.bind(B),createUser:B.createUser.bind(B),updateUser:B.updateUser.bind(B),deleteUser:B.deleteUser.bind(B),loginUser:B.loginUser.bind(B),getAnalyses:B.getAnalyses.bind(B),addAnalyse:B.addAnalyse.bind(B),updateAnalyse:B.updateAnalyse.bind(B),deleteAnalyse:B.deleteAnalyse.bind(B),getDocuments:B.getDocuments.bind(B),addDocument:B.addDocument.bind(B),deleteDocument:B.deleteDocument.bind(B),getDashboardStats:B.getDashboardStats.bind(B),getStockInfo:B.getStockInfo.bind(B),getProductionsDuJour:B.getProductionsDuJour.bind(B),getLivraisonsRecentes:B.getLivraisonsRecentes.bind(B),getProductionParSemaine:B.getProductionParSemaine.bind(B),generateId:B.generateId.bind(B),getMode:B.getMode.bind(B),isSupabaseEnabled:B.isSupabaseEnabled.bind(B)});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Un(t){return t+.5|0}const vs=(t,e,s)=>Math.max(Math.min(t,s),e);function Yi(t){return vs(Un(t*2.55),0,255)}function ks(t){return vs(Un(t*255),0,255)}function Zt(t){return vs(Un(t/2.55)/100,0,1)}function $c(t){return vs(Un(t*100),0,100)}const yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sa=[..."0123456789ABCDEF"],$y=t=>Sa[t&15],By=t=>Sa[(t&240)>>4]+Sa[t&15],Kn=t=>(t&240)>>4===(t&15),Ny=t=>Kn(t.r)&&Kn(t.g)&&Kn(t.b)&&Kn(t.a);function zy(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&yt[t[1]]*17,g:255&yt[t[2]]*17,b:255&yt[t[3]]*17,a:e===5?yt[t[4]]*17:255}:(e===7||e===9)&&(s={r:yt[t[1]]<<4|yt[t[2]],g:yt[t[3]]<<4|yt[t[4]],b:yt[t[5]]<<4|yt[t[6]],a:e===9?yt[t[7]]<<4|yt[t[8]]:255})),s}const Vy=(t,e)=>t<255?e(t):"";function Wy(t){var e=Ny(t)?$y:By;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Vy(t.a,e):void 0}const qy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hf(t,e,s){const i=e*Math.min(s,1-s),n=(r,o=(r+t/30)%12)=>s-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function Ky(t,e,s){const i=(n,r=(n+t/60)%6)=>s-s*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Gy(t,e,s){const i=hf(t,1,.5);let n;for(e+s>1&&(n=1/(e+s),e*=n,s*=n),n=0;n<3;n++)i[n]*=1-e-s,i[n]+=e;return i}function Jy(t,e,s,i,n){return t===n?(e-s)/i+(e<s?6:0):e===n?(s-t)/i+2:(t-e)/i+4}function rl(t){const s=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(s,i,n),o=Math.min(s,i,n),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=Jy(s,i,n,u,r),l=l*60+.5),[l|0,c||0,a]}function ol(t,e,s,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,i)).map(ks)}function al(t,e,s){return ol(hf,t,e,s)}function Yy(t,e,s){return ol(Gy,t,e,s)}function Xy(t,e,s){return ol(Ky,t,e,s)}function ff(t){return(t%360+360)%360}function Qy(t){const e=qy.exec(t);let s=255,i;if(!e)return;e[5]!==i&&(s=e[6]?Yi(+e[5]):ks(+e[5]));const n=ff(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Yy(n,r,o):e[1]==="hsv"?i=Xy(n,r,o):i=al(n,r,o),{r:i[0],g:i[1],b:i[2],a:s}}function Zy(t,e){var s=rl(t);s[0]=ff(s[0]+e),s=al(s),t.r=s[0],t.g=s[1],t.b=s[2]}function ev(t){if(!t)return;const e=rl(t),s=e[0],i=$c(e[1]),n=$c(e[2]);return t.a<255?`hsla(${s}, ${i}%, ${n}%, ${Zt(t.a)})`:`hsl(${s}, ${i}%, ${n}%)`}const Bc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tv(){const t={},e=Object.keys(Nc),s=Object.keys(Bc);let i,n,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],n=0;n<s.length;n++)r=s[n],a=a.replace(r,Bc[r]);r=parseInt(Nc[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Gn;function sv(t){Gn||(Gn=tv(),Gn.transparent=[0,0,0,0]);const e=Gn[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const iv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nv(t){const e=iv.exec(t);let s=255,i,n,r;if(e){if(e[7]!==i){const o=+e[7];s=e[8]?Yi(o):vs(o*255,0,255)}return i=+e[1],n=+e[3],r=+e[5],i=255&(e[2]?Yi(i):vs(i,0,255)),n=255&(e[4]?Yi(n):vs(n,0,255)),r=255&(e[6]?Yi(r):vs(r,0,255)),{r:i,g:n,b:r,a:s}}}function rv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Io=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,di=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ov(t,e,s){const i=di(Zt(t.r)),n=di(Zt(t.g)),r=di(Zt(t.b));return{r:ks(Io(i+s*(di(Zt(e.r))-i))),g:ks(Io(n+s*(di(Zt(e.g))-n))),b:ks(Io(r+s*(di(Zt(e.b))-r))),a:t.a+s*(e.a-t.a)}}function Jn(t,e,s){if(t){let i=rl(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*s,e===0?360:1)),i=al(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function gf(t,e){return t&&Object.assign(e||{},t)}function zc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ks(t[3]))):(e=gf(t,{r:0,g:0,b:0,a:1}),e.a=ks(e.a)),e}function av(t){return t.charAt(0)==="r"?nv(t):Qy(t)}class Cn{constructor(e){if(e instanceof Cn)return e;const s=typeof e;let i;s==="object"?i=zc(e):s==="string"&&(i=zy(e)||sv(e)||av(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=gf(this._rgb);return e&&(e.a=Zt(e.a)),e}set rgb(e){this._rgb=zc(e)}rgbString(){return this._valid?rv(this._rgb):void 0}hexString(){return this._valid?Wy(this._rgb):void 0}hslString(){return this._valid?ev(this._rgb):void 0}mix(e,s){if(e){const i=this.rgb,n=e.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*n.r+.5,i.g=255&c*i.g+r*n.g+.5,i.b=255&c*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,s){return e&&(this._rgb=ov(this._rgb,e._rgb,s)),this}clone(){return new Cn(this.rgb)}alpha(e){return this._rgb.a=ks(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Un(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jn(this._rgb,2,e),this}darken(e){return Jn(this._rgb,2,-e),this}saturate(e){return Jn(this._rgb,1,e),this}desaturate(e){return Jn(this._rgb,1,-e),this}rotate(e){return Zy(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kt(){}const lv=(()=>{let t=0;return()=>t++})();function de(t){return t==null}function Me(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function he(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function De(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pt(t,e){return De(t)?t:e}function ne(t,e){return typeof t>"u"?e:t}const cv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,pf=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ee(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function we(t,e,s,i){let n,r,o;if(Me(t))for(r=t.length,n=0;n<r;n++)e.call(s,t[n],n);else if(he(t))for(o=Object.keys(t),r=o.length,n=0;n<r;n++)e.call(s,t[o[n]],o[n])}function Rr(t,e){let s,i,n,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,i=t.length;s<i;++s)if(n=t[s],r=e[s],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function Lr(t){if(Me(t))return t.map(Lr);if(he(t)){const e=Object.create(null),s=Object.keys(t),i=s.length;let n=0;for(;n<i;++n)e[s[n]]=Lr(t[s[n]]);return e}return t}function mf(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function uv(t,e,s,i){if(!mf(t))return;const n=e[t],r=s[t];he(n)&&he(r)?An(n,r,i):e[t]=Lr(r)}function An(t,e,s){const i=Me(e)?e:[e],n=i.length;if(!he(t))return t;s=s||{};const r=s.merger||uv;let o;for(let a=0;a<n;++a){if(o=i[a],!he(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,s)}return t}function fn(t,e){return An(t,e,{merger:dv})}function dv(t,e,s){if(!mf(t))return;const i=e[t],n=s[t];he(i)&&he(n)?fn(i,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Lr(n))}const Vc={"":t=>t,x:t=>t.x,y:t=>t.y};function hv(t){const e=t.split("."),s=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}function fv(t){const e=hv(t);return s=>{for(const i of e){if(i==="")break;s=s&&s[i]}return s}}function Es(t,e){return(Vc[e]||(Vc[e]=fv(e)))(t)}function ll(t){return t.charAt(0).toUpperCase()+t.slice(1)}const En=t=>typeof t<"u",Ps=t=>typeof t=="function",Wc=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function gv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pe=Math.PI,Te=2*pe,pv=Te+pe,jr=Number.POSITIVE_INFINITY,mv=pe/180,je=pe/2,Ls=pe/4,qc=pe*2/3,ws=Math.log10,Bt=Math.sign;function gn(t,e,s){return Math.abs(t-e)<s}function Kc(t){const e=Math.round(t);t=gn(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(ws(t))),i=t/s;return(i<=1?1:i<=2?2:i<=5?5:10)*s}function bv(t){const e=[],s=Math.sqrt(t);let i;for(i=1;i<s;i++)t%i===0&&(e.push(i),e.push(t/i));return s===(s|0)&&e.push(s),e.sort((n,r)=>n-r).pop(),e}function _v(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Mi(t){return!_v(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yv(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function bf(t,e,s){let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Ct(t){return t*(pe/180)}function cl(t){return t*(180/pe)}function Gc(t){if(!De(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function _f(t,e){const s=e.x-t.x,i=e.y-t.y,n=Math.sqrt(s*s+i*i);let r=Math.atan2(i,s);return r<-.5*pe&&(r+=Te),{angle:r,distance:n}}function ka(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vv(t,e){return(t-e+pv)%Te-pe}function Je(t){return(t%Te+Te)%Te}function Pn(t,e,s,i){const n=Je(t),r=Je(e),o=Je(s),a=Je(r-n),l=Je(o-n),c=Je(n-r),u=Je(n-o);return n===r||n===o||i&&r===o||a>l&&c<u}function Ve(t,e,s){return Math.max(e,Math.min(s,t))}function wv(t){return Ve(t,-32768,32767)}function ss(t,e,s,i=1e-6){return t>=Math.min(e,s)-i&&t<=Math.max(e,s)+i}function ul(t,e,s){s=s||(o=>t[o]<e);let i=t.length-1,n=0,r;for(;i-n>1;)r=n+i>>1,s(r)?n=r:i=r;return{lo:n,hi:i}}const is=(t,e,s,i)=>ul(t,s,i?n=>{const r=t[n][e];return r<s||r===s&&t[n+1][e]===s}:n=>t[n][e]<s),xv=(t,e,s)=>ul(t,s,i=>t[i][e]>=s);function Sv(t,e,s){let i=0,n=t.length;for(;i<n&&t[i]<e;)i++;for(;n>i&&t[n-1]>s;)n--;return i>0||n<t.length?t.slice(i,n):t}const yf=["push","pop","shift","splice","unshift"];function kv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yf.forEach(s=>{const i="_onData"+ll(s),n=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Jc(t,e){const s=t._chartjs;if(!s)return;const i=s.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&(yf.forEach(r=>{delete t[r]}),delete t._chartjs)}function vf(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const wf=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function xf(t,e){let s=[],i=!1;return function(...n){s=n,i||(i=!0,wf.call(window,()=>{i=!1,t.apply(e,s)}))}}function Cv(t,e){let s;return function(...i){return e?(clearTimeout(s),s=setTimeout(t,e,i)):t.apply(this,i),e}}const dl=t=>t==="start"?"left":t==="end"?"right":"center",Ge=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,Av=(t,e,s,i)=>t===(i?"left":"right")?s:t==="center"?(e+s)/2:e;function Sf(t,e,s){const i=e.length;let n=0,r=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(n=Math.min(is(l,u,d).lo,s?i:is(e,u,o.getPixelForValue(d)).lo),c){const p=l.slice(0,n+1).reverse().findIndex(m=>!de(m[a.axis]));n-=Math.max(0,p)}n=Ve(n,0,i-1)}if(g){let p=Math.max(is(l,o.axis,h,!0).hi+1,s?0:is(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const m=l.slice(p-1).findIndex(_=>!de(_[a.axis]));p+=Math.max(0,m)}r=Ve(p,n,i)-n}else r=i-n}return{start:n,count:r}}function kf(t){const{xScale:e,yScale:s,_scaleRanges:i}=t,n={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!i)return t._scaleRanges=n,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==s.min||i.ymax!==s.max;return Object.assign(i,n),r}const Yn=t=>t===0||t===1,Yc=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Te/s)),Xc=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Te/s)+1,pn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*je)+1,easeOutSine:t=>Math.sin(t*je),easeInOutSine:t=>-.5*(Math.cos(pe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yn(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yn(t)?t:Yc(t,.075,.3),easeOutElastic:t=>Yn(t)?t:Xc(t,.075,.3),easeInOutElastic(t){return Yn(t)?t:t<.5?.5*Yc(t*2,.1125,.45):.5+.5*Xc(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-pn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?pn.easeInBounce(t*2)*.5:pn.easeOutBounce(t*2-1)*.5+.5};function hl(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Qc(t){return hl(t)?t:new Cn(t)}function Do(t){return hl(t)?t:new Cn(t).saturate(.5).darken(.1).hexString()}const Ev=["x","y","borderWidth","radius","tension"],Pv=["color","borderColor","backgroundColor"];function Tv(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Pv},numbers:{type:"number",properties:Ev}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ov(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Zc=new Map;function Mv(t,e){e=e||{};const s=t+JSON.stringify(e);let i=Zc.get(s);return i||(i=new Intl.NumberFormat(t,e),Zc.set(s,i)),i}function $n(t,e,s){return Mv(e,s).format(t)}const Cf={values(t){return Me(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const i=this.chart.options.locale;let n,r=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),r=Iv(t,s)}const o=ws(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$n(t,i,l)},logarithmic(t,e,s){if(t===0)return"0";const i=s[e].significand||t/Math.pow(10,Math.floor(ws(t)));return[1,2,3,5,10,15].includes(i)||e>.8*s.length?Cf.numeric.call(this,t,e,s):""}};function Iv(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var ro={formatters:Cf};function Dv(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ro.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ys=Object.create(null),Ca=Object.create(null);function mn(t,e){if(!e)return t;const s=e.split(".");for(let i=0,n=s.length;i<n;++i){const r=s[i];t=t[r]||(t[r]=Object.create(null))}return t}function Ro(t,e,s){return typeof e=="string"?An(mn(t,e),s):An(mn(t,""),e)}class Rv{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>Do(n.backgroundColor),this.hoverBorderColor=(i,n)=>Do(n.borderColor),this.hoverColor=(i,n)=>Do(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Ro(this,e,s)}get(e){return mn(this,e)}describe(e,s){return Ro(Ca,e,s)}override(e,s){return Ro(Ys,e,s)}route(e,s,i,n){const r=mn(this,e),o=mn(this,i),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[n];return he(l)?Object.assign({},c,l):ne(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var Ie=new Rv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tv,Ov,Dv]);function Lv(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Fr(t,e,s,i,n){let r=e[n];return r||(r=e[n]=t.measureText(n).width,s.push(n)),r>i&&(i=r),i}function jv(t,e,s,i){i=i||{};let n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=s.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=s[l],d!=null&&!Me(d))o=Fr(t,n,r,o,d);else if(Me(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Me(h)&&(o=Fr(t,n,r,o,h));t.restore();const f=r.length/2;if(f>s.length){for(l=0;l<f;l++)delete n[r[l]];r.splice(0,f)}return o}function js(t,e,s){const i=t.currentDevicePixelRatio,n=s!==0?Math.max(s/2,.5):0;return Math.round((e-n)*i)/i+n}function eu(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Aa(t,e,s,i){Af(t,e,s,i,null)}function Af(t,e,s,i,n){let r,o,a,l,c,u,d,h;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*mv;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(s,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:n?t.ellipse(s,i,n/2,p,0,0,Te):t.arc(s,i,p,0,Te),t.closePath();break;case"triangle":u=n?n/2:p,t.moveTo(s+Math.sin(m)*u,i-Math.cos(m)*p),m+=qc,t.lineTo(s+Math.sin(m)*u,i-Math.cos(m)*p),m+=qc,t.lineTo(s+Math.sin(m)*u,i-Math.cos(m)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+Ls)*l,d=Math.cos(m+Ls)*(n?n/2-c:l),a=Math.sin(m+Ls)*l,h=Math.sin(m+Ls)*(n?n/2-c:l),t.arc(s-d,i-a,c,m-pe,m-je),t.arc(s+h,i-o,c,m-je,m),t.arc(s+d,i+a,c,m,m+je),t.arc(s-h,i+o,c,m+je,m+pe),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=n?n/2:l,t.rect(s-u,i-l,2*u,2*l);break}m+=Ls;case"rectRot":d=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(n?n/2:p),t.moveTo(s-d,i-a),t.lineTo(s+h,i-o),t.lineTo(s+d,i+a),t.lineTo(s-h,i+o),t.closePath();break;case"crossRot":m+=Ls;case"cross":d=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(n?n/2:p),t.moveTo(s-d,i-a),t.lineTo(s+d,i+a),t.moveTo(s+h,i-o),t.lineTo(s-h,i+o);break;case"star":d=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(n?n/2:p),t.moveTo(s-d,i-a),t.lineTo(s+d,i+a),t.moveTo(s+h,i-o),t.lineTo(s-h,i+o),m+=Ls,d=Math.cos(m)*(n?n/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(n?n/2:p),t.moveTo(s-d,i-a),t.lineTo(s+d,i+a),t.moveTo(s+h,i-o),t.lineTo(s-h,i+o);break;case"line":o=n?n/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(s-o,i-a),t.lineTo(s+o,i+a);break;case"dash":t.moveTo(s,i),t.lineTo(s+Math.cos(m)*(n?n/2:p),i+Math.sin(m)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ns(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function oo(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ao(t){t.restore()}function Fv(t,e,s,i,n){if(!e)return t.lineTo(s.x,s.y);if(n==="middle"){const r=(e.x+s.x)/2;t.lineTo(r,e.y),t.lineTo(r,s.y)}else n==="after"!=!!i?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function Hv(t,e,s,i){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?s.cp2x:s.cp1x,i?s.cp2y:s.cp1y,s.x,s.y)}function Uv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function $v(t,e,s,i,n){if(n.strikethrough||n.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Bv(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Xs(t,e,s,i,n,r={}){const o=Me(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=n.string,Uv(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Bv(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),de(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,i,r.maxWidth)),t.fillText(c,s,i,r.maxWidth),$v(t,s,i,c,r),i+=Number(n.lineHeight);t.restore()}function Tn(t,e){const{x:s,y:i,w:n,h:r,radius:o}=e;t.arc(s+o.topLeft,i+o.topLeft,o.topLeft,1.5*pe,pe,!0),t.lineTo(s,i+r-o.bottomLeft),t.arc(s+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,pe,je,!0),t.lineTo(s+n-o.bottomRight,i+r),t.arc(s+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,je,0,!0),t.lineTo(s+n,i+o.topRight),t.arc(s+n-o.topRight,i+o.topRight,o.topRight,0,-je,!0),t.lineTo(s+o.topLeft,i)}const Nv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vv(t,e){const s=(""+t).match(Nv);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const Wv=t=>+t||0;function fl(t,e){const s={},i=he(e),n=i?Object.keys(e):e,r=he(t)?i?o=>ne(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of n)s[o]=Wv(r(o));return s}function Ef(t){return fl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gs(t){return fl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function tt(t){const e=Ef(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Be(t,e){t=t||{},e=e||Ie.font;let s=ne(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let i=ne(t.style,e.style);i&&!(""+i).match(zv)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:ne(t.family,e.family),lineHeight:Vv(ne(t.lineHeight,e.lineHeight),s),size:s,style:i,weight:ne(t.weight,e.weight),string:""};return n.string=Lv(n),n}function Xi(t,e,s,i){let n,r,o;for(n=0,r=t.length;n<r;++n)if(o=t[n],o!==void 0&&o!==void 0)return o}function qv(t,e,s){const{min:i,max:n}=t,r=pf(e,(n-i)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(n,r)}}function Ts(t,e){return Object.assign(Object.create(t),e)}function gl(t,e=[""],s,i,n=()=>t[0]){const r=s||t;typeof i>"u"&&(i=Mf("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:n,override:a=>gl([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Tf(a,l,()=>ew(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return su(a).includes(l)},ownKeys(a){return su(a)},set(a,l,c){const u=a._storage||(a._storage=n());return a[l]=u[l]=c,delete a._keys,!0}})}function Ii(t,e,s,i){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:Pf(t,i),setContext:r=>Ii(t,r,s,i),override:r=>Ii(t.override(r),e,s,i)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Tf(r,o,()=>Gv(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Pf(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:s,indexable:i,isScriptable:Ps(s)?s:()=>s,isIndexable:Ps(i)?i:()=>i}}const Kv=(t,e)=>t?t+ll(e):e,pl=(t,e)=>he(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Tf(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=s();return t[e]=i,i}function Gv(t,e,s){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=t;let a=i[e];return Ps(a)&&o.isScriptable(e)&&(a=Jv(e,a,t,s)),Me(a)&&a.length&&(a=Yv(e,a,t,o.isIndexable)),pl(e,a)&&(a=Ii(a,n,r&&r[e],o)),a}function Jv(t,e,s,i){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),pl(t,l)&&(l=ml(n._scopes,n,t,l)),l}function Yv(t,e,s,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(he(e[0])){const l=e,c=n._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=ml(c,n,t,u);e.push(Ii(d,r,o&&o[t],a))}}return e}function Of(t,e,s){return Ps(t)?t(e,s):t}const Xv=(t,e)=>t===!0?e:typeof t=="string"?Es(e,t):void 0;function Qv(t,e,s,i,n){for(const r of e){const o=Xv(s,r);if(o){t.add(o);const a=Of(o._fallback,s,n);if(typeof a<"u"&&a!==s&&a!==i)return a}else if(o===!1&&typeof i<"u"&&s!==i)return null}return!1}function ml(t,e,s,i){const n=e._rootScopes,r=Of(e._fallback,s,i),o=[...t,...n],a=new Set;a.add(i);let l=tu(a,o,s,r||s,i);return l===null||typeof r<"u"&&r!==s&&(l=tu(a,o,r,l,i),l===null)?!1:gl(Array.from(a),[""],n,r,()=>Zv(e,s,i))}function tu(t,e,s,i,n){for(;s;)s=Qv(t,e,s,i,n);return s}function Zv(t,e,s){const i=t._getTarget();e in i||(i[e]={});const n=i[e];return Me(n)&&he(s)?s:n||{}}function ew(t,e,s,i){let n;for(const r of e)if(n=Mf(Kv(r,t),s),typeof n<"u")return pl(t,n)?ml(s,i,t,n):n}function Mf(t,e){for(const s of e){if(!s)continue;const i=s[t];if(typeof i<"u")return i}}function su(t){let e=t._keys;return e||(e=t._keys=tw(t._scopes)),e}function tw(t){const e=new Set;for(const s of t)for(const i of Object.keys(s).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}function If(t,e,s,i){const{iScale:n}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+s,u=e[c],o[a]={r:n.parse(Es(u,r),c)};return o}const sw=Number.EPSILON||1e-14,Di=(t,e)=>e<t.length&&!t[e].skip&&t[e],Df=t=>t==="x"?"y":"x";function iw(t,e,s,i){const n=t.skip?e:t,r=e,o=s.skip?e:s,a=ka(r,n),l=ka(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:r.x-d*(o.x-n.x),y:r.y-d*(o.y-n.y)},next:{x:r.x+h*(o.x-n.x),y:r.y+h*(o.y-n.y)}}}function nw(t,e,s){const i=t.length;let n,r,o,a,l,c=Di(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Di(t,u+1),!(!l||!c)){if(gn(e[u],0,sw)){s[u]=s[u+1]=0;continue}n=s[u]/e[u],r=s[u+1]/e[u],a=Math.pow(n,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),s[u]=n*o*e[u],s[u+1]=r*o*e[u])}}function rw(t,e,s="x"){const i=Df(s),n=t.length;let r,o,a,l=Di(t,0);for(let c=0;c<n;++c){if(o=a,a=l,l=Di(t,c+1),!a)continue;const u=a[s],d=a[i];o&&(r=(u-o[s])/3,a[`cp1${s}`]=u-r,a[`cp1${i}`]=d-r*e[c]),l&&(r=(l[s]-u)/3,a[`cp2${s}`]=u+r,a[`cp2${i}`]=d+r*e[c])}}function ow(t,e="x"){const s=Df(e),i=t.length,n=Array(i).fill(0),r=Array(i);let o,a,l,c=Di(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Di(t,o+1),!!l){if(c){const u=c[e]-l[e];n[o]=u!==0?(c[s]-l[s])/u:0}r[o]=a?c?Bt(n[o-1])!==Bt(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}nw(t,n,r),rw(t,r,e)}function Xn(t,e,s){return Math.max(Math.min(t,s),e)}function aw(t,e){let s,i,n,r,o,a=ns(t[0],e);for(s=0,i=t.length;s<i;++s)o=r,r=a,a=s<i-1&&ns(t[s+1],e),r&&(n=t[s],o&&(n.cp1x=Xn(n.cp1x,e.left,e.right),n.cp1y=Xn(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=Xn(n.cp2x,e.left,e.right),n.cp2y=Xn(n.cp2y,e.top,e.bottom)))}function lw(t,e,s,i,n){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")ow(t,n);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=iw(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&aw(t,s)}function bl(){return typeof window<"u"&&typeof document<"u"}function _l(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hr(t,e,s){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[s])):i=t,i}const lo=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cw(t,e){return lo(t).getPropertyValue(e)}const uw=["top","right","bottom","left"];function Js(t,e,s){const i={};s=s?"-"+s:"";for(let n=0;n<4;n++){const r=uw[n];i[r]=parseFloat(t[e+"-"+r+s])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const dw=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function hw(t,e){const s=t.touches,i=s&&s.length?s[0]:t,{offsetX:n,offsetY:r}=i;let o=!1,a,l;if(dw(n,r,t.target))a=n,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ns(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:i}=e,n=lo(s),r=n.boxSizing==="border-box",o=Js(n,"padding"),a=Js(n,"border","width"),{x:l,y:c,box:u}=hw(t,s),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:g}=e;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/f*s.width/i),y:Math.round((c-h)/g*s.height/i)}}function fw(t,e,s){let i,n;if(e===void 0||s===void 0){const r=t&&_l(t);if(!r)e=t.clientWidth,s=t.clientHeight;else{const o=r.getBoundingClientRect(),a=lo(r),l=Js(a,"border","width"),c=Js(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,i=Hr(a.maxWidth,r,"clientWidth"),n=Hr(a.maxHeight,r,"clientHeight")}}return{width:e,height:s,maxWidth:i||jr,maxHeight:n||jr}}const Qn=t=>Math.round(t*10)/10;function gw(t,e,s,i){const n=lo(t),r=Js(n,"margin"),o=Hr(n.maxWidth,t,"clientWidth")||jr,a=Hr(n.maxHeight,t,"clientHeight")||jr,l=fw(t,e,s);let{width:c,height:u}=l;if(n.boxSizing==="content-box"){const h=Js(n,"border","width"),f=Js(n,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Qn(Math.min(c,o,l.maxWidth)),u=Qn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Qn(c/2)),(e!==void 0||s!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Qn(Math.floor(u*i))),{width:c,height:u}}function iu(t,e,s){const i=e||1,n=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==n||o.width!==r?(t.currentDevicePixelRatio=i,o.height=n,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const pw=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bl()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function nu(t,e){const s=cw(t,e),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function zs(t,e,s,i){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function mw(t,e,s,i){return{x:t.x+s*(e.x-t.x),y:i==="middle"?s<.5?t.y:e.y:i==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function bw(t,e,s,i){const n={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=zs(t,n,s),a=zs(n,r,s),l=zs(r,e,s),c=zs(o,a,s),u=zs(a,l,s);return zs(c,u,s)}const _w=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,i){return s-i},leftForLtr(s,i){return s-i}}},yw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ki(t,e,s){return t?_w(e,s):yw()}function Rf(t,e){let s,i;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Lf(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function jf(t){return t==="angle"?{between:Pn,compare:vv,normalize:Je}:{between:ss,compare:(e,s)=>e-s,normalize:e=>e}}function ru({start:t,end:e,count:s,loop:i,style:n}){return{start:t%s,end:e%s,loop:i&&(e-t+1)%s===0,style:n}}function vw(t,e,s){const{property:i,start:n,end:r}=s,{between:o,normalize:a}=jf(i),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),n,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Ff(t,e,s){if(!s)return[t];const{property:i,start:n,end:r}=s,o=e.length,{compare:a,between:l,normalize:c}=jf(i),{start:u,end:d,loop:h,style:f}=vw(t,e,s),g=[];let p=!1,m=null,_,x,k;const w=()=>l(n,k,_)&&a(n,k)!==0,C=()=>a(r,_)===0||l(r,k,_),A=()=>p||w(),v=()=>!p||C();for(let T=u,P=u;T<=d;++T)x=e[T%o],!x.skip&&(_=c(x[i]),_!==k&&(p=l(_,n,r),m===null&&A()&&(m=a(_,n)===0?T:P),m!==null&&v()&&(g.push(ru({start:m,end:T,loop:h,count:o,style:f})),m=null),P=T,k=_));return m!==null&&g.push(ru({start:m,end:d,loop:h,count:o,style:f})),g}function Hf(t,e){const s=[],i=t.segments;for(let n=0;n<i.length;n++){const r=Ff(i[n],t.points,e);r.length&&s.push(...r)}return s}function ww(t,e,s,i){let n=0,r=e-1;if(s&&!i)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,s&&(r+=n);r>n&&t[r%e].skip;)r--;return r%=e,{start:n,end:r}}function xw(t,e,s,i){const n=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=s;++l){const c=t[l%n];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%n,end:(l-1)%n,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%n,end:o%n,loop:i}),r}function Sw(t,e){const s=t.points,i=t.options.spanGaps,n=s.length;if(!n)return[];const r=!!t._loop,{start:o,end:a}=ww(s,n,r,i);if(i===!0)return ou(t,[{start:o,end:a,loop:r}],s,e);const l=a<o?a+n:a,c=!!t._fullLoop&&o===0&&a===n-1;return ou(t,xw(s,o,l,c),s,e)}function ou(t,e,s,i){return!i||!i.setContext||!s?e:kw(t,e,s,i)}function kw(t,e,s,i){const n=t._chart.getContext(),r=au(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=s.length,c=[];let u=r,d=e[0].start,h=d;function f(g,p,m,_){const x=a?-1:1;if(g!==p){for(g+=l;s[g%l].skip;)g-=x;for(;s[p%l].skip;)p+=x;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:_}),u=_,d=p%l)}}for(const g of e){d=a?d:g.start;let p=s[d%l],m;for(h=d+1;h<=g.end;h++){const _=s[h%l];m=au(i.setContext(Ts(n,{type:"segment",p0:p,p1:_,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Cw(m,u)&&f(d,h-1,g.loop,u),p=_,u=m}d<h-1&&f(d,h-1,g.loop,u)}return c}function au(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cw(t,e){if(!e)return!1;const s=[],i=function(n,r){return hl(r)?(s.includes(r)||s.push(r),s.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Zn(t,e,s){return t.options.clip?t[s]:e[s]}function Aw(t,e){const{xScale:s,yScale:i}=t;return s&&i?{left:Zn(s,e,"left"),right:Zn(s,e,"right"),top:Zn(i,e,"top"),bottom:Zn(i,e,"bottom")}:e}function Uf(t,e){const s=e._clip;if(s.disabled)return!1;const i=Aw(e,t.chartArea);return{left:s.left===!1?0:i.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:i.right+(s.right===!0?0:s.right),top:s.top===!1?0:i.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:i.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ew{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,i,n){const r=s.listeners[n],o=s.duration;r.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(i-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),r.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),s+=r.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let i=s.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,i)),i}listen(e,s,i){this._getAnims(e).listeners[s].push(i)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const i=s.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Jt=new Ew;const lu="transparent",Pw={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const i=Qc(t||lu),n=i.valid&&Qc(e||lu);return n&&n.valid?n.mix(i,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class Tw{constructor(e,s,i,n){const r=s[i];n=Xi([e.to,n,r,e.from]);const o=Xi([e.from,r,n]);this._active=!0,this._fn=e.fn||Pw[e.type||typeof o],this._easing=pn[e.easing]||pn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,s,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Xi([e.to,s,n,e.from]),this._from=Xi([e.from,n,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<i),!this._active){this._target[n]=a,this._notify(!0);return}if(s<0){this._target[n]=r;return}l=s/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,i)=>{e.push({res:s,rej:i})})}_notify(e){const s=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][s]()}}class $f{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!he(e))return;const s=Object.keys(Ie.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!he(r))return;const o={};for(const a of s)o[a]=r[a];(Me(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,s){const i=s.options,n=Mw(e,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&Ow(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,s){const i=this._properties,n=[],r=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(e,s));continue}const u=s[c];let d=r[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new Tw(h,e,c,u),n.push(d)}return n}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const i=this._createAnimations(e,s);if(i.length)return Jt.add(this._chart,i),!0}}function Ow(t,e){const s=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const r=t[i[n]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function Mw(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function cu(t,e){const s=t&&t.options||{},i=s.reverse,n=s.min===void 0?e:0,r=s.max===void 0?e:0;return{start:i?r:n,end:i?n:r}}function Iw(t,e,s){if(s===!1)return!1;const i=cu(t,s),n=cu(e,s);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function Dw(t){let e,s,i,n;return he(t)?(e=t.top,s=t.right,i=t.bottom,n=t.left):e=s=i=n=t,{top:e,right:s,bottom:i,left:n,disabled:t===!1}}function Bf(t,e){const s=[],i=t._getSortedDatasetMetas(e);let n,r;for(n=0,r=i.length;n<r;++n)s.push(i[n].index);return s}function uu(t,e,s,i={}){const n=t.keys,r=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===s){if(u=!0,i.all)continue;break}c=t.values[l],De(c)&&(r||e===0||Bt(e)===Bt(c))&&(e+=c)}return!u&&!i.all?0:e}function Rw(t,e){const{iScale:s,vScale:i}=e,n=s.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[n]:u,[r]:t[u]};return a}function Lo(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function Lw(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function jw(t){const{min:e,max:s,minDefined:i,maxDefined:n}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}function Fw(t,e,s){const i=t[e]||(t[e]={});return i[s]||(i[s]={})}function du(t,e,s,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const r=t[n.index];if(s&&r>0||!s&&r<0)return n.index}return null}function hu(t,e){const{chart:s,_cachedMeta:i}=t,n=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=Lw(r,o,i),d=e.length;let h;for(let f=0;f<d;++f){const g=e[f],{[l]:p,[c]:m}=g,_=g._stacks||(g._stacks={});h=_[c]=Fw(n,u,p),h[a]=m,h._top=du(h,o,!0,i.type),h._bottom=du(h,o,!1,i.type);const x=h._visualValues||(h._visualValues={});x[a]=m}}function jo(t,e){const s=t.scales;return Object.keys(s).filter(i=>s[i].axis===e).shift()}function Hw(t,e){return Ts(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Uw(t,e,s){return Ts(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function $i(t,e){const s=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const n of e){const r=n._stacks;if(!r||r[i]===void 0||r[i][s]===void 0)return;delete r[i][s],r[i]._visualValues!==void 0&&r[i]._visualValues[s]!==void 0&&delete r[i]._visualValues[s]}}}const Fo=t=>t==="reset"||t==="none",fu=(t,e)=>e?t:Object.assign({},t),$w=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Bf(s,!0),values:null};class Os{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lo(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$i(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,i=this.getDataset(),n=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,r=s.xAxisID=ne(i.xAxisID,jo(e,"x")),o=s.yAxisID=ne(i.yAxisID,jo(e,"y")),a=s.rAxisID=ne(i.rAxisID,jo(e,"r")),l=s.indexAxis,c=s.iAxisID=n(l,r,o,a),u=s.vAxisID=n(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Jc(this._data,this),e._stacked&&$i(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),i=this._data;if(he(s)){const n=this._cachedMeta;this._data=Rw(s,n)}else if(i!==s){if(i){Jc(i,this);const n=this._cachedMeta;$i(n),n._parsed=[]}s&&Object.isExtensible(s)&&kv(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=s._stacked;s._stacked=Lo(s.vScale,s),s.stack!==i.stack&&(n=!0,$i(s),s.stack=i.stack),this._resyncElements(e),(n||r!==s._stacked)&&(hu(this,s._parsed),s._stacked=Lo(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&s===n.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=n,i._sorted=!0,h=n;else{Me(n[e])?h=this.parseArrayData(i,n,e,s):he(n[e])?h=this.parseObjectData(i,n,e,s):h=this.parsePrimitiveData(i,n,e,s);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)i._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}o&&hu(this,h)}parsePrimitiveData(e,s,i,n){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(n);let h,f,g;for(h=0,f=n;h<f;++h)g=h+i,d[h]={[a]:u||r.parse(c[g],g),[l]:o.parse(s[g],g)};return d}parseArrayData(e,s,i,n){const{xScale:r,yScale:o}=e,a=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+i,d=s[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,s,i,n){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let u,d,h,f;for(u=0,d=n;u<d;++u)h=u+i,f=s[h],c[u]={x:r.parse(Es(f,a),h),y:o.parse(Es(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,i){const n=this.chart,r=this._cachedMeta,o=s[e.axis],a={keys:Bf(n,!0),values:s._stacks[e.axis]._visualValues};return uu(a,o,r.index,{mode:i})}updateRangeFromParsed(e,s,i,n){const r=i[s.axis];let o=r===null?NaN:r;const a=n&&i._stacks[s.axis];n&&a&&(n.values=a,o=uu(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&e===i.iScale,o=n.length,a=this._getOtherScale(e),l=$w(s,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=jw(a);let h,f;function g(){f=n[h];const p=f[a.axis];return!De(f[e.axis])||u>p||d<p}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=s.length;n<r;++n)o=s[n][e.axis],De(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,i=s.iScale,n=s.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=Dw(ne(this.options.clip,Iw(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,i=this._cachedMeta,n=i.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=n[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,s){const i=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,s,i){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Uw(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Hw(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",i){const n=s==="active",r=this._cachedDataOpts,o=e+"-"+s,a=r[o],l=this.enableOptionSharing&&En(i);if(a)return fu(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ie.elements[e]),g=()=>this.getContext(i,n,s),p=c.resolveNamedOptions(h,f,g,d);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(fu(p,l))),p}_resolveAnimations(e,s,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(n.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,i,s))}const c=new $f(n,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Fo(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const i=this.resolveDataElementOptions(e,s),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(s,r)||r!==n;return this.updateSharedOptions(r,s,i),{sharedOptions:r,includeOptions:o}}updateElement(e,s,i,n){Fo(n)?Object.assign(e,i):this._resolveAnimations(s,n).update(e,i)}updateSharedOptions(e,s,i){e&&!Fo(s)&&this._resolveAnimations(void 0,s).update(e,i)}_setStyle(e,s,i,n){e.active=n;const r=this.getStyle(s,n);this._resolveAnimations(s,i,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,s,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,s,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=i.length,r=s.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,s,i=!0){const n=this._cachedMeta,r=n.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,s),i&&this.updateElements(r,e,s,"reset")}updateElements(e,s,i,n){}_removeElements(e,s){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,s);i._stacked&&$i(i,n)}i.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,i,n]=e;this[s](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Bw(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let i=[];for(let n=0,r=s.length;n<r;n++)i=i.concat(s[n].controller.getAllParsedValues(t));t._cache.$bar=vf(i.sort((n,r)=>n-r))}return t._cache.$bar}function Nw(t){const e=t.iScale,s=Bw(e,t.type);let i=e._length,n,r,o,a;const l=()=>{o===32767||o===-32768||(En(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(n=0,r=s.length;n<r;++n)o=e.getPixelForValue(s[n]),l();for(a=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),l();return i}function zw(t,e,s,i){const n=s.barThickness;let r,o;return de(n)?(r=e.min*s.categoryPercentage,o=s.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function Vw(t,e,s,i){const n=e.pixels,r=n[t];let o=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null;const l=s.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:s.barPercentage,start:c}}function Ww(t,e,s,i){const n=s.parse(t[0],i),r=s.parse(t[1],i),o=Math.min(n,r),a=Math.max(n,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:n,end:r,min:o,max:a}}function Nf(t,e,s,i){return Me(t)?Ww(t,e,s,i):e[s.axis]=s.parse(t,i),e}function gu(t,e,s,i){const n=t.iScale,r=t.vScale,o=n.getLabels(),a=n===r,l=[];let c,u,d,h;for(c=s,u=s+i;c<u;++c)h=e[c],d={},d[n.axis]=a||n.parse(o[c],c),l.push(Nf(h,d,r,c));return l}function Ho(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function qw(t,e,s){return t!==0?Bt(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function Kw(t){let e,s,i,n,r;return t.horizontal?(e=t.base>t.x,s="left",i="right"):(e=t.base<t.y,s="bottom",i="top"),e?(n="end",r="start"):(n="start",r="end"),{start:s,end:i,reverse:e,top:n,bottom:r}}function Gw(t,e,s,i){let n=e.borderSkipped;const r={};if(!n){t.borderSkipped=r;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=Kw(t);n==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===i?n=c:(s._bottom||0)===i?n=u:(r[pu(u,o,a,l)]=!0,n=c)),r[pu(n,o,a,l)]=!0,t.borderSkipped=r}function pu(t,e,s,i){return i?(t=Jw(t,e,s),t=mu(t,s,e)):t=mu(t,e,s),t}function Jw(t,e,s){return t===e?s:t===s?e:t}function mu(t,e,s){return t==="start"?e:t==="end"?s:t}function Yw(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Xw extends Os{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,i,n){return gu(e,s,i,n)}parseArrayData(e,s,i,n){return gu(e,s,i,n)}parseObjectData(e,s,i,n){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,g,p;for(h=i,f=i+n;h<f;++h)p=s[h],g={},g[r.axis]=r.parse(Es(p,c),h),d.push(Nf(Es(p,u),g,o,h));return d}updateRangeFromParsed(e,s,i,n){super.updateRangeFromParsed(e,s,i,n);const r=i._custom;r&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:i,vScale:n}=s,r=this.getParsed(e),o=r._custom,a=Ho(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,i,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,n);for(let f=s;f<s+i;f++){const g=this.getParsed(f),p=r||de(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),_=(g._stacks||{})[a.axis],x={horizontal:c,base:p.base,enableBorderRadius:!_||Ho(g._custom)||o===_._top||o===_._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};h&&(x.options=d||this.resolveDataElementOptions(f,e[f].active?"active":n));const k=x.options||e[f].options;Gw(x,k,_,o),Yw(x,k,u.ratio),this.updateElement(e[f],f,x,n)}}_getStacks(e,s){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(f=>f[i.axis]===l),h=d&&d[u.vScale.axis];if(de(h)||isNaN(h))return!0};for(const u of n)if(!(s!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[ne(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,i){const n=this._getStacks(e,i),r=s!==void 0?n.indexOf(s):-1;return r===-1?n.length-1:r}_getRuler(){const e=this.options,s=this._cachedMeta,i=s.iScale,n=[];let r,o;for(r=0,o=s.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||Nw(s),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Ho(c);let d=l[s.axis],h=0,f=i?this.applyStack(s,l,i):d,g,p;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Bt(d)!==Bt(c.barEnd)&&(h=0),h+=d);const m=!de(r)&&!u?r:h;let _=s.getPixelForValue(m);if(this.chart.getDataVisibility(e)?g=s.getPixelForValue(h+f):g=_,p=g-_,Math.abs(p)<o){p=qw(p,s,a)*o,d===a&&(_-=p/2);const x=s.getPixelForDecimal(0),k=s.getPixelForDecimal(1),w=Math.min(x,k),C=Math.max(x,k);_=Math.max(Math.min(_,C),w),g=_+p,i&&!u&&(l._stacks[s.axis]._visualValues[n]=s.getValueForPixel(g)-s.getValueForPixel(_))}if(_===s.getPixelForValue(a)){const x=Bt(p)*s.getLineWidthForValue(a)/2;_+=x,p-=x}return{size:p,base:_,head:g,center:g+p/2}}_calculateBarIndexPixels(e,s){const i=s.scale,n=this.options,r=n.skipNull,o=ne(n.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=r?this._getStackCount(e):s.stackCount,d=n.barThickness==="flex"?Vw(e,s,n,u*c):zw(e,s,n,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ne(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=d.start+d.chunk*g+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,i=e.data,n=i.length;let r=0;for(;r<n;++r)this.getParsed(r)[s.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class Qw extends Os{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,i,n){const r=super.parsePrimitiveData(e,s,i,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,s,i,n){const r=super.parseArrayData(e,s,i,n);for(let o=0;o<r.length;o++){const a=s[i+o];r[o]._custom=ne(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,s,i,n){const r=super.parseObjectData(e,s,i,n);for(let o=0;o<r.length;o++){const a=s[i+o];r[o]._custom=ne(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let i=e.length-1;i>=0;--i)s=Math.max(s,e[i].size(this.resolveDataElementOptions(i))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=s,o=this.getParsed(e),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,i,n){const r=n==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,n),u=o.axis,d=a.axis;for(let h=s;h<s+i;h++){const f=e[h],g=!r&&this.getParsed(h),p={},m=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),_=p[d]=r?a.getBasePixel():a.getPixelForValue(g[d]);p.skip=isNaN(m)||isNaN(_),c&&(p.options=l||this.resolveDataElementOptions(h,f.active?"active":n),r&&(p.options.radius=0)),this.updateElement(f,h,p,n)}}resolveDataElementOptions(e,s){const i=this.getParsed(e);let n=super.resolveDataElementOptions(e,s);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return s!=="active"&&(n.radius=0),n.radius+=ne(i&&i._custom,r),n}}function Zw(t,e,s){let i=1,n=1,r=0,o=0;if(e<Te){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(k,w,C)=>Pn(k,a,l,!0)?1:Math.max(w,w*s,C,C*s),g=(k,w,C)=>Pn(k,a,l,!0)?-1:Math.min(w,w*s,C,C*s),p=f(0,c,d),m=f(je,u,h),_=g(pe,c,d),x=g(pe+je,u,h);i=(p-_)/2,n=(m-x)/2,r=-(p+_)/2,o=-(m+x)/2}return{ratioX:i,ratioY:n,offsetX:r,offsetY:o}}class yl extends Os{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return s.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,i){i.chart.toggleDataVisibility(s.index),i.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let r=l=>+i[l];if(he(i[e])){const{key:l="value"}=this._parsing;r=c=>+Es(i[c],l)}let o,a;for(o=e,a=e+s;o<a;++o)n._parsed[o]=r(o)}}_getRotation(){return Ct(this.options.rotation-90)}_getCircumference(){return Ct(this.options.circumference)}_getRotationExtents(){let e=Te,s=-Te;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();e=Math.min(e,r),s=Math.max(s,r+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:i}=s,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(cv(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:p}=Zw(d,u,l),m=(i.width-o)/h,_=(i.height-o)/f,x=Math.max(Math.min(m,_)/2,0),k=pf(this.options.radius,x),w=Math.max(k*l,0),C=(k-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*k,this.offsetY=p*k,n.total=this.calculateTotal(),this.outerRadius=k-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,s){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return s&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/Te)}updateElements(e,s,i,n){const r=n==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=r&&c.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(s,n);let _=this._getRotation(),x;for(x=0;x<s;++x)_+=this._circumference(x,r);for(x=s;x<s+i;++x){const k=this._circumference(x,r),w=e[x],C={x:u+this.offsetX,y:d+this.offsetY,startAngle:_,endAngle:_+k,circumference:k,outerRadius:g,innerRadius:f};m&&(C.options=p||this.resolveDataElementOptions(x,w.active?"active":n)),_+=k,this.updateElement(w,x,C,n)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let i=0,n;for(n=0;n<s.length;n++){const r=e._parsed[n];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(n)&&!s[n].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Te*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=$n(s._parsed[e],i.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let s=0;const i=this.chart;let n,r,o,a,l;if(!e){for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,a=o.controller;break}}if(!e)return 0;for(n=0,r=e.length;n<r;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let i=0,n=e.length;i<n;++i){const r=this.resolveDataElementOptions(i);s=Math.max(s,r.offset||0,r.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(s+=this._getRingWeight(i));return s}_getRingWeight(e){return Math.max(ne(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ex extends Os{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=s,o=this.chart._animationsDisabled;let{start:a,count:l}=Sf(s,n,o);this._drawStart=a,this._drawCount=l,kf(s)&&(a=0,l=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(n,a,l,e)}updateElements(e,s,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,n),h=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=Mi(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||n==="none",x=s+i,k=e.length;let w=s>0&&this.getParsed(s-1);for(let C=0;C<k;++C){const A=e[C],v=_?A:{};if(C<s||C>=x){v.skip=!0;continue}const T=this.getParsed(C),P=de(T[f]),L=v[h]=o.getPixelForValue(T[h],C),H=v[f]=r||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],C);v.skip=isNaN(L)||isNaN(H)||P,v.stop=C>0&&Math.abs(T[h]-w[h])>m,p&&(v.parsed=T,v.raw=c.data[C]),d&&(v.options=u||this.resolveDataElementOptions(C,A.active?"active":n)),_||this.updateElement(A,C,v,n),w=T}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,i=s.options&&s.options.borderWidth||0,n=e.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class zf extends Os{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return s.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,i){i.chart.toggleDataVisibility(s.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=$n(s._parsed[e].r,i.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,s,i,n){return If.bind(this)(e,s,i,n)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<s.min&&(s.min=r),r>s.max&&(s.max=r))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,i=e.options,n=Math.min(s.right-s.left,s.bottom-s.top),r=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,s,i,n){const r=n==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*pe;let f=h,g;const p=360/this.countVisibleElements();for(g=0;g<s;++g)f+=this._computeAngle(g,n,p);for(g=s;g<s+i;g++){const m=e[g];let _=f,x=f+this._computeAngle(g,n,p),k=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=x,r&&(l.animateScale&&(k=0),l.animateRotate&&(_=x=h));const w={x:u,y:d,innerRadius:0,outerRadius:k,startAngle:_,endAngle:x,options:this.resolveDataElementOptions(g,m.active?"active":n)};this.updateElement(m,g,w,n)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&s++}),s}_computeAngle(e,s,i){return this.chart.getDataVisibility(e)?Ct(this.resolveDataElementOptions(e,s).angle||i):0}}class tx extends yl{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class sx extends Os{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const s=this._cachedMeta.vScale,i=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(i[s.axis])}}parseObjectData(e,s,i,n){return If.bind(this)(e,s,i,n)}update(e){const s=this._cachedMeta,i=s.dataset,n=s.data||[],r=s.iScale.getLabels();if(i.points=n,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,s,i,n){const r=this._cachedMeta.rScale,o=n==="reset";for(let a=s;a<s+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":n),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,h=o?r.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,n)}}}class ix extends Os{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const s=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=s,o=this.getParsed(e),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const s=this._cachedMeta,{data:i=[]}=s,n=this.chart._animationsDisabled;let{start:r,count:o}=Sf(s,i,n);if(this._drawStart=r,this._drawCount=o,kf(s)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:c},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(s,n),d=this.getSharedOptions(u),h=this.includeOptions(n,d),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,_=Mi(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||n==="none";let k=s>0&&this.getParsed(s-1);for(let w=s;w<s+i;++w){const C=e[w],A=this.getParsed(w),v=x?C:{},T=de(A[g]),P=v[f]=o.getPixelForValue(A[f],w),L=v[g]=r||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[g],w);v.skip=isNaN(P)||isNaN(L)||T,v.stop=w>0&&Math.abs(A[f]-k[f])>_,m&&(v.parsed=A,v.raw=c.data[w]),h&&(v.options=d||this.resolveDataElementOptions(w,C.active?"active":n)),x||this.updateElement(C,w,v,n),k=A}this.updateSharedOptions(d,n,u)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!s.length)return n;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,r,o)/2}}var nx=Object.freeze({__proto__:null,BarController:Xw,BubbleController:Qw,DoughnutController:yl,LineController:ex,PieController:tx,PolarAreaController:zf,RadarController:sx,ScatterController:ix});function Fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vl{static override(e){Object.assign(vl.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fs()}parse(){return Fs()}format(){return Fs()}add(){return Fs()}diff(){return Fs()}startOf(){return Fs()}endOf(){return Fs()}}var rx={_date:vl};function ox(t,e,s,i){const{controller:n,data:r,_sorted:o}=t,a=n._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?xv:is;if(i){if(n._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(r,e,s-d),f=c(r,e,s+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(r,e,s);if(l){const{vScale:d}=n._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!de(p[d.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(p=>!de(p[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function co(t,e,s,i,n){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=ox(r[a],e,o,n);for(let f=d;f<=h;++f){const g=u[f];g.skip||i(g,c,f)}}}function ax(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(i,n){const r=e?Math.abs(i.x-n.x):0,o=s?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Uo(t,e,s,i,n){const r=[];return!n&&!t.isPointInArea(e)||co(t,s,e,function(a,l,c){!n&&!ns(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function lx(t,e,s,i){let n=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=_f(o,{x:e.x,y:e.y});Pn(d,c,u)&&n.push({element:o,datasetIndex:a,index:l})}return co(t,s,e,r),n}function cx(t,e,s,i,n,r){let o=[];const a=ax(s);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,n);if(i&&!f)return;const g=u.getCenterPoint(n);if(!(!!r||t.isPointInArea(g))&&!f)return;const m=a(e,g);m<l?(o=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:h})}return co(t,s,e,c),o}function $o(t,e,s,i,n,r){return!r&&!t.isPointInArea(e)?[]:s==="r"&&!i?lx(t,e,s,n):cx(t,e,s,i,n,r)}function bu(t,e,s,i,n){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return co(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],n)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,n))}),i&&!a?[]:r}var ux={modes:{index(t,e,s,i){const n=Ns(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?Uo(t,n,r,i,o):$o(t,n,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,i){const n=Ns(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?Uo(t,n,r,i,o):$o(t,n,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,i){const n=Ns(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return Uo(t,n,r,i,o)},nearest(t,e,s,i){const n=Ns(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return $o(t,n,r,s.intersect,i,o)},x(t,e,s,i){const n=Ns(e,t);return bu(t,n,"x",s.intersect,i)},y(t,e,s,i){const n=Ns(e,t);return bu(t,n,"y",s.intersect,i)}}};const Vf=["left","top","right","bottom"];function Bi(t,e){return t.filter(s=>s.pos===e)}function _u(t,e){return t.filter(s=>Vf.indexOf(s.pos)===-1&&s.box.axis===e)}function Ni(t,e){return t.sort((s,i)=>{const n=e?i:s,r=e?s:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function dx(t){const e=[];let s,i,n,r,o,a;for(s=0,i=(t||[]).length;s<i;++s)n=t[s],{position:r,options:{stack:o,stackWeight:a=1}}=n,e.push({index:s,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return e}function hx(t){const e={};for(const s of t){const{stack:i,pos:n,stackWeight:r}=s;if(!i||!Vf.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function fx(t,e){const s=hx(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=n):(a.width=i,a.height=u?u*n:l&&e.availableHeight)}return s}function gx(t){const e=dx(t),s=Ni(e.filter(c=>c.box.fullSize),!0),i=Ni(Bi(e,"left"),!0),n=Ni(Bi(e,"right")),r=Ni(Bi(e,"top"),!0),o=Ni(Bi(e,"bottom")),a=_u(e,"x"),l=_u(e,"y");return{fullSize:s,leftAndTop:i.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:Bi(e,"chartArea"),vertical:i.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}function yu(t,e,s,i){return Math.max(t[s],e[s])+Math.max(t[i],e[i])}function Wf(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function px(t,e,s,i){const{pos:n,box:r}=s,o=t.maxPadding;if(!he(n)){s.size&&(t[n]-=s.size);const d=i[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?r.height:r.width),s.size=d.size/d.count,t[n]+=s.size}r.getPadding&&Wf(o,r.getPadding());const a=Math.max(0,e.outerWidth-yu(o,t,"left","right")),l=Math.max(0,e.outerHeight-yu(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function mx(t){const e=t.maxPadding;function s(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function bx(t,e){const s=e.maxPadding;function i(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(e[o],s[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Qi(t,e,s,i){const n=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,bx(a.horizontal,e));const{same:d,other:h}=px(e,s,a,i);c|=d&&n.length,u=u||h,l.fullSize||n.push(a)}return c&&Qi(n,e,s,i)||u}function er(t,e,s,i,n){t.top=s,t.left=e,t.right=e+i,t.bottom=s+n,t.width=i,t.height=n}function vu(t,e,s,i){const n=s.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;En(c.start)&&(o=c.start),l.fullSize?er(l,n.left,o,s.outerWidth-n.right-n.left,h):er(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;En(c.start)&&(r=c.start),l.fullSize?er(l,r,n.top,h,s.outerHeight-n.bottom-n.top):er(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var Qe={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,i){if(!t)return;const n=tt(t.options.layout.padding),r=Math.max(e-n.width,0),o=Math.max(s-n.height,0),a=gx(t.boxes),l=a.vertical,c=a.horizontal;we(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:s,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},n);Wf(h,tt(i));const f=Object.assign({maxPadding:h,w:r,h:o,x:n.left,y:n.top},n),g=fx(l.concat(c),d);Qi(a.fullSize,f,d,g),Qi(l,f,d,g),Qi(c,f,d,g)&&Qi(l,f,d,g),mx(f),vu(a.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,vu(a.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},we(a.chartArea,p=>{const m=p.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class qf{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,i){}removeEventListener(e,s,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,i,n){return s=Math.max(0,s||e.width),i=i||e.height,{width:s,height:Math.max(0,n?Math.floor(s/n):i)}}isAttached(e){return!0}updateConfig(e){}}class _x extends qf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const br="$chartjs",yx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wu=t=>t===null||t==="";function vx(t,e){const s=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[br]={initial:{height:i,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",wu(n)){const r=nu(t,"width");r!==void 0&&(t.width=r)}if(wu(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=nu(t,"height");r!==void 0&&(t.height=r)}return t}const Kf=pw?{passive:!0}:!1;function wx(t,e,s){t&&t.addEventListener(e,s,Kf)}function xx(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Kf)}function Sx(t,e){const s=yx[t.type]||t.type,{x:i,y:n}=Ns(t,e);return{type:s,chart:e,native:t,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Ur(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function kx(t,e,s){const i=t.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ur(a.addedNodes,i),o=o&&!Ur(a.removedNodes,i);o&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function Cx(t,e,s){const i=t.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ur(a.removedNodes,i),o=o&&!Ur(a.addedNodes,i);o&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const On=new Map;let xu=0;function Gf(){const t=window.devicePixelRatio;t!==xu&&(xu=t,On.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function Ax(t,e){On.size||window.addEventListener("resize",Gf),On.set(t,e)}function Ex(t){On.delete(t),On.size||window.removeEventListener("resize",Gf)}function Px(t,e,s){const i=t.canvas,n=i&&_l(i);if(!n)return;const r=xf((a,l)=>{const c=n.clientWidth;s(a,l),c<n.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(n),Ax(t,r),o}function Bo(t,e,s){s&&s.disconnect(),e==="resize"&&Ex(t)}function Tx(t,e,s){const i=t.canvas,n=xf(r=>{t.ctx!==null&&s(Sx(r,t))},t);return wx(i,e,n),n}class Ox extends qf{acquireContext(e,s){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(vx(e,s),i):null}releaseContext(e){const s=e.canvas;if(!s[br])return!1;const i=s[br].initial;["height","width"].forEach(r=>{const o=i[r];de(o)?s.removeAttribute(r):s.setAttribute(r,o)});const n=i.style||{};return Object.keys(n).forEach(r=>{s.style[r]=n[r]}),s.width=s.width,delete s[br],!0}addEventListener(e,s,i){this.removeEventListener(e,s);const n=e.$proxies||(e.$proxies={}),o={attach:kx,detach:Cx,resize:Px}[s]||Tx;n[s]=o(e,s,i)}removeEventListener(e,s){const i=e.$proxies||(e.$proxies={}),n=i[s];if(!n)return;({attach:Bo,detach:Bo,resize:Bo}[s]||xx)(e,s,n),i[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,i,n){return gw(e,s,i,n)}isAttached(e){const s=e&&_l(e);return!!(s&&s.isConnected)}}function Mx(t){return!bl()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_x:Ox}let us=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:i}=this.getProps(["x","y"],e);return{x:s,y:i}}hasValue(){return Mi(this.x)&&Mi(this.y)}getProps(e,s){const i=this.$animations;if(!s||!i)return this;const n={};return e.forEach(r=>{n[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),n}};function Ix(t,e){const s=t.options.ticks,i=Dx(t),n=Math.min(s.maxTicksLimit||i,i),r=s.major.enabled?Lx(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return jx(e,c,r,o/n),c;const u=Rx(r,e,n);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(tr(e,c,u,de(f)?0:a-f,a),d=0,h=o-1;d<h;d++)tr(e,c,u,r[d],r[d+1]);return tr(e,c,u,l,de(f)?e.length:l+f),c}return tr(e,c,u),c}function Dx(t){const e=t.options.offset,s=t._tickSize(),i=t._length/s+(e?0:1),n=t._maxLength/s;return Math.floor(Math.min(i,n))}function Rx(t,e,s){const i=Fx(t),n=e.length/s;if(!i)return Math.max(n,1);const r=bv(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>n)return l}return Math.max(n,1)}function Lx(t){const e=[];let s,i;for(s=0,i=t.length;s<i;s++)t[s].major&&e.push(s);return e}function jx(t,e,s,i){let n=0,r=s[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),n++,r=s[n*i])}function tr(t,e,s,i,n){const r=ne(i,0),o=Math.min(ne(n,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),n&&(l=n-i,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*s))}function Fx(t){const e=t.length;let s,i;if(e<2)return!1;for(i=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==i)return!1;return i}const Hx=t=>t==="left"?"right":t==="right"?"left":t,Su=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,ku=(t,e)=>Math.min(e||t,t);function Cu(t,e){const s=[],i=t.length/e,n=t.length;let r=0;for(;r<n;r+=i)s.push(t[Math.floor(r)]);return s}function Ux(t,e,s){const i=t.ticks.length,n=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(n),c;if(!(s&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(n-1))/2,l+=n<e?c:-c,l<r-a||l>o+a)))return l}function $x(t,e){we(t,s=>{const i=s.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete s.data[i[r]];i.splice(0,n)}})}function zi(t){return t.drawTicks?t.tickLength:0}function Au(t,e){if(!t.display)return 0;const s=Be(t.font,e),i=tt(t.padding);return(Me(t.text)?t.text.length:1)*s.lineHeight+i.height}function Bx(t,e){return Ts(t,{scale:e,type:"scale"})}function Nx(t,e,s){return Ts(t,{tick:s,index:e,type:"tick"})}function zx(t,e,s){let i=dl(t);return(s&&e!=="right"||!s&&e==="right")&&(i=Hx(i)),i}function Vx(t,e,s,i){const{top:n,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,g;const p=o-n,m=a-r;if(t.isHorizontal()){if(f=Ge(i,r,a),he(s)){const _=Object.keys(s)[0],x=s[_];g=u[_].getPixelForValue(x)+p-e}else s==="center"?g=(c.bottom+c.top)/2+p-e:g=Su(t,s,e);h=a-r}else{if(he(s)){const _=Object.keys(s)[0],x=s[_];f=u[_].getPixelForValue(x)-m+e}else s==="center"?f=(c.left+c.right)/2-m+e:f=Su(t,s,e);g=Ge(i,o,n),d=s==="left"?-je:je}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class ei extends us{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:i,_suggestedMax:n}=this;return e=pt(e,Number.POSITIVE_INFINITY),s=pt(s,Number.NEGATIVE_INFINITY),i=pt(i,Number.POSITIVE_INFINITY),n=pt(n,Number.NEGATIVE_INFINITY),{min:pt(e,i),max:pt(s,n),minDefined:De(e),maxDefined:De(s)}}getMinMax(e){let{min:s,max:i,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:s,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),n||(s=Math.min(s,o.min)),r||(i=Math.max(i,o.max));return s=r&&s>i?i:s,i=n&&s>i?s:i,{min:pt(s,pt(i,s)),max:pt(i,pt(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ee(this.options.beforeUpdate,[this])}update(e,s,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qv(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Cu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ix(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,i;this.isHorizontal()?(s=this.left,i=this.right):(s=this.top,i=this.bottom,e=!e),this._startPixel=s,this._endPixel=i,this._reversePixels=e,this._length=i-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ee(this.options.afterUpdate,[this])}beforeSetDimensions(){Ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ee(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ee(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let i,n,r;for(i=0,n=e.length;i<n;i++)r=e[i],r.label=Ee(s.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,i=ku(this.ticks.length,e.ticks.maxTicksLimit),n=s.minRotation||0,r=s.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!s.display||n>=r||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Ve(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-zi(e.grid)-s.padding-Au(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=cl(Math.min(Math.asin(Ve((u.highest.height+6)/a,-1,1)),Math.asin(Ve(l/c,-1,1))-Math.asin(Ve(h/c,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ee(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Au(n,s.options.font);if(a?(e.width=this.maxWidth,e.height=zi(r)+l):(e.height=this.maxHeight,e.width=zi(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,g=Ct(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const _=i.mirror?0:m*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=i.mirror?0:p*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,i,n){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=n*e.width,f=i*s.height):(h=i*e.height,f=n*s.width):r==="start"?f=s.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,f=s.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=s.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=s.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ee(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,i;for(s=0,i=e.length;s<i;s++)de(e[s].label)&&(e.splice(s,1),i--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let i=this.ticks;s<i.length&&(i=Cu(i,s)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,i){const{ctx:n,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/ku(s,i));let c=0,u=0,d,h,f,g,p,m,_,x,k,w,C;for(d=0;d<s;d+=l){if(g=e[d].label,p=this._resolveTickFontOptions(d),n.font=m=p.string,_=r[m]=r[m]||{data:{},gc:[]},x=p.lineHeight,k=w=0,!de(g)&&!Me(g))k=Fr(n,_.data,_.gc,k,g),w=x;else if(Me(g))for(h=0,f=g.length;h<f;++h)C=g[h],!de(C)&&!Me(C)&&(k=Fr(n,_.data,_.gc,k,C),w+=x);o.push(k),a.push(w),c=Math.max(k,c),u=Math.max(w,u)}$x(r,s);const A=o.indexOf(c),v=a.indexOf(u),T=P=>({width:o[P]||0,height:a[P]||0});return{first:T(0),last:T(s-1),widest:T(A),highest:T(v),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return wv(this._alignToPixels?js(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const i=s[e];return i.$context||(i.$context=Nx(this.getContext(),e,i))}return this.$context||(this.$context=Bx(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Ct(this.labelRotation),i=Math.abs(Math.cos(s)),n=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:a}=n,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=zi(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,_=function(V){return js(i,V,p)};let x,k,w,C,A,v,T,P,L,H,q,se;if(o==="top")x=_(this.bottom),v=this.bottom-h,P=x-m,H=_(e.top)+m,se=e.bottom;else if(o==="bottom")x=_(this.top),H=e.top,se=_(e.bottom)-m,v=x+m,P=this.top+h;else if(o==="left")x=_(this.right),A=this.right-h,T=x-m,L=_(e.left)+m,q=e.right;else if(o==="right")x=_(this.left),L=e.left,q=_(e.right)-m,A=x+m,T=this.left+h;else if(s==="x"){if(o==="center")x=_((e.top+e.bottom)/2+.5);else if(he(o)){const V=Object.keys(o)[0],W=o[V];x=_(this.chart.scales[V].getPixelForValue(W))}H=e.top,se=e.bottom,v=x+m,P=v+h}else if(s==="y"){if(o==="center")x=_((e.left+e.right)/2);else if(he(o)){const V=Object.keys(o)[0],W=o[V];x=_(this.chart.scales[V].getPixelForValue(W))}A=x-m,T=A-h,L=e.left,q=e.right}const Re=ne(n.ticks.maxTicksLimit,d),ce=Math.max(1,Math.ceil(d/Re));for(k=0;k<d;k+=ce){const V=this.getContext(k),W=r.setContext(V),Q=a.setContext(V),ge=W.lineWidth,st=W.color,it=Q.dash||[],Le=Q.dashOffset,_t=W.tickWidth,at=W.tickColor,Tt=W.tickBorderDash||[],He=W.tickBorderDashOffset;w=Ux(this,k,l),w!==void 0&&(C=js(i,w,ge),c?A=T=L=q=C:v=P=H=se=C,f.push({tx1:A,ty1:v,tx2:T,ty2:P,x1:L,y1:H,x2:q,y2:se,width:ge,color:st,borderDash:it,borderDashOffset:Le,tickWidth:_t,tickColor:at,tickBorderDash:Tt,tickBorderDashOffset:He}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){const s=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=zi(i.grid),f=h+u,g=d?-u:f,p=-Ct(this.labelRotation),m=[];let _,x,k,w,C,A,v,T,P,L,H,q,se="middle";if(n==="top")A=this.bottom-g,v=this._getXAxisLabelAlignment();else if(n==="bottom")A=this.top+g,v=this._getXAxisLabelAlignment();else if(n==="left"){const ce=this._getYAxisLabelAlignment(h);v=ce.textAlign,C=ce.x}else if(n==="right"){const ce=this._getYAxisLabelAlignment(h);v=ce.textAlign,C=ce.x}else if(s==="x"){if(n==="center")A=(e.top+e.bottom)/2+f;else if(he(n)){const ce=Object.keys(n)[0],V=n[ce];A=this.chart.scales[ce].getPixelForValue(V)+f}v=this._getXAxisLabelAlignment()}else if(s==="y"){if(n==="center")C=(e.left+e.right)/2-f;else if(he(n)){const ce=Object.keys(n)[0],V=n[ce];C=this.chart.scales[ce].getPixelForValue(V)}v=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(l==="start"?se="top":l==="end"&&(se="bottom"));const Re=this._getLabelSizes();for(_=0,x=a.length;_<x;++_){k=a[_],w=k.label;const ce=r.setContext(this.getContext(_));T=this.getPixelForTick(_)+r.labelOffset,P=this._resolveTickFontOptions(_),L=P.lineHeight,H=Me(w)?w.length:1;const V=H/2,W=ce.color,Q=ce.textStrokeColor,ge=ce.textStrokeWidth;let st=v;o?(C=T,v==="inner"&&(_===x-1?st=this.options.reverse?"left":"right":_===0?st=this.options.reverse?"right":"left":st="center"),n==="top"?c==="near"||p!==0?q=-H*L+L/2:c==="center"?q=-Re.highest.height/2-V*L+L:q=-Re.highest.height+L/2:c==="near"||p!==0?q=L/2:c==="center"?q=Re.highest.height/2-V*L:q=Re.highest.height-H*L,d&&(q*=-1),p!==0&&!ce.showLabelBackdrop&&(C+=L/2*Math.sin(p))):(A=T,q=(1-H)*L/2);let it;if(ce.showLabelBackdrop){const Le=tt(ce.backdropPadding),_t=Re.heights[_],at=Re.widths[_];let Tt=q-Le.top,He=0-Le.left;switch(se){case"middle":Tt-=_t/2;break;case"bottom":Tt-=_t;break}switch(v){case"center":He-=at/2;break;case"right":He-=at;break;case"inner":_===x-1?He-=at:_>0&&(He-=at/2);break}it={left:He,top:Tt,width:at+Le.width,height:_t+Le.height,color:ce.backdropColor}}m.push({label:w,font:P,textOffset:q,options:{rotation:p,color:W,strokeColor:Q,strokeWidth:ge,textAlign:st,textBaseline:se,translation:[C,A],backdrop:it}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Ct(this.labelRotation))return e==="top"?"left":"right";let n="center";return s.align==="start"?n="left":s.align==="end"?n="right":s.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return s==="left"?n?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?n?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:i,top:n,width:r,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(i,n,r,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const n=this.ticks.findIndex(r=>r.value===e);return n>=0?s.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const s=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(s.display)for(r=0,o=n.length;r<o;++r){const l=n[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=js(e,this.left,o)-o/2,u=js(e,this.right,a)+a/2,d=h=l):(d=js(e,this.top,o)-o/2,h=js(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&oo(i,n);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Xs(i,c,0,u,l,a)}n&&ao(i)}drawTitle(){const{ctx:e,options:{position:s,title:i,reverse:n}}=this;if(!i.display)return;const r=Be(i.font),o=tt(i.padding),a=i.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||he(s)?(l+=o.bottom,Me(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=Vx(this,l,s,a);Xs(e,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:h,textAlign:zx(a,s,n),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,i=ne(e.grid&&e.grid.z,-1),n=ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ei.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[i]===this.id&&(!e||a.type===e)&&n.push(a)}return n}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Be(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sr{constructor(e,s,i){this.type=e,this.scope=s,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let i;Kx(s)&&(i=this.register(s));const n=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,Wx(e,o,i),this.override&&Ie.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,i=e.id,n=this.scope;i in s&&delete s[i],n&&i in Ie[n]&&(delete Ie[n][i],this.override&&delete Ys[i])}}function Wx(t,e,s){const i=An(Object.create(null),[s?Ie.get(s):{},Ie.get(e),t.defaults]);Ie.set(e,i),t.defaultRoutes&&qx(e,t.defaultRoutes),t.descriptors&&Ie.describe(e,t.descriptors)}function qx(t,e){Object.keys(e).forEach(s=>{const i=s.split("."),n=i.pop(),r=[t].concat(i).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");Ie.route(r,n,l,a)})}function Kx(t){return"id"in t&&"defaults"in t}class Gx{constructor(){this.controllers=new sr(Os,"datasets",!0),this.elements=new sr(us,"elements"),this.plugins=new sr(Object,"plugins"),this.scales=new sr(ei,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,i){[...s].forEach(n=>{const r=i||this._getRegistryForType(n);i||r.isForType(n)||r===this.plugins&&n.id?this._exec(e,r,n):we(n,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,i){const n=ll(e);Ee(i["before"+n],[],i),s[e](i),Ee(i["after"+n],[],i)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const i=this._typedRegistries[s];if(i.isForType(e))return i}return this.plugins}_get(e,s,i){const n=s.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var Ft=new Gx;class Jx{constructor(){this._init=[]}notify(e,s,i,n){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(r,e,s,i);return s==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,i,n){n=n||{};for(const r of e){const o=r.plugin,a=o[i],l=[s,n,r.options];if(Ee(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const i=e&&e.config,n=ne(i.options&&i.options.plugins,{}),r=Yx(i);return n===!1&&!s?[]:Qx(e,r,n,s)}_notifyStateChanges(e){const s=this._oldCache||[],i=this._cache,n=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(s,i),e,"stop"),this._notify(n(i,s),e,"start")}}function Yx(t){const e={},s=[],i=Object.keys(Ft.plugins.items);for(let r=0;r<i.length;r++)s.push(Ft.getPlugin(i[r]));const n=t.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function Xx(t,e){return!e&&t===!1?null:t===!0?{}:t}function Qx(t,{plugins:e,localIds:s},i,n){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=Xx(i[l],n);c!==null&&r.push({plugin:a,options:Zx(t.config,{plugin:a,local:s[l]},c,o)})}return r}function Zx(t,{plugin:e,local:s},i,n){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ea(t,e){const s=Ie.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function eS(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function tS(t,e){return t===e?"_index_":"_value_"}function Eu(t){if(t==="x"||t==="y"||t==="r")return t}function sS(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Pa(t,...e){if(Eu(t))return t;for(const s of e){const i=s.axis||sS(s.position)||t.length>1&&Eu(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Pu(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function iS(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(s.length)return Pu(t,"x",s[0])||Pu(t,"y",s[0])}return{}}function nS(t,e){const s=Ys[t.type]||{scales:{}},i=e.scales||{},n=Ea(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!he(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Pa(o,a,iS(o,t),Ie.scales[a.type]),c=tS(l,n),u=s.scales||{};r[o]=fn(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ea(a,e),u=(Ys[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=eS(d,l),f=o[h+"AxisID"]||h;r[f]=r[f]||Object.create(null),fn(r[f],[{axis:h},i[f],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];fn(a,[Ie.scales[a.type],Ie.scale])}),r}function Jf(t){const e=t.options||(t.options={});e.plugins=ne(e.plugins,{}),e.scales=nS(t,e)}function Yf(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rS(t){return t=t||{},t.data=Yf(t.data),Jf(t),t}const Tu=new Map,Xf=new Set;function ir(t,e){let s=Tu.get(t);return s||(s=e(),Tu.set(t,s),Xf.add(s)),s}const Vi=(t,e,s)=>{const i=Es(e,s);i!==void 0&&t.add(i)};class oS{constructor(e){this._config=rS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Yf(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Jf(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ir(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return ir(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return ir(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,i=this.type;return ir(`${i}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const i=this._scopeCache;let n=i.get(e);return(!n||s)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,s,i){const{options:n,type:r}=this,o=this._cachedScopes(e,i),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(d=>Vi(l,e,d))),u.forEach(d=>Vi(l,n,d)),u.forEach(d=>Vi(l,Ys[r]||{},d)),u.forEach(d=>Vi(l,Ie,d)),u.forEach(d=>Vi(l,Ca,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Xf.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,Ys[s]||{},Ie.datasets[s]||{},{type:s},Ie,Ca]}resolveNamedOptions(e,s,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ou(this._resolverCache,e,n);let l=o;if(lS(o,s)){r.$shared=!1,i=Ps(i)?i():i;const c=this.createResolver(e,i,a);l=Ii(o,i,c)}for(const c of s)r[c]=l[c];return r}createResolver(e,s,i=[""],n){const{resolver:r}=Ou(this._resolverCache,e,i);return he(s)?Ii(r,s,void 0,n):r}}function Ou(t,e,s){let i=t.get(e);i||(i=new Map,t.set(e,i));const n=s.join();let r=i.get(n);return r||(r={resolver:gl(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,r)),r}const aS=t=>he(t)&&Object.getOwnPropertyNames(t).some(e=>Ps(t[e]));function lS(t,e){const{isScriptable:s,isIndexable:i}=Pf(t);for(const n of e){const r=s(n),o=i(n),a=(o||r)&&t[n];if(r&&(Ps(a)||aS(a))||o&&Me(a))return!0}return!1}var cS="4.5.0";const uS=["top","bottom","left","right","chartArea"];function Mu(t,e){return t==="top"||t==="bottom"||uS.indexOf(t)===-1&&e==="x"}function Iu(t,e){return function(s,i){return s[t]===i[t]?s[e]-i[e]:s[t]-i[t]}}function Du(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Ee(s&&s.onComplete,[t],e)}function dS(t){const e=t.chart,s=e.options.animation;Ee(s&&s.onProgress,[t],e)}function Qf(t){return bl()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _r={},Ru=t=>{const e=Qf(t);return Object.values(_r).filter(s=>s.canvas===e).pop()};function hS(t,e,s){const i=Object.keys(t);for(const n of i){const r=+n;if(r>=e){const o=t[n];delete t[n],(s>0||r>e)&&(t[r+s]=o)}}}function fS(t,e,s,i){return!s||t.type==="mouseout"?null:i?e:t}class Ta{static defaults=Ie;static instances=_r;static overrides=Ys;static registry=Ft;static version=cS;static getChart=Ru;static register(...e){Ft.add(...e),Lu()}static unregister(...e){Ft.remove(...e),Lu()}constructor(e,s){const i=this.config=new oS(s),n=Qf(e),r=Ru(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Mx(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=lv(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Cv(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],_r[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Jt.listen(this,"complete",Du),Jt.listen(this,"progress",dS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:i,height:n,_aspectRatio:r}=this;return de(e)?s&&r?r:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ft}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eu(this.canvas,this.ctx),this}stop(){return Jt.stop(this),this}resize(e,s){Jt.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,s,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iu(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ee(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};we(s,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,s=e.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=Pa(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),we(r,o=>{const a=o.options,l=a.id,c=Pa(l,a),u=ne(a.type,o.dtype);(a.position===void 0||Mu(a.position,c)!==Mu(o.dposition))&&(a.position=o.dposition),n[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=Ft.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),we(n,(o,a)=>{o||delete i[a]}),we(i,o=>{Qe.configure(this,o,o.options),Qe.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,i=e.length;if(e.sort((n,r)=>n.index-r.index),i>s){for(let n=s;n<i;++n)this._destroyDatasetMeta(n);e.splice(s,i-s)}this._sortedMetasets=e.slice(0).sort(Iu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((i,n)=>{s.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=s.length;i<n;i++){const r=s[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Ea(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ft.getController(a),{datasetElementType:c,dataElementType:u}=Ie.datasets[a];Object.assign(l,{dataElementType:Ft.getElement(u),datasetElementType:c&&Ft.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){we(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const i=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!n&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||we(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Iu("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){we(this.scales,e=>{Qe.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Wc(s,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of s){const o=i==="_removeElements"?-r:r;hS(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let r=1;r<s;r++)if(!Wc(n,i(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qe.update(this,this.width,this.height,e);const s=this.chartArea,i=s.width<=0||s.height<=0;this._layers=[],we(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,i=this.data.datasets.length;s<i;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,i=this.data.datasets.length;s<i;++s)this._updateDataset(s,Ps(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(s),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jt.has(this)?this.attached&&!Jt.running(this)&&Jt.start(this):(this.draw(),Du({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,i=[];let n,r;for(n=0,r=s.length;n<r;++n){const o=s[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=Uf(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&oo(s,n),e.controller.draw(),n&&ao(s),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ns(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,i,n){const r=ux.modes[s];return typeof r=="function"?r(this,e,i,n):[]}getDatasetMeta(e){const s=this.data.datasets[e],i=this._metasets;let n=i.filter(r=>r&&r._dataset===s).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!s.hidden}setDatasetVisibility(e,s){const i=this.getDatasetMeta(e);i.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,i){const n=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,n);En(s)?(r.data[s].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?n:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Jt.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),eu(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete _r[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,i=(r,o)=>{s.addEventListener(this,r,o),e[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};we(this.options.events,r=>i(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,i=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},n=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){we(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},we(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,i){const n=i?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Rr(i,s)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,s))}notifyPlugins(e,s,i){return this._plugins.notify(this,e,s,i)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,i){const n=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(s,e),a=i?e:r(e,s);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,s){const i={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const r=this._handleEvent(e,s,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(e,s,i){const{_active:n=[],options:r}=this,o=s,a=this._getActiveElements(e,n,i,o),l=gv(e),c=fS(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Ee(r.onHover,[e,a,this],this),l&&Ee(r.onClick,[e,a,this],this));const u=!Rr(a,n);return(u||s)&&(this._active=a,this._updateHoverStyles(a,n,s)),this._lastEvent=c,u}_getActiveElements(e,s,i,n){if(e.type==="mouseout")return[];if(!i)return s;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function Lu(){return we(Ta.instances,t=>t._plugins.invalidate())}function gS(t,e,s){const{startAngle:i,x:n,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,Je(i-s));if(t.beginPath(),t.arc(n,r,o-c/2,i+d/2,s-d/2),a>0){const h=Math.min(c/a,Je(i-s));t.arc(n,r,a+c/2,s-h/2,i+h/2,!0)}else{const h=Math.min(c/2,o*Je(i-s));if(u==="round")t.arc(n,r,h,s-pe/2,i+pe/2,!0);else if(u==="bevel"){const f=2*h*h,g=-f*Math.cos(s+pe/2)+n,p=-f*Math.sin(s+pe/2)+r,m=f*Math.cos(i+pe/2)+n,_=f*Math.sin(i+pe/2)+r;t.lineTo(g,p),t.lineTo(m,_)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function pS(t,e,s){const{startAngle:i,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=n/a;t.beginPath(),t.arc(r,o,a,i-c,s+c),l>n?(c=n/l,t.arc(r,o,l,s+c,i-c,!0)):t.arc(r,o,n,s+je,i-je),t.closePath(),t.clip()}function mS(t){return fl(t,["outerStart","outerEnd","innerStart","innerEnd"])}function bS(t,e,s,i){const n=mS(t.options.borderRadius),r=(s-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(s-Math.min(r,l))*i/2;return Ve(l,0,Math.min(r,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:Ve(n.innerStart,0,o),innerEnd:Ve(n.innerEnd,0,o)}}function hi(t,e,s,i){return{x:s+t*Math.cos(e),y:i+t*Math.sin(e)}}function $r(t,e,s,i,n,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+s-c,0),h=u>0?u+i+s+c:0;let f=0;const g=n-l;if(i){const ce=u>0?u-i:0,V=d>0?d-i:0,W=(ce+V)/2,Q=W!==0?g*W/(W+i):g;f=(g-Q)/2}const p=Math.max(.001,g*d-s/pe)/d,m=(g-p)/2,_=l+m+f,x=n-m-f,{outerStart:k,outerEnd:w,innerStart:C,innerEnd:A}=bS(e,h,d,x-_),v=d-k,T=d-w,P=_+k/v,L=x-w/T,H=h+C,q=h+A,se=_+C/H,Re=x-A/q;if(t.beginPath(),r){const ce=(P+L)/2;if(t.arc(o,a,d,P,ce),t.arc(o,a,d,ce,L),w>0){const ge=hi(T,L,o,a);t.arc(ge.x,ge.y,w,L,x+je)}const V=hi(q,x,o,a);if(t.lineTo(V.x,V.y),A>0){const ge=hi(q,Re,o,a);t.arc(ge.x,ge.y,A,x+je,Re+Math.PI)}const W=(x-A/h+(_+C/h))/2;if(t.arc(o,a,h,x-A/h,W,!0),t.arc(o,a,h,W,_+C/h,!0),C>0){const ge=hi(H,se,o,a);t.arc(ge.x,ge.y,C,se+Math.PI,_-je)}const Q=hi(v,_,o,a);if(t.lineTo(Q.x,Q.y),k>0){const ge=hi(v,P,o,a);t.arc(ge.x,ge.y,k,_-je,P)}}else{t.moveTo(o,a);const ce=Math.cos(P)*d+o,V=Math.sin(P)*d+a;t.lineTo(ce,V);const W=Math.cos(L)*d+o,Q=Math.sin(L)*d+a;t.lineTo(W,Q)}t.closePath()}function _S(t,e,s,i,n){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){$r(t,e,s,i,l,n);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Te||Te))}return $r(t,e,s,i,l,n),t.fill(),l}function yS(t,e,s,i,n){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(r){$r(t,e,s,i,p,n);for(let m=0;m<r;++m)t.stroke();isNaN(a)||(p=o+(a%Te||Te))}g&&pS(t,e,p),l.selfJoin&&p-o>=pe&&f===0&&u!=="miter"&&gS(t,e,p),r||($r(t,e,s,i,p,n),t.stroke())}class vS extends us{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,i){const n=this.getProps(["x","y"],i),{angle:r,distance:o}=_f(n,{x:e,y:s}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,f=ne(d,l-a),g=Pn(r,a,l)&&a!==l,p=f>=Te||g,m=ss(o,c+h,u+h);return p&&m}getCenterPoint(e){const{x:s,y:i,startAngle:n,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(n+r)/2,d=(o+a+c+l)/2;return{x:s+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:i}=this,n=(s.offset||0)/4,r=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Te?Math.floor(i/Te):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*n,Math.sin(a)*n);const l=1-Math.sin(Math.min(pe,i||0)),c=n*l;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,_S(e,this,c,r,o),yS(e,this,c,r,o),e.restore()}}function Zf(t,e,s=e){t.lineCap=ne(s.borderCapStyle,e.borderCapStyle),t.setLineDash(ne(s.borderDash,e.borderDash)),t.lineDashOffset=ne(s.borderDashOffset,e.borderDashOffset),t.lineJoin=ne(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ne(s.borderWidth,e.borderWidth),t.strokeStyle=ne(s.borderColor,e.borderColor)}function wS(t,e,s){t.lineTo(s.x,s.y)}function xS(t){return t.stepped?Fv:t.tension||t.cubicInterpolationMode==="monotone"?Hv:wS}function eg(t,e,s={}){const i=t.length,{start:n=0,end:r=i-1}=s,{start:o,end:a}=e,l=Math.max(n,o),c=Math.min(r,a),u=n<o&&r<o||n>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function SS(t,e,s,i){const{points:n,options:r}=e,{count:o,start:a,loop:l,ilen:c}=eg(n,s,i),u=xS(r);let{move:d=!0,reverse:h}=i||{},f,g,p;for(f=0;f<=c;++f)g=n[(a+(h?c-f:f))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,p,g,h,r.stepped),p=g);return l&&(g=n[(a+(h?c:0))%o],u(t,p,g,h,r.stepped)),!!l}function kS(t,e,s,i){const n=e.points,{count:r,start:o,ilen:a}=eg(n,s,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,g,p,m,_;const x=w=>(o+(c?a-w:w))%r,k=()=>{p!==m&&(t.lineTo(u,m),t.lineTo(u,p),t.lineTo(u,_))};for(l&&(f=n[x(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=n[x(h)],f.skip)continue;const w=f.x,C=f.y,A=w|0;A===g?(C<p?p=C:C>m&&(m=C),u=(d*u+w)/++d):(k(),t.lineTo(w,C),g=A,d=0,p=m=C),_=C}k()}function Oa(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?kS:SS}function CS(t){return t.stepped?mw:t.tension||t.cubicInterpolationMode==="monotone"?bw:zs}function AS(t,e,s,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,s,i)&&n.closePath()),Zf(t,e.options),t.stroke(n)}function ES(t,e,s,i){const{segments:n,options:r}=e,o=Oa(e);for(const a of n)Zf(t,r,a.style),t.beginPath(),o(t,e,a,{start:s,end:s+i-1})&&t.closePath(),t.stroke()}const PS=typeof Path2D=="function";function TS(t,e,s,i){PS&&!e.options.segment?AS(t,e,s,i):ES(t,e,s,i)}class uo extends us{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;lw(this._points,i,e,n,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Sw(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,i=e.length;return i&&s[e[i-1].end]}interpolate(e,s){const i=this.options,n=e[s],r=this.points,o=Hf(this,{property:s,start:n,end:n});if(!o.length)return;const a=[],l=CS(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=r[d],g=r[h];if(f===g){a.push(f);continue}const p=Math.abs((n-f[s])/(g[s]-f[s])),m=l(f,g,p,i.stepped);m[s]=e[s],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,s,i){return Oa(this)(e,this,s,i)}path(e,s,i){const n=this.segments,r=Oa(this);let o=this._loop;s=s||0,i=i||this.points.length-s;for(const a of n)o&=r(e,this,a,{start:s,end:s+i-1});return!!o}draw(e,s,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),TS(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ju(t,e,s,i){const n=t.options,{[s]:r}=t.getProps([s],i);return Math.abs(e-r)<n.radius+n.hitRadius}class OS extends us{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,i){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(s-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,s){return ju(this,e,"x",s)}inYRange(e,s){return ju(this,e,"y",s)}getCenterPoint(e){const{x:s,y:i}=this.getProps(["x","y"],e);return{x:s,y:i}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const i=s&&e.borderWidth||0;return(s+i)*2}draw(e,s){const i=this.options;this.skip||i.radius<.1||!ns(this,s,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Aa(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function tg(t,e){const{x:s,y:i,base:n,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(s,n),l=Math.max(s,n),c=i-d,u=i+d):(d=r/2,a=s-d,l=s+d,c=Math.min(i,n),u=Math.max(i,n)),{left:a,top:c,right:l,bottom:u}}function xs(t,e,s,i){return t?0:Ve(e,s,i)}function MS(t,e,s){const i=t.options.borderWidth,n=t.borderSkipped,r=Ef(i);return{t:xs(n.top,r.top,0,s),r:xs(n.right,r.right,0,e),b:xs(n.bottom,r.bottom,0,s),l:xs(n.left,r.left,0,e)}}function IS(t,e,s){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,r=Gs(n),o=Math.min(e,s),a=t.borderSkipped,l=i||he(n);return{topLeft:xs(!l||a.top||a.left,r.topLeft,0,o),topRight:xs(!l||a.top||a.right,r.topRight,0,o),bottomLeft:xs(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:xs(!l||a.bottom||a.right,r.bottomRight,0,o)}}function DS(t){const e=tg(t),s=e.right-e.left,i=e.bottom-e.top,n=MS(t,s/2,i/2),r=IS(t,s/2,i/2);return{outer:{x:e.left,y:e.top,w:s,h:i,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:s-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function No(t,e,s,i){const n=e===null,r=s===null,a=t&&!(n&&r)&&tg(t,i);return a&&(n||ss(e,a.left,a.right))&&(r||ss(s,a.top,a.bottom))}function RS(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function LS(t,e){t.rect(e.x,e.y,e.w,e.h)}function zo(t,e,s={}){const i=t.x!==s.x?-e:0,n=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-i,o=(t.y+t.h!==s.y+s.h?e:0)-n;return{x:t.x+i,y:t.y+n,w:t.w+r,h:t.h+o,radius:t.radius}}class jS extends us{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=DS(this),a=RS(o.radius)?Tn:LS;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,zo(o,s,r)),e.clip(),a(e,zo(r,-s,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,zo(r,s)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,s,i){return No(this,e,s,i)}inXRange(e,s){return No(this,e,null,s)}inYRange(e,s){return No(this,null,e,s)}getCenterPoint(e){const{x:s,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(s+n)/2:s,y:r?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var FS=Object.freeze({__proto__:null,ArcElement:vS,BarElement:jS,LineElement:uo,PointElement:OS});const Ma=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fu=Ma.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function sg(t){return Ma[t%Ma.length]}function ig(t){return Fu[t%Fu.length]}function HS(t,e){return t.borderColor=sg(e),t.backgroundColor=ig(e),++e}function US(t,e){return t.backgroundColor=t.data.map(()=>sg(e++)),e}function $S(t,e){return t.backgroundColor=t.data.map(()=>ig(e++)),e}function BS(t){let e=0;return(s,i)=>{const n=t.getDatasetMeta(i).controller;n instanceof yl?e=US(s,e):n instanceof zf?e=$S(s,e):n&&(e=HS(s,e))}}function Hu(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function NS(t){return t&&(t.borderColor||t.backgroundColor)}function zS(){return Ie.borderColor!=="rgba(0,0,0,0.1)"||Ie.backgroundColor!=="rgba(0,0,0,0.1)"}var VS={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:i},options:n}=t.config,{elements:r}=n,o=Hu(i)||NS(n)||r&&Hu(r)||zS();if(!s.forceOverride&&o)return;const a=BS(t);i.forEach(a)}};function WS(t,e,s,i,n){const r=n.samples||i;if(r>=s)return t.slice(e,e+s);const o=[],a=(s-2)/(r-2);let l=0;const c=e+s-1;let u=e,d,h,f,g,p;for(o[l++]=t[u],d=0;d<r-2;d++){let m=0,_=0,x;const k=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,s)+e,C=w-k;for(x=k;x<w;x++)m+=t[x].x,_+=t[x].y;m/=C,_/=C;const A=Math.floor(d*a)+1+e,v=Math.min(Math.floor((d+1)*a)+1,s)+e,{x:T,y:P}=t[u];for(f=g=-1,x=A;x<v;x++)g=.5*Math.abs((T-m)*(t[x].y-P)-(T-t[x].x)*(_-P)),g>f&&(f=g,h=t[x],p=x);o[l++]=h,u=p}return o[l++]=t[c],o}function qS(t,e,s,i){let n=0,r=0,o,a,l,c,u,d,h,f,g,p;const m=[],_=e+s-1,x=t[e].x,w=t[_].x-x;for(o=e;o<e+s;++o){a=t[o],l=(a.x-x)/w*i,c=a.y;const C=l|0;if(C===u)c<g?(g=c,d=o):c>p&&(p=c,h=o),n=(r*n+a.x)/++r;else{const A=o-1;if(!de(d)&&!de(h)){const v=Math.min(d,h),T=Math.max(d,h);v!==f&&v!==A&&m.push({...t[v],x:n}),T!==f&&T!==A&&m.push({...t[T],x:n})}o>0&&A!==f&&m.push(t[A]),m.push(a),u=C,r=0,g=p=c,d=h=f=o}}return m}function ng(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Uu(t){t.data.datasets.forEach(e=>{ng(e)})}function KS(t,e){const s=e.length;let i=0,n;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Ve(is(e,r.axis,o).lo,0,s-1)),c?n=Ve(is(e,r.axis,a).hi+1,i,s)-i:n=s-i,{start:i,count:n}}var GS={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){Uu(t);return}const i=t.width;t.data.datasets.forEach((n,r)=>{const{_data:o,indexAxis:a}=n,l=t.getDatasetMeta(r),c=o||n.data;if(Xi([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=KS(l,c);const f=s.threshold||4*i;if(h<=f){ng(n);return}de(o)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(s.algorithm){case"lttb":g=WS(c,d,h,i,s);break;case"min-max":g=qS(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}n._decimated=g})},destroy(t){Uu(t)}};function JS(t,e,s){const i=t.segments,n=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=ho(l,c,n);const u=Ia(s,n[l],n[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:n[l],end:n[c]});continue}const d=Hf(e,u);for(const h of d){const f=Ia(s,r[h.start],r[h.end],h.loop),g=Ff(a,n,f);for(const p of g)o.push({source:p,target:h,start:{[s]:$u(u,f,"start",Math.max)},end:{[s]:$u(u,f,"end",Math.min)}})}}return o}function Ia(t,e,s,i){if(i)return;let n=e[t],r=s[t];return t==="angle"&&(n=Je(n),r=Je(r)),{property:t,start:n,end:r}}function YS(t,e){const{x:s=null,y:i=null}=t||{},n=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=ho(o,a,n);const l=n[o],c=n[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):s!==null&&(r.push({x:s,y:l.y}),r.push({x:s,y:c.y}))}),r}function ho(t,e,s){for(;e>t;e--){const i=s[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function $u(t,e,s,i){return t&&e?i(t[s],e[s]):t?t[s]:e?e[s]:0}function rg(t,e){let s=[],i=!1;return Me(t)?(i=!0,s=t):s=YS(t,e),s.length?new uo({points:s,options:{tension:0},_loop:i,_fullLoop:i}):null}function Bu(t){return t&&t.fill!==!1}function XS(t,e,s){let n=t[e].fill;const r=[e];let o;if(!s)return n;for(;n!==!1&&r.indexOf(n)===-1;){if(!De(n))return n;if(o=t[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function QS(t,e,s){const i=s1(t);if(he(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return De(n)&&Math.floor(n)===n?ZS(i[0],e,n,s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ZS(t,e,s,i){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=i?!1:s}function e1(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:he(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function t1(t,e,s){let i;return t==="start"?i=s:t==="end"?i=e.options.reverse?e.min:e.max:he(t)?i=t.value:i=e.getBaseValue(),i}function s1(t){const e=t.options,s=e.fill;let i=ne(s&&s.target,s);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function i1(t){const{scale:e,index:s,line:i}=t,n=[],r=i.segments,o=i.points,a=n1(e,s);a.push(rg({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)r1(n,o[u],a)}return new uo({points:n,options:{}})}function n1(t,e){const s=[],i=t.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const r=i[n];if(r.index===e)break;r.hidden||s.unshift(r.dataset)}return s}function r1(t,e,s){const i=[];for(let n=0;n<s.length;n++){const r=s[n],{first:o,last:a,point:l}=o1(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function o1(t,e,s){const i=t.interpolate(e,s);if(!i)return{};const n=i[s],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],d=o[u.start][s],h=o[u.end][s];if(ss(n,d,h)){a=n===d,l=n===h;break}}return{first:a,last:l,point:i}}class og{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,i){const{x:n,y:r,radius:o}=this;return s=s||{start:0,end:Te},e.arc(n,r,o,s.end,s.start,!0),!i.bounds}interpolate(e){const{x:s,y:i,radius:n}=this,r=e.angle;return{x:s+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function a1(t){const{chart:e,fill:s,line:i}=t;if(De(s))return l1(e,s);if(s==="stack")return i1(t);if(s==="shape")return!0;const n=c1(t);return n instanceof og?n:rg(n,i)}function l1(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function c1(t){return(t.scale||{}).getPointPositionForValue?d1(t):u1(t)}function u1(t){const{scale:e={},fill:s}=t,i=e1(s,e);if(De(i)){const n=e.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function d1(t){const{scale:e,fill:s}=t,i=e.options,n=e.getLabels().length,r=i.reverse?e.max:e.min,o=t1(s,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new og({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(e.getPointPositionForValue(l,o));return a}function Vo(t,e,s){const i=a1(e),{chart:n,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},g=n.getDatasetMeta(r),p=Uf(n,g);i&&o.points.length&&(oo(t,s),h1(t,{line:o,target:i,above:h,below:f,area:s,scale:a,axis:l,clip:p}),ao(t))}function h1(t,e){const{line:s,target:i,above:n,below:r,area:o,scale:a,clip:l}=e,c=s._loop?"angle":e.axis;t.save();let u=r;r!==n&&(c==="x"?(Nu(t,i,o.top),Wo(t,{line:s,target:i,color:n,scale:a,property:c,clip:l}),t.restore(),t.save(),Nu(t,i,o.bottom)):c==="y"&&(zu(t,i,o.left),Wo(t,{line:s,target:i,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),zu(t,i,o.right),u=n)),Wo(t,{line:s,target:i,color:u,scale:a,property:c,clip:l}),t.restore()}function Nu(t,e,s){const{segments:i,points:n}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=n[l],d=n[ho(l,c,n)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,s),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function zu(t,e,s){const{segments:i,points:n}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=n[l],d=n[ho(l,c,n)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(s,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(s,d.y)}t.lineTo(s,e.first().y),t.closePath(),t.clip()}function Wo(t,e){const{line:s,target:i,property:n,color:r,scale:o,clip:a}=e,l=JS(s,i,n);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=r}={}}=c,g=i!==!0;t.save(),t.fillStyle=f,f1(t,o,a,g&&Ia(n,d,h)),t.beginPath();const p=!!s.pathSegment(t,c);let m;if(g){p?t.closePath():Vu(t,i,h,n);const _=!!i.pathSegment(t,u,{move:p,reverse:!0});m=p&&_,m||Vu(t,i,d,n)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function f1(t,e,s,i){const n=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let l,c,u,d;r==="x"?(l=o,c=n.top,u=a,d=n.bottom):(l=n.left,c=o,u=n.right,d=a),t.beginPath(),s&&(l=Math.max(l,s.left),u=Math.min(u,s.right),c=Math.max(c,s.top),d=Math.min(d,s.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function Vu(t,e,s,i){const n=e.interpolate(s,i);n&&t.lineTo(n.x,n.y)}var g1={id:"filler",afterDatasetsUpdate(t,e,s){const i=(t.data.datasets||[]).length,n=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof uo&&(l={visible:t.isDatasetVisible(o),index:o,fill:QS(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=XS(n,o,s.propagate))},beforeDraw(t,e,s){const i=s.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Vo(t.ctx,a,r))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const r=i[n].$filler;Bu(r)&&Vo(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,s){const i=e.meta.$filler;!Bu(i)||s.drawTime!=="beforeDatasetDraw"||Vo(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wu=(t,e)=>{let{boxHeight:s=e,boxWidth:i=e}=t;return t.usePointStyle&&(s=Math.min(s,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(e,s)}},p1=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qu extends us{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,i){this.maxWidth=e,this.maxHeight=s,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Ee(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(i=>e.filter(i,this.chart.data))),e.sort&&(s=s.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=Be(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Wu(i,r);let c,u;s.font=n.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=n+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,p)=>{const m=i+s/2+r.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:m,height:n},c[c.length-1]+=m+a}),d}_fitCols(e,s,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,g=0,p=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:x,itemHeight:k}=m1(i,s,r,m,n);_>0&&f+k+2*a>u&&(d+=h+a,c.push({width:h,height:f}),g+=h+a,p++,h=f=0),l[_]={left:g,top:f,col:p,width:x,height:k},h=Math.max(h,x),f+=k+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:i,labels:{padding:n},rtl:r}}=this,o=ki(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ge(i,this.left+n,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=Ge(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+e+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=Ge(i,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=Ge(i,this.top+e+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;oo(e,this),this._draw(),ao(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:i,ctx:n}=this,{align:r,labels:o}=e,a=Ie.color,l=ki(e.rtl,this.left,this.width),c=Be(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=Wu(o,d),_=function(A,v,T){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;n.save();const P=ne(T.lineWidth,1);if(n.fillStyle=ne(T.fillStyle,a),n.lineCap=ne(T.lineCap,"butt"),n.lineDashOffset=ne(T.lineDashOffset,0),n.lineJoin=ne(T.lineJoin,"miter"),n.lineWidth=P,n.strokeStyle=ne(T.strokeStyle,a),n.setLineDash(ne(T.lineDash,[])),o.usePointStyle){const L={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:P},H=l.xPlus(A,g/2),q=v+h;Af(n,L,H,q,o.pointStyleWidth&&g)}else{const L=v+Math.max((d-p)/2,0),H=l.leftForLtr(A,g),q=Gs(T.borderRadius);n.beginPath(),Object.values(q).some(se=>se!==0)?Tn(n,{x:H,y:L,w:g,h:p,radius:q}):n.rect(H,L,g,p),n.fill(),P!==0&&n.stroke()}n.restore()},x=function(A,v,T){Xs(n,T.text,A,v+m/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},k=this.isHorizontal(),w=this._computeTitleHeight();k?f={x:Ge(r,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Ge(r,this.top+w+u,this.bottom-s[0].height),line:0},Rf(this.ctx,e.textDirection);const C=m+u;this.legendItems.forEach((A,v)=>{n.strokeStyle=A.fontColor,n.fillStyle=A.fontColor;const T=n.measureText(A.text).width,P=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),L=g+h+T;let H=f.x,q=f.y;l.setWidth(this.width),k?v>0&&H+L+u>this.right&&(q=f.y+=C,f.line++,H=f.x=Ge(r,this.left+u,this.right-i[f.line])):v>0&&q+C>this.bottom&&(H=f.x=H+s[f.line].width+u,f.line++,q=f.y=Ge(r,this.top+w+u,this.bottom-s[f.line].height));const se=l.x(H);if(_(se,q,A),H=Av(P,H+g+h,k?H+L:this.right,e.rtl),x(l.x(H),q,A),k)f.x+=L+u;else if(typeof A.text!="string"){const Re=c.lineHeight;f.y+=ag(A,Re)+u}else f.y+=C}),Lf(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,i=Be(s.font),n=tt(s.padding);if(!s.display)return;const r=ki(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=i.size/2,c=n.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Ge(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+Ge(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Ge(a,d,d+h);o.textAlign=r.textAlign(dl(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=i.string,Xs(o,s.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,s=Be(e.font),i=tt(e.padding);return e.display?s.lineHeight+i.height:0}_getLegendItemAt(e,s){let i,n,r;if(ss(e,this.left,this.right)&&ss(s,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],ss(e,n.left,n.left+n.width)&&ss(s,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const s=this.options;if(!y1(e.type,s))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,r=p1(n,i);n&&!r&&Ee(s.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!r&&Ee(s.onHover,[e,i,this],this)}else i&&Ee(s.onClick,[e,i,this],this)}}function m1(t,e,s,i,n){const r=b1(i,t,e,s),o=_1(n,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function b1(t,e,s,i){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),e+s.size/2+i.measureText(n).width}function _1(t,e,s){let i=t;return typeof e.text!="string"&&(i=ag(e,s)),i}function ag(t,e){const s=t.text?t.text.length:0;return e*s}function y1(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var v1={id:"legend",_element:qu,start(t,e,s){const i=t.legend=new qu({ctx:t.ctx,options:s,chart:t});Qe.configure(t,i,s),Qe.addBox(t,i)},stop(t){Qe.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const i=t.legend;Qe.configure(t,i,s),i.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const i=e.datasetIndex,n=s.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=tt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class wl extends us{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const n=Me(i.text)?i.text.length:1;this._padding=tt(i.padding);const r=n*Be(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:i,bottom:n,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ge(a,i,r),d=s+e,c=r-i):(o.position==="left"?(u=i+e,d=Ge(a,n,s),l=pe*-.5):(u=r-e,d=Ge(a,s,n),l=pe*.5),c=n-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const i=Be(s.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Xs(e,s.text,0,0,i,{color:s.color,maxWidth:l,rotation:c,textAlign:dl(s.align),textBaseline:"middle",translation:[o,a]})}}function w1(t,e){const s=new wl({ctx:t.ctx,options:e,chart:t});Qe.configure(t,s,e),Qe.addBox(t,s),t.titleBlock=s}var x1={id:"title",_element:wl,start(t,e,s){w1(t,s)},stop(t){const e=t.titleBlock;Qe.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const i=t.titleBlock;Qe.configure(t,i,s),i.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nr=new WeakMap;var S1={id:"subtitle",start(t,e,s){const i=new wl({ctx:t.ctx,options:s,chart:t});Qe.configure(t,i,s),Qe.addBox(t,i),nr.set(t,i)},stop(t){Qe.removeBox(t,nr.get(t)),nr.delete(t)},beforeUpdate(t,e,s){const i=nr.get(t);Qe.configure(t,i,s),i.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zi={average(t){if(!t.length)return!1;let e,s,i=new Set,n=0,r=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),n+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/r}},nearest(t,e){if(!t.length)return!1;let s=e.x,i=e.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=ka(e,c);u<n&&(n=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,i=l.y}return{x:s,y:i}}};function Rt(t,e){return e&&(Me(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Yt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function k1(t,e){const{element:s,datasetIndex:i,index:n}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:t,label:o,parsed:r.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:s}}function Ku(t,e){const s=t.chart.ctx,{body:i,footer:n,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Be(e.bodyFont),c=Be(e.titleFont),u=Be(e.footerFont),d=r.length,h=n.length,f=i.length,g=tt(e.padding);let p=g.height,m=0,_=i.reduce((w,C)=>w+C.before.length+C.lines.length+C.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*w+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let x=0;const k=function(w){m=Math.max(m,s.measureText(w).width+x)};return s.save(),s.font=c.string,we(t.title,k),s.font=l.string,we(t.beforeBody.concat(t.afterBody),k),x=e.displayColors?o+2+e.boxPadding:0,we(i,w=>{we(w.before,k),we(w.lines,k),we(w.after,k)}),x=0,s.font=u.string,we(t.footer,k),s.restore(),m+=g.width,{width:m,height:p}}function C1(t,e){const{y:s,height:i}=e;return s<i/2?"top":s>t.height-i/2?"bottom":"center"}function A1(t,e,s,i){const{x:n,width:r}=i,o=s.caretSize+s.caretPadding;if(t==="left"&&n+r+o>e.width||t==="right"&&n-r-o<0)return!0}function E1(t,e,s,i){const{x:n,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),A1(c,t,e,s)&&(c="center"),c}function Gu(t,e,s){const i=s.yAlign||e.yAlign||C1(t,s);return{xAlign:s.xAlign||e.xAlign||E1(t,e,s,i),yAlign:i}}function P1(t,e){let{x:s,width:i}=t;return e==="right"?s-=i:e==="center"&&(s-=i/2),s}function T1(t,e,s){let{y:i,height:n}=t;return e==="top"?i+=s:e==="bottom"?i-=n+s:i-=n/2,i}function Ju(t,e,s,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=n+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Gs(o);let g=P1(e,a);const p=T1(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,h)+n:a==="right"&&(g+=Math.max(d,f)+n),{x:Ve(g,0,i.width-e.width),y:Ve(p,0,i.height-e.height)}}function rr(t,e,s){const i=tt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Yu(t){return Rt([],Yt(t))}function O1(t,e,s){return Ts(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Xu(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const lg={beforeTitle:Kt,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,i=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return s[e.dataIndex]}return""},afterTitle:Kt,beforeBody:Kt,beforeLabel:Kt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return de(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Kt,afterBody:Kt,beforeFooter:Kt,footer:Kt,afterFooter:Kt};function ut(t,e,s,i){const n=t[e].call(s,i);return typeof n>"u"?lg[e].call(s,i):n}class Qu extends us{static positioners=Zi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&s.options.animation&&i.animations,r=new $f(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=O1(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:i}=s,n=ut(i,"beforeTitle",this,e),r=ut(i,"title",this,e),o=ut(i,"afterTitle",this,e);let a=[];return a=Rt(a,Yt(n)),a=Rt(a,Yt(r)),a=Rt(a,Yt(o)),a}getBeforeBody(e,s){return Yu(ut(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:i}=s,n=[];return we(e,r=>{const o={before:[],lines:[],after:[]},a=Xu(i,r);Rt(o.before,Yt(ut(a,"beforeLabel",this,r))),Rt(o.lines,ut(a,"label",this,r)),Rt(o.after,Yt(ut(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(e,s){return Yu(ut(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:i}=s,n=ut(i,"beforeFooter",this,e),r=ut(i,"footer",this,e),o=ut(i,"afterFooter",this,e);let a=[];return a=Rt(a,Yt(n)),a=Rt(a,Yt(r)),a=Rt(a,Yt(o)),a}_createItems(e){const s=this._active,i=this.chart.data,n=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(k1(this.chart,s[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),we(a,u=>{const d=Xu(e.callbacks,u);n.push(ut(d,"labelColor",this,u)),r.push(ut(d,"labelPointStyle",this,u)),o.push(ut(d,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=Zi[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Ku(this,i),c=Object.assign({},a,l),u=Gu(this.chart,i,c),d=Ju(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,i,n){const r=this.getCaretPosition(e,i,n);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(e,s,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Gs(a),{x:h,y:f}=e,{width:g,height:p}=s;let m,_,x,k,w,C;return r==="center"?(w=f+p/2,n==="left"?(m=h,_=m-o,k=w+o,C=w-o):(m=h+g,_=m+o,k=w-o,C=w+o),x=m):(n==="left"?_=h+Math.max(l,u)+o:n==="right"?_=h+g-Math.max(c,d)-o:_=this.caretX,r==="top"?(k=f,w=k-o,m=_-o,x=_+o):(k=f+p,w=k+o,m=_+o,x=_-o),C=k),{x1:m,x2:_,x3:x,y1:k,y2:w,y3:C}}drawTitle(e,s,i){const n=this.title,r=n.length;let o,a,l;if(r){const c=ki(i.rtl,this.x,this.width);for(e.x=rr(this,i.titleAlign,i),s.textAlign=c.textAlign(i.titleAlign),s.textBaseline="middle",o=Be(i.titleFont),a=i.titleSpacing,s.fillStyle=i.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(n[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,s,i,n,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Be(r.bodyFont),d=rr(this,"left",r),h=n.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=s.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=n.leftForLtr(h,c)+c/2,_=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Aa(e,p,m,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Aa(e,p,m,_)}else{e.lineWidth=he(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=n.leftForLtr(h,c),m=n.leftForLtr(n.xPlus(h,1),c-2),_=Gs(o.borderRadius);Object.values(_).some(x=>x!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Tn(e,{x:p,y:g,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tn(e,{x:m,y:g+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,s,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=Be(i.bodyFont);let h=d.lineHeight,f=0;const g=ki(i.rtl,this.x,this.width),p=function(T){s.fillText(T,g.x(e.x+f),e.y+h/2),e.y+=h+r},m=g.textAlign(o);let _,x,k,w,C,A,v;for(s.textAlign=o,s.textBaseline="middle",s.font=d.string,e.x=rr(this,m,i),s.fillStyle=i.bodyColor,we(this.beforeBody,p),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,A=n.length;w<A;++w){for(_=n[w],x=this.labelTextColors[w],s.fillStyle=x,we(_.before,p),k=_.lines,a&&k.length&&(this._drawColorBox(s,e,w,g,i),h=Math.max(d.lineHeight,l)),C=0,v=k.length;C<v;++C)p(k[C]),h=d.lineHeight;we(_.after,p)}f=0,h=d.lineHeight,we(this.afterBody,p),e.y-=r}drawFooter(e,s,i){const n=this.footer,r=n.length;let o,a;if(r){const l=ki(i.rtl,this.x,this.width);for(e.x=rr(this,i.footerAlign,i),e.y+=i.footerMarginTop,s.textAlign=l.textAlign(i.footerAlign),s.textBaseline="middle",o=Be(i.footerFont),s.fillStyle=i.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(n[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,s,i,n){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Gs(n.cornerRadius);s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.beginPath(),s.moveTo(a+d,l),o==="top"&&this.drawCaret(e,s,i,n),s.lineTo(a+c-h,l),s.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,s,i,n),s.lineTo(a+c,l+u-g),s.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,s,i,n),s.lineTo(a+f,l+u),s.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,s,i,n),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),n.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const o=Zi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ku(this,e),l=Object.assign({},o,this._size),c=Gu(s,e,l),u=Ju(e,l,c,s);(n._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(s);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=tt(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,n,s),Rf(e,s.textDirection),r.y+=o.top,this.drawTitle(r,e,s),this.drawBody(r,e,s),this.drawFooter(r,e,s),Lf(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const i=this._active,n=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Rr(i,n),o=this._positionChanged(n,s);(r||o)&&(this._active=n,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,i=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(e,r,s,i),a=this._positionChanged(o,e),l=s||!Rr(o,r)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,i,n){const r=this.options;if(e.type==="mouseout")return[];if(!n)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:i,caretY:n,options:r}=this,o=Zi[r.position].call(this,e,s);return o!==!1&&(i!==o.x||n!==o.y)}}var M1={id:"tooltip",_element:Qu,positioners:Zi,afterInit(t,e,s){s&&(t.tooltip=new Qu({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},I1=Object.freeze({__proto__:null,Colors:VS,Decimation:GS,Filler:g1,Legend:v1,SubTitle:S1,Title:x1,Tooltip:M1});const D1=(t,e,s,i)=>(typeof e=="string"?(s=t.push(e)-1,i.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function R1(t,e,s,i){const n=t.indexOf(e);if(n===-1)return D1(t,e,s,i);const r=t.lastIndexOf(e);return n!==r?s:n}const L1=(t,e)=>t===null?null:Ve(Math.round(t),0,e);function Zu(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class j1 extends ei{static id="category";static defaults={ticks:{callback:Zu}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const i=this.getLabels();for(const{index:n,label:r}of s)i[n]===r&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(de(e))return null;const i=this.getLabels();return s=isFinite(s)&&i[s]===e?s:R1(i,e,ne(s,e),this._addedLabels),L1(s,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),s||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,s=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=e===0&&s===r.length-1?r:r.slice(e,s+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=s;o++)n.push({value:o});return n}getLabelForValue(e){return Zu.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function F1(t,e){const s=[],{bounds:n,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=r||1,g=u-1,{min:p,max:m}=e,_=!de(o),x=!de(a),k=!de(c),w=(m-p)/(d+1);let C=Kc((m-p)/g/f)*f,A,v,T,P;if(C<1e-14&&!_&&!x)return[{value:p},{value:m}];P=Math.ceil(m/C)-Math.floor(p/C),P>g&&(C=Kc(P*C/g/f)*f),de(l)||(A=Math.pow(10,l),C=Math.ceil(C*A)/A),n==="ticks"?(v=Math.floor(p/C)*C,T=Math.ceil(m/C)*C):(v=p,T=m),_&&x&&r&&yv((a-o)/r,C/1e3)?(P=Math.round(Math.min((a-o)/C,u)),C=(a-o)/P,v=o,T=a):k?(v=_?o:v,T=x?a:T,P=c-1,C=(T-v)/P):(P=(T-v)/C,gn(P,Math.round(P),C/1e3)?P=Math.round(P):P=Math.ceil(P));const L=Math.max(Gc(C),Gc(v));A=Math.pow(10,de(l)?L:l),v=Math.round(v*A)/A,T=Math.round(T*A)/A;let H=0;for(_&&(h&&v!==o?(s.push({value:o}),v<o&&H++,gn(Math.round((v+H*C)*A)/A,o,ed(o,w,t))&&H++):v<o&&H++);H<P;++H){const q=Math.round((v+H*C)*A)/A;if(x&&q>a)break;s.push({value:q})}return x&&h&&T!==a?s.length&&gn(s[s.length-1].value,a,ed(a,w,t))?s[s.length-1].value=a:s.push({value:a}):(!x||T===a)&&s.push({value:T}),s}function ed(t,e,{horizontal:s,minRotation:i}){const n=Ct(i),r=(s?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Br extends ei{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=l=>n=s?n:l,a=l=>r=i?r:l;if(e){const l=Bt(n),c=Bt(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(n-l)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=F1(n,r);return e.bounds==="ticks"&&bf(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-s)/Math.max(e.length-1,1)/2;s-=n,i+=n}this._startValue=s,this._endValue=i,this._valueRange=i-s}getLabelForValue(e){return $n(e,this.chart.options.locale,this.options.ticks.format)}}class H1 extends Br{static id="linear";static defaults={ticks:{callback:ro.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=De(e)?e:0,this.max=De(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,i=Ct(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Mn=t=>Math.floor(ws(t)),Hs=(t,e)=>Math.pow(10,Mn(t)+e);function td(t){return t/Math.pow(10,Mn(t))===1}function sd(t,e,s){const i=Math.pow(10,s),n=Math.floor(t/i);return Math.ceil(e/i)-n}function U1(t,e){const s=e-t;let i=Mn(s);for(;sd(t,e,i)>10;)i++;for(;sd(t,e,i)<10;)i--;return Math.min(i,Mn(t))}function $1(t,{min:e,max:s}){e=pt(t.min,e);const i=[],n=Mn(e);let r=U1(e,s),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=n>r?Math.pow(10,n):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),h=pt(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;h<s;)i.push({value:h,major:td(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),h=Math.round((l+u+d*Math.pow(10,r))*o)/o;const f=pt(t.max,h);return i.push({value:f,major:td(f),significand:d}),i}class B1 extends ei{static id="logarithmic";static defaults={ticks:{callback:ro.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const i=Br.prototype.parse.apply(this,[e,s]);if(i===0){this._zero=!0;return}return De(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=De(e)?Math.max(0,e):null,this.max=De(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!De(this._userMin)&&(this.min=e===Hs(this.min,0)?Hs(this.min,-1):Hs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let i=this.min,n=this.max;const r=a=>i=e?i:a,o=a=>n=s?n:a;i===n&&(i<=0?(r(1),o(10)):(r(Hs(i,-1)),o(Hs(n,1)))),i<=0&&r(Hs(n,-1)),n<=0&&o(Hs(i,1)),this.min=i,this.max=n}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},i=$1(s,this);return e.bounds==="ticks"&&bf(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":$n(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ws(e),this._valueRange=ws(this.max)-ws(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ws(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}function Da(t){const e=t.ticks;if(e.display&&t.display){const s=tt(e.backdropPadding);return ne(e.font&&e.font.size,Ie.font.size)+s.height}return 0}function N1(t,e,s){return s=Me(s)?s:[s],{w:jv(t,e.string,s),h:s.length*e.lineHeight}}function id(t,e,s,i,n){return t===i||t===n?{start:e-s/2,end:e+s/2}:t<i||t>n?{start:e-s,end:e}:{start:e,end:e+s}}function z1(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),i=[],n=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?pe/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));n[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+n[l],a),d=Be(c.font),h=N1(t.ctx,d,t._pointLabels[l]);i[l]=h;const f=Je(t.getIndexAngle(l)+a),g=Math.round(cl(f)),p=id(g,u.x,h.w,0,180),m=id(g,u.y,h.h,90,270);V1(s,e,f,p,m)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=K1(t,i,n)}function V1(t,e,s,i,n){const r=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),n.start<e.t?(l=(e.t-n.start)/o,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function W1(t,e,s){const i=t.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=s,l=t.getPointPosition(e,i+n+o,r),c=Math.round(cl(Je(l.angle+je))),u=Y1(l.y,a.h,c),d=G1(c),h=J1(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function q1(t,e){if(!e)return!0;const{left:s,top:i,right:n,bottom:r}=t;return!(ns({x:s,y:i},e)||ns({x:s,y:r},e)||ns({x:n,y:i},e)||ns({x:n,y:r},e))}function K1(t,e,s){const i=[],n=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Da(r)/2,additionalAngle:o?pe/n:0};let c;for(let u=0;u<n;u++){l.padding=s[u],l.size=e[u];const d=W1(t,u,l);i.push(d),a==="auto"&&(d.visible=q1(d,c),d.visible&&(c=d))}return i}function G1(t){return t===0||t===180?"center":t<180?"left":"right"}function J1(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function Y1(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function X1(t,e,s){const{left:i,top:n,right:r,bottom:o}=s,{backdropColor:a}=e;if(!de(a)){const l=Gs(e.borderRadius),c=tt(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=n-c.top,h=r-i+c.width,f=o-n+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Tn(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function Q1(t,e){const{ctx:s,options:{pointLabels:i}}=t;for(let n=e-1;n>=0;n--){const r=t._pointLabelItems[n];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(n));X1(s,o,r);const a=Be(o.font),{x:l,y:c,textAlign:u}=r;Xs(s,t._pointLabels[n],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function cg(t,e,s,i){const{ctx:n}=t;if(s)n.arc(t.xCenter,t.yCenter,e,0,Te);else{let r=t.getPointPosition(0,e);n.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),n.lineTo(r.x,r.y)}}function Z1(t,e,s,i,n){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||s<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),cg(t,s,o,i),r.closePath(),r.stroke(),r.restore())}function ek(t,e,s){return Ts(t,{label:s,index:e,type:"pointLabel"})}class tk extends Br{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ro.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=tt(Da(this.options)/2),s=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(s,i)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=De(e)&&!isNaN(e)?e:0,this.max=De(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Da(this.options))}generateTickLabels(e){Br.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,i)=>{const n=Ee(this.options.pointLabels.callback,[s,i],this);return n||n===0?n:""}).filter((s,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?z1(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,i,n){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,i,n))}getIndexAngle(e){const s=Te/(this._pointLabels.length||1),i=this.options.startAngle||0;return Je(e*s+Ct(i))}getDistanceFromCenterForValue(e){if(de(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(de(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const i=s[e];return ek(this.getContext(),e,i)}}getPointPosition(e,s,i=0){const n=this.getIndexAngle(e)-je+i;return{x:Math.cos(n)*s+this.xCenter,y:Math.sin(n)*s+this.yCenter,angle:n}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:i,right:n,bottom:r}=this._pointLabelItems[e];return{left:s,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),cg(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:i,grid:n,border:r}=s,o=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&Q1(this,o),n.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=n.setContext(h),g=r.setContext(h);Z1(this,f,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,i=s.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=i.setContext(this.getContext(l)),u=Be(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=tt(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}Xs(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const fo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ht=Object.keys(fo);function nd(t,e){return t-e}function rd(t,e){if(de(e))return null;const s=t._adapter,{parser:i,round:n,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),De(o)||(o=typeof i=="string"?s.parse(o,i):s.parse(o)),o===null?null:(n&&(o=n==="week"&&(Mi(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,n)),+o)}function od(t,e,s,i){const n=ht.length;for(let r=ht.indexOf(t);r<n-1;++r){const o=fo[ht[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=i)return ht[r]}return ht[n-1]}function sk(t,e,s,i,n){for(let r=ht.length-1;r>=ht.indexOf(s);r--){const o=ht[r];if(fo[o].common&&t._adapter.diff(n,i,o)>=e-1)return o}return ht[s?ht.indexOf(s):0]}function ik(t){for(let e=ht.indexOf(t)+1,s=ht.length;e<s;++e)if(fo[ht[e]].common)return ht[e]}function ad(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:i,hi:n}=ul(s,e),r=s[i]>=e?s[i]:s[n];t[r]=!0}}function nk(t,e,s,i){const n=t._adapter,r=+n.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,i))l=s[a],l>=0&&(e[l].major=!0);return e}function ld(t,e,s){const i=[],n={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],n[a]=o,i.push({value:a,major:!1});return r===0||!s?i:nk(t,i,n,s)}class Ra extends ei{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const i=e.time||(e.time={}),n=this._adapter=new rx._date(e.adapters.date);n.init(s),fn(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:rd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,i=e.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=De(n)&&!isNaN(n)?n:+s.startOf(Date.now(),i),r=De(r)&&!isNaN(r)?r:+s.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],i=e[e.length-1]),{min:s,max:i}}buildTicks(){const e=this.options,s=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=Sv(n,r,o);return this._unit=s.unit||(i.autoSkip?od(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):sk(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ik(this._unit),this.initOffsets(n),e.reverse&&a.reverse(),ld(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,i=0,n,r;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?s=1-n:s=(this.getDecimalForValue(e[1])-n)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Ve(s,0,o),i=Ve(i,0,o),this._offsets={start:s,end:i,factor:1/(s+1+i)}}_generate(){const e=this._adapter,s=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||od(r.minUnit,s,i,this._getLabelCapacity(s)),a=ne(n.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Mi(l)||l===!0,u={};let d=s,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,s,o)>1e5*a)throw new Error(s+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+e.add(h,a,o),f++)ad(u,h,g);return(h===i||n.bounds==="ticks"||f===1)&&ad(u,h,g),Object.keys(u).sort(nd).map(p=>+p)}getLabelForValue(e){const s=this._adapter,i=this.options.time;return i.tooltipFormat?s.format(e,i.tooltipFormat):s.format(e,i.displayFormats.datetime)}format(e,s){const n=this.options.time.displayFormats,r=this._unit,o=s||n[r];return this._adapter.format(e,o)}_tickFormatFunction(e,s,i,n){const r=this.options,o=r.ticks.callback;if(o)return Ee(o,[e,s,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=i[s],f=c&&d&&h&&h.major;return this._adapter.format(e,n||(f?d:u))}generateTickLabels(e){let s,i,n;for(s=0,i=e.length;s<i;++s)n=e[s],n.label=this._tickFormatFunction(n.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+i)*s.factor)}getValueForPixel(e){const s=this._offsets,i=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,i=this.ctx.measureText(e).width,n=Ct(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const s=this.options.time,i=s.displayFormats,n=i[s.unit]||i.millisecond,r=this._tickFormatFunction(e,0,ld(this,[e],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(s=0,i=n.length;s<i;++s)e=e.concat(n[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,i;if(e.length)return e;const n=this.getLabels();for(s=0,i=n.length;s<i;++s)e.push(rd(this,n[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vf(e.sort(nd))}}function or(t,e,s){let i=0,n=t.length-1,r,o,a,l;s?(e>=t[i].pos&&e<=t[n].pos&&({lo:i,hi:n}=is(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[n]):(e>=t[i].time&&e<=t[n].time&&({lo:i,hi:n}=is(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[n]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class rk extends Ra{static id="timeseries";static defaults=Ra.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=or(s,this.min),this._tableRange=or(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:i}=this,n=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=i&&n.push(c);if(n.length<2)return[{time:s,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)u=n[o+1],l=n[o-1],c=n[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,s=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(s)||i.length===1)&&i.push(s),i.sort((n,r)=>n-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),i=this.getLabelTimestamps();return s.length&&i.length?e=this.normalize(s.concat(i)):e=s.length?s:i,e=this._cache.all=e,e}getDecimalForValue(e){return(or(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,i=this.getDecimalForPixel(e)/s.factor-s.end;return or(this._table,i*this._tableRange+this._minPos,!0)}}var ok=Object.freeze({__proto__:null,CategoryScale:j1,LinearScale:H1,LogarithmicScale:B1,RadialLinearScale:tk,TimeScale:Ra,TimeSeriesScale:rk});const ak=[nx,FS,I1,ok],lk=jn({__name:"BarChart",props:{data:{},labels:{},datasets:{},height:{default:300}},setup(t){Ta.register(...ak);const e=t,s=Ks();let i=null;const n=()=>{if(!s.value)return;const r=s.value.getContext("2d");r&&(i&&i.destroy(),i=new Ta(r,{type:"bar",data:{labels:e.labels,datasets:e.datasets},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"#f3f4f6"}},x:{grid:{color:"#f3f4f6"}}}}}))};return Ya(()=>{n()}),an(()=>e.data,()=>{n()},{deep:!0}),(r,o)=>(ae(),le("div",{class:"w-full",style:Dn({height:`${r.height}px`})},[b("canvas",{ref_key:"canvasRef",ref:s},null,512)],4))}}),ck={class:"dashboard-container"},uk={class:"dashboard-header"},dk={class:"header-content"},hk={class:"header-main"},fk={class:"flex items-center space-x-4"},gk={class:"hidden md:flex items-center space-x-4 text-sm text-gray-600"},pk={key:0,class:"flex items-center"},mk={class:"main-content"},bk={class:"stats-grid"},_k={class:"stat-card"},yk={class:"stat-content"},vk={class:"stat-icon-wrapper stat-orange"},wk={class:"stat-details"},xk={class:"stat-value"},Sk={key:0,class:"stat-trend"},kk={class:"stat-card"},Ck={class:"stat-content"},Ak={class:"stat-icon-wrapper stat-blue"},Ek={class:"stat-details"},Pk={class:"stat-value"},Tk={class:"stat-card"},Ok={class:"stat-content"},Mk={class:"stat-icon-wrapper stat-green"},Ik={class:"stat-details"},Dk={class:"stat-value"},Rk={class:"stat-card"},Lk={class:"stat-content"},jk={class:"stat-icon-wrapper stat-red"},Fk={class:"stat-details"},Hk={class:"stat-value"},Uk={class:"charts-section"},$k={class:"chart-card"},Bk={class:"chart-header"},Nk={class:"flex items-center"},zk={class:"h-10 w-10 rounded-xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center mr-3 shadow-lg"},Vk={class:"chart-content"},Wk={class:"alerts-card"},qk={class:"alerts-header"},Kk={class:"flex items-center"},Gk={class:"h-10 w-10 rounded-xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center mr-3 shadow-lg"},Jk={class:"alerts-content"},Yk={class:"alert-content"},Xk={class:"alert-message"},Qk={class:"alert-time"},Zk={class:"stock-section"},eC={class:"stock-list"},tC={class:"stock-name"},sC={class:"stock-progress"},iC={class:"stock-bar"},nC={class:"stock-value"},rC={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},oC={class:"bg-white rounded-2xl shadow-md border border-gray-100"},aC={class:"px-6 py-4 border-b border-gray-200"},lC={class:"flex items-center justify-between"},cC={class:"flex items-center space-x-3"},uC={class:"h-10 w-10 rounded-xl bg-orange-100 flex items-center justify-center"},dC={class:"text-orange-600 hover:text-orange-800 p-2"},hC={class:"p-6"},fC={class:"grid grid-cols-2 gap-4 mb-4"},gC={class:"text-center"},pC={class:"text-2xl font-bold text-gray-900"},mC={class:"text-center"},bC={class:"text-2xl font-bold text-gray-900"},_C={class:"space-y-3"},yC={class:"space-y-2"},vC={class:"flex-1"},wC={class:"text-sm font-medium text-gray-900"},xC={class:"text-xs text-gray-500"},SC={class:"bg-white rounded-2xl shadow-md border border-gray-100"},kC={class:"px-6 py-4 border-b border-gray-200"},CC={class:"flex items-center justify-between"},AC={class:"flex items-center space-x-3"},EC={class:"h-10 w-10 rounded-xl bg-blue-100 flex items-center justify-center"},PC={class:"text-blue-600 hover:text-blue-800 p-2"},TC={class:"p-6"},OC={class:"grid grid-cols-2 gap-4 mb-4"},MC={class:"text-center"},IC={class:"text-2xl font-bold text-gray-900"},DC={class:"text-center"},RC={class:"text-2xl font-bold text-red-600"},LC={class:"space-y-3"},jC={class:"space-y-2"},FC={class:"flex-1"},HC={class:"text-sm font-medium text-gray-900"},UC={class:"text-xs text-gray-500"},$C={class:"text-right"},BC={class:"text-xs text-gray-500"},NC={class:"bg-white rounded-2xl shadow-md border border-gray-100"},zC={class:"px-6 py-4 border-b border-gray-200"},VC={class:"flex items-center justify-between"},WC={class:"flex items-center space-x-3"},qC={class:"h-10 w-10 rounded-xl bg-green-100 flex items-center justify-center"},KC={class:"text-green-600 hover:text-green-800 p-2"},GC={class:"p-6"},JC={class:"grid grid-cols-2 gap-4 mb-4"},YC={class:"text-center"},XC={class:"text-2xl font-bold text-gray-900"},QC={class:"text-center"},ZC={class:"text-2xl font-bold text-gray-900"},eA={class:"space-y-3"},tA={class:"space-y-2"},sA={class:"flex-1"},iA={class:"text-sm font-medium text-gray-900"},nA={class:"text-xs text-gray-500"},rA={class:"bg-white rounded-2xl shadow-md border border-gray-100"},oA={class:"px-6 py-4 border-b border-gray-200"},aA={class:"flex items-center justify-between"},lA={class:"flex items-center space-x-3"},cA={class:"h-10 w-10 rounded-xl bg-purple-100 flex items-center justify-center"},uA={class:"text-purple-600 hover:text-purple-800 p-2"},dA={class:"p-6"},hA={class:"grid grid-cols-2 gap-4 mb-4"},fA={class:"text-center"},gA={class:"text-2xl font-bold text-gray-900"},pA={class:"text-center"},mA={class:"text-2xl font-bold text-gray-900"},bA={class:"space-y-3"},_A={class:"space-y-2"},yA={class:"flex-1"},vA={class:"text-sm font-medium text-gray-900"},wA={class:"text-xs text-gray-500"},xA={class:"actions-card"},SA={class:"actions-header"},kA={class:"flex items-center"},CA={class:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center mr-3 shadow-lg"},AA={class:"actions-grid"},EA=jn({__name:"HomeView",setup(t){const{getArticles:e,getProductions:s,getLivraisons:i,getCommandes:n,getStockInfo:r,getProductionsDuJour:o,getLivraisonsRecentes:a,getProductionParSemaine:l}=Uy(),c=Ks({articles:[],productions:[],livraisons:[],commandes:[],stockInfo:{},productionsDuJour:{},livraisonsRecentes:{},productionParSemaine:{}}),u=Ks(!1),d=Ks(null),h=async()=>{console.log("🔍 [HomeView] Chargement des données Supabase..."),u.value=!0,d.value=null;try{const[A,v,T,P,L,H,q,se]=await Promise.all([e(),s(),i(),n(),r(),o(),a(),l()]);c.value={articles:A,productions:v,livraisons:T,commandes:P,stockInfo:L,productionsDuJour:H,livraisonsRecentes:q,productionParSemaine:se},console.log("✅ [HomeView] Données Supabase chargées:",{articles:A.length,productions:v.length,livraisons:T.length,commandes:P.length})}catch(A){console.error("❌ [HomeView] Erreur lors du chargement Supabase:",A),d.value="Erreur lors du chargement des données"}finally{u.value=!1}},f=Oe(()=>{const A=c.value.productions.length>0?c.value.productions:xt.getProductions(),v=c.value.livraisons.length>0?c.value.livraisons:xt.getLivraisons(),T=c.value.articles.length>0?c.value.articles:xt.getStock(),P=new Date().toISOString().split("T")[0],L=A.filter(V=>V.date===P&&V.statut==="termine").reduce((V,W)=>W.articlesProduits&&Array.isArray(W.articlesProduits)?V+W.articlesProduits.reduce((Q,ge)=>Q+ge.quantiteProduite,0):V,0),H=new Date(Date.now()-1440*60*1e3).toISOString().split("T")[0],q=A.filter(V=>V.date===H&&V.statut==="termine").reduce((V,W)=>W.articlesProduits&&Array.isArray(W.articlesProduits)?V+W.articlesProduits.reduce((Q,ge)=>Q+ge.quantiteProduite,0):V,0),se=q>0?((L-q)/q*100).toFixed(1):"0",Re=A.filter(V=>V.statut==="termine").reduce((V,W)=>W.articlesProduits&&Array.isArray(W.articlesProduits)?V+W.articlesProduits.reduce((Q,ge)=>Q+ge.quantiteProduite,0):V,0),ce=T.filter(V=>V.stock<=V.seuilCritique).length;return{production:{value:L,change:parseFloat(se),trend:L>q?"up":L<q?"down":"neutral"},articlesProduits:{value:Re,change:0,trend:"neutral"},livraisons:{value:v.filter(V=>V.statut==="en_cours").length,change:0,trend:"neutral"},stockCritique:{value:ce,change:0,trend:"neutral"}}}),g=Oe(()=>{const A=xt.getProductions();return Array.from({length:7},(T,P)=>{const L=new Date;return L.setDate(L.getDate()-P),L.toISOString().split("T")[0]}).reverse().map(T=>{const P=A.filter(L=>L.date===T&&L.statut==="termine");return{jour:new Date(T).toLocaleDateString("fr-FR",{weekday:"short"}),production:P.reduce((L,H)=>H.articlesProduits&&Array.isArray(H.articlesProduits)?L+H.articlesProduits.reduce((q,se)=>q+se.quantiteProduite,0):L,0),livraisons:0}})}),p=Oe(()=>xt.getStock().map(v=>({article:v.nom,stock:v.stock,seuil:v.seuilCritique}))),m=Oe(()=>{const A=xt.getStock(),v=xt.getLivraisons(),T=[];return A.forEach(L=>{L.stock<=L.seuilCritique&&T.push({id:`stock-${L.id}`,type:"warning",message:`Stock de ${L.nom} critique (${L.stock} ${L.unite} restantes)`,time:"Maintenant"})}),v.filter(L=>L.statut==="livre").slice(0,2).forEach(L=>{T.push({id:`livraison-${L.id}`,type:"info",message:`Livraison ${L.numeroBL} confirmée`,time:"Récemment"})}),T}),_=A=>{switch(A){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},x=A=>{switch(A){case"up":return M0;case"down":return O0;default:return null}},k=Oe(()=>{const A=xt.getProductions(),v=new Date().toISOString().split("T")[0],T=A.filter(H=>H.date===v),P=T.filter(H=>H.statut==="en_cours"),L=T.filter(H=>H.statut==="termine");return{total:A.length,enCours:P.length,terminees:L.length,aujourdhui:T.length,productionsRecentes:A.slice(-5).reverse()}}),w=Oe(()=>{const A=xt.getStock(),v=A.length,T=A.filter(H=>H.actif).length,P=A.filter(H=>H.stock<=H.seuilCritique).length,L=A.reduce((H,q)=>H+q.stock,0);return{total:v,actifs:T,critiques:P,stockTotal:L,topArticles:A.sort((H,q)=>q.stock-H.stock).slice(0,5)}}),C=Oe(()=>{const A=xt.getLivraisons(),v=xt.getCommandes(),T=A.filter(se=>se.statut==="en_attente").length,P=A.filter(se=>se.statut==="en_cours").length,L=A.filter(se=>se.statut==="livre").length,H=v.filter(se=>se.statut==="en_attente").length,q=v.filter(se=>se.statut==="confirmee").length;return{livraisons:{total:A.length,enAttente:T,enCours:P,terminees:L,recentes:A.slice(-5).reverse()},commandes:{total:v.length,enAttente:H,confirmees:q,recentes:v.slice(-5).reverse()}}});return Ya(()=>{console.log("🚀 [HomeView] onMounted - Chargement des données Supabase"),h()}),(A,v)=>{const T=Wd("router-link");return ae(),le("div",ck,[b("div",uk,[b("div",dk,[b("div",hk,[v[2]||(v[2]=gh('<div class="flex items-center" data-v-9f65b2a6><div class="h-12 w-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center mr-4 shadow-lg" data-v-9f65b2a6><svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-9f65b2a6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-9f65b2a6></path></svg></div><div data-v-9f65b2a6><h1 class="page-title" data-v-9f65b2a6>Tableau de Bord</h1><p class="page-subtitle" data-v-9f65b2a6>Vue d&#39;ensemble de votre production et livraisons</p></div></div>',1)),b("div",fk,[b("div",gk,[v[1]||(v[1]=b("div",{class:"flex items-center"},[b("div",{class:"h-2 w-2 bg-green-500 rounded-full mr-2 animate-pulse"}),b("span",null,"Système opérationnel")],-1)),u.value?(ae(),le("div",pk,[...v[0]||(v[0]=[b("div",{class:"h-2 w-2 bg-blue-500 rounded-full mr-2 animate-spin"},null,-1),b("span",null,"Chargement Supabase...",-1)])])):cn("",!0)])])])])]),b("div",mk,[b("div",bk,[b("div",_k,[b("div",yk,[b("div",vk,[ee(G(pr),{class:"stat-icon"})]),b("div",wk,[v[3]||(v[3]=b("dt",{class:"stat-label"},"Production journalière",-1)),b("dd",xk,ie(f.value.production.value.toLocaleString()),1),v[4]||(v[4]=b("dd",{class:"stat-unit"},"articles",-1))]),f.value.production.change!==0?(ae(),le("div",Sk,[x(f.value.production.trend)?(ae(),Cr(Yo(x(f.value.production.trend)),{key:0,class:ze(["h-4 w-4",_(f.value.production.trend)])},null,8,["class"])):cn("",!0),b("span",{class:ze(["text-xs font-medium",_(f.value.production.trend)])},ie(Math.abs(f.value.production.change))+"% ",3)])):cn("",!0)])]),b("div",kk,[b("div",Ck,[b("div",Ak,[ee(G(gr),{class:"stat-icon"})]),b("div",Ek,[v[5]||(v[5]=b("dt",{class:"stat-label"},"Articles produits",-1)),b("dd",Pk,ie(f.value.articlesProduits.value.toLocaleString()),1),v[6]||(v[6]=b("dd",{class:"stat-unit"},"total",-1))])])]),b("div",Tk,[b("div",Ok,[b("div",Mk,[ee(G(mr),{class:"stat-icon"})]),b("div",Ik,[v[7]||(v[7]=b("dt",{class:"stat-label"},"Livraisons en cours",-1)),b("dd",Dk,ie(f.value.livraisons.value),1),v[8]||(v[8]=b("dd",{class:"stat-unit"},"commandes",-1))])])]),b("div",Rk,[b("div",Lk,[b("div",jk,[ee(G(Uc),{class:"stat-icon"})]),b("div",Fk,[v[9]||(v[9]=b("dt",{class:"stat-label"},"Alertes stock",-1)),b("dd",Hk,ie(f.value.stockCritique.value),1),v[10]||(v[10]=b("dd",{class:"stat-unit"},"articles",-1))]),v[11]||(v[11]=b("div",{class:"stat-badge"},[b("span",{class:"text-xs font-medium text-red-600 bg-red-100 px-2 py-1 rounded-full"}," Seuil critique ")],-1))])])]),b("div",Uk,[b("div",$k,[b("div",Bk,[b("div",Nk,[b("div",zk,[ee(G(cf),{class:"h-5 w-5 text-white"})]),v[12]||(v[12]=b("div",null,[b("h3",{class:"chart-title"},"Production de la semaine"),b("p",{class:"chart-subtitle"},"Évolution des volumes produits")],-1))]),v[13]||(v[13]=b("div",{class:"flex items-center space-x-4"},[b("div",{class:"flex items-center"},[b("div",{class:"w-3 h-3 bg-orange-500 rounded-full mr-2 shadow-sm"}),b("span",{class:"text-sm text-gray-600 font-medium"},"Production totale")])],-1))]),b("div",Vk,[ee(lk,{data:g.value,labels:g.value.map(P=>P.jour),datasets:[{label:"Production totale",data:g.value.map(P=>P.production),backgroundColor:"#f97316"}],height:256},null,8,["data","labels","datasets"])])]),b("div",Wk,[b("div",qk,[b("div",Kk,[b("div",Gk,[ee(G(Uc),{class:"h-5 w-5 text-white"})]),v[14]||(v[14]=b("div",null,[b("h3",{class:"chart-title"},"Alertes récentes"),b("p",{class:"chart-subtitle"},"Notifications système")],-1))])]),b("div",Jk,[(ae(!0),le(Ke,null,ps(m.value,P=>(ae(),le("div",{key:P.id,class:ze(["alert-item",{"alert-warning":P.type==="warning","alert-info":P.type==="info"}])},[b("div",{class:ze(["alert-indicator",{"bg-red-500":P.type==="warning","bg-blue-500":P.type==="info"}])},null,2),b("div",Yk,[b("p",Xk,ie(P.message),1),b("p",Qk,ie(P.time),1)])],2))),128))]),b("div",Zk,[v[15]||(v[15]=b("h4",{class:"stock-title"},"État du stock",-1)),b("div",eC,[(ae(!0),le(Ke,null,ps(p.value,P=>(ae(),le("div",{key:P.article,class:"stock-item"},[b("span",tC,ie(P.article),1),b("div",sC,[b("div",iC,[b("div",{class:ze(["stock-fill",{"stock-good":P.stock>P.seuil*2,"stock-warning":P.stock<=P.seuil*2&&P.stock>P.seuil,"stock-critical":P.stock<=P.seuil}]),style:Dn({width:`${Math.min(P.stock/P.seuil*50,100)}%`})},null,6)]),b("span",nC,ie(P.stock),1)])]))),128))])])])]),b("div",rC,[b("div",oC,[b("div",aC,[b("div",lC,[b("div",cC,[b("div",uC,[ee(G(pr),{class:"h-5 w-5 text-orange-600"})]),v[16]||(v[16]=b("div",null,[b("h3",{class:"text-lg font-semibold text-gray-900"},"Production"),b("p",{class:"text-sm text-gray-500"},"Vue d'ensemble des productions")],-1))]),b("button",dC,[ee(G(qn),{class:"h-5 w-5"})])])]),b("div",hC,[b("div",fC,[b("div",gC,[b("p",pC,ie(k.value.enCours),1),v[17]||(v[17]=b("p",{class:"text-sm text-gray-600"},"En cours",-1))]),b("div",mC,[b("p",bC,ie(k.value.terminees),1),v[18]||(v[18]=b("p",{class:"text-sm text-gray-600"},"Terminées aujourd'hui",-1))])]),b("div",_C,[v[19]||(v[19]=b("h4",{class:"font-medium text-gray-900 text-sm"},"Productions récentes",-1)),b("div",yC,[(ae(!0),le(Ke,null,ps(k.value.productionsRecentes.slice(0,3),P=>(ae(),le("div",{key:P.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[b("div",vC,[b("p",wC,"Production "+ie(P.lotId),1),b("p",xC,ie(new Date(P.date).toLocaleDateString("fr-FR")),1)]),b("span",{class:ze(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-green-100 text-green-800":P.statut==="termine","bg-blue-100 text-blue-800":P.statut==="en_cours","bg-yellow-100 text-yellow-800":P.statut==="en_attente"}])},ie(P.statut==="termine"?"Terminé":P.statut==="en_cours"?"En cours":"En attente"),3)]))),128))])])])]),b("div",SC,[b("div",kC,[b("div",CC,[b("div",AC,[b("div",EC,[ee(G(gr),{class:"h-5 w-5 text-blue-600"})]),v[20]||(v[20]=b("div",null,[b("h3",{class:"text-lg font-semibold text-gray-900"},"Articles & Stock"),b("p",{class:"text-sm text-gray-500"},"Gestion des inventaires")],-1))]),b("button",PC,[ee(G(qn),{class:"h-5 w-5"})])])]),b("div",TC,[b("div",OC,[b("div",MC,[b("p",IC,ie(w.value.actifs),1),v[21]||(v[21]=b("p",{class:"text-sm text-gray-600"},"Articles actifs",-1))]),b("div",DC,[b("p",RC,ie(w.value.critiques),1),v[22]||(v[22]=b("p",{class:"text-sm text-gray-600"},"Stock critique",-1))])]),b("div",LC,[v[23]||(v[23]=b("h4",{class:"font-medium text-gray-900 text-sm"},"Articles en stock",-1)),b("div",jC,[(ae(!0),le(Ke,null,ps(w.value.topArticles.slice(0,3),P=>(ae(),le("div",{key:P.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[b("div",FC,[b("p",HC,ie(P.nom),1),b("p",UC,ie(P.unite),1)]),b("div",$C,[b("p",{class:ze(["text-sm font-bold",{"text-red-600":P.stock<=P.seuilCritique,"text-yellow-600":P.stock<=P.seuilCritique*2&&P.stock>P.seuilCritique,"text-green-600":P.stock>P.seuilCritique*2}])},ie(P.stock),3),b("p",BC,ie(P.unite),1)])]))),128))])])])]),b("div",NC,[b("div",zC,[b("div",VC,[b("div",WC,[b("div",qC,[ee(G(mr),{class:"h-5 w-5 text-green-600"})]),v[24]||(v[24]=b("div",null,[b("h3",{class:"text-lg font-semibold text-gray-900"},"Livraisons"),b("p",{class:"text-sm text-gray-500"},"Suivi des expéditions")],-1))]),b("button",KC,[ee(G(qn),{class:"h-5 w-5"})])])]),b("div",GC,[b("div",JC,[b("div",YC,[b("p",XC,ie(C.value.livraisons.enCours),1),v[25]||(v[25]=b("p",{class:"text-sm text-gray-600"},"En cours",-1))]),b("div",QC,[b("p",ZC,ie(C.value.livraisons.enAttente),1),v[26]||(v[26]=b("p",{class:"text-sm text-gray-600"},"En attente",-1))])]),b("div",eA,[v[27]||(v[27]=b("h4",{class:"font-medium text-gray-900 text-sm"},"Livraisons récentes",-1)),b("div",tA,[(ae(!0),le(Ke,null,ps(C.value.livraisons.recentes.slice(0,3),P=>(ae(),le("div",{key:P.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[b("div",sA,[b("p",iA,ie(P.client),1),b("p",nA,"#"+ie(P.numeroBL),1)]),b("span",{class:ze(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-green-100 text-green-800":P.statut==="livre","bg-blue-100 text-blue-800":P.statut==="en_cours","bg-yellow-100 text-yellow-800":P.statut==="en_attente"}])},ie(P.statut==="livre"?"Livré":P.statut==="en_cours"?"En cours":"En attente"),3)]))),128))])])])]),b("div",rA,[b("div",oA,[b("div",aA,[b("div",lA,[b("div",cA,[ee(G(xa),{class:"h-5 w-5 text-purple-600"})]),v[28]||(v[28]=b("div",null,[b("h3",{class:"text-lg font-semibold text-gray-900"},"Commandes"),b("p",{class:"text-sm text-gray-500"},"Gestion des commandes")],-1))]),b("button",uA,[ee(G(qn),{class:"h-5 w-5"})])])]),b("div",dA,[b("div",hA,[b("div",fA,[b("p",gA,ie(C.value.commandes.enAttente),1),v[29]||(v[29]=b("p",{class:"text-sm text-gray-600"},"En attente",-1))]),b("div",pA,[b("p",mA,ie(C.value.commandes.confirmees),1),v[30]||(v[30]=b("p",{class:"text-sm text-gray-600"},"Confirmées",-1))])]),b("div",bA,[v[31]||(v[31]=b("h4",{class:"font-medium text-gray-900 text-sm"},"Commandes récentes",-1)),b("div",_A,[(ae(!0),le(Ke,null,ps(C.value.commandes.recentes.slice(0,3),P=>(ae(),le("div",{key:P.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg"},[b("div",yA,[b("p",vA,ie(P.client),1),b("p",wA,"#"+ie(P.numeroCommande),1)]),b("span",{class:ze(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-green-100 text-green-800":P.statut==="livree","bg-orange-100 text-orange-800":P.statut==="en_preparation","bg-blue-100 text-blue-800":P.statut==="confirmee","bg-yellow-100 text-yellow-800":P.statut==="en_attente"}])},ie(P.statut==="livree"?"Livrée":P.statut==="en_preparation"?"Préparation":P.statut==="confirmee"?"Confirmée":"En attente"),3)]))),128))])])])])]),b("div",xA,[b("div",SA,[b("div",kA,[b("div",CA,[ee(G(uf),{class:"h-5 w-5 text-white"})]),v[32]||(v[32]=b("div",null,[b("h3",{class:"chart-title"},"Actions rapides"),b("p",{class:"chart-subtitle"},"Accès direct aux fonctionnalités")],-1))])]),b("div",AA,[ee(T,{to:"/production",class:"action-item action-orange"},{default:Ws(()=>[ee(G(pr),{class:"action-icon"}),v[33]||(v[33]=b("span",{class:"action-label"},"Nouvelle production",-1))]),_:1}),ee(T,{to:"/livraison",class:"action-item action-green"},{default:Ws(()=>[ee(G(mr),{class:"action-icon"}),v[34]||(v[34]=b("span",{class:"action-label"},"Nouvelle livraison",-1))]),_:1}),ee(T,{to:"/stock",class:"action-item action-blue"},{default:Ws(()=>[ee(G(gr),{class:"action-icon"}),v[35]||(v[35]=b("span",{class:"action-label"},"Gérer le stock",-1))]),_:1}),ee(T,{to:"/commandes",class:"action-item action-purple"},{default:Ws(()=>[ee(G(xa),{class:"action-icon"}),v[36]||(v[36]=b("span",{class:"action-label"},"Nouvelle commande",-1))]),_:1})])])])])}}}),PA=df(EA,[["__scopeId","data-v-9f65b2a6"]]),ug=Ob({history:ob("/"),routes:[{path:"/login",name:"login",component:()=>We(()=>import("./LoginView-CErpB-aZ.js"),[]),meta:{requiresAuth:!1}},{path:"/register",name:"register",component:()=>We(()=>import("./RegisterView-B1IK0kGz.js"),[]),meta:{requiresAuth:!1}},{path:"/",name:"home",component:PA,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:()=>We(()=>import("./DashboardView-C73om-A6.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/commandes",name:"commandes",component:()=>We(()=>import("./CommandesView-DA8aB5nO.js"),__vite__mapDeps([2,3,4,5,6,7,8])),meta:{requiresAuth:!0}},{path:"/production",name:"production",component:()=>We(()=>import("./ProductionView-CD0iJnzO.js"),__vite__mapDeps([9,3,4,5,10,6,7,11])),meta:{requiresAuth:!0}},{path:"/livraison",name:"livraison",component:()=>We(()=>import("./LivraisonView-BQ1sF0-g.js").then(t=>t.L),__vite__mapDeps([12,13])),meta:{requiresAuth:!0}},{path:"/stock",name:"stock",component:()=>We(()=>import("./StockView-BBq4GK94.js"),__vite__mapDeps([14,4,10,3,7,15])),meta:{requiresAuth:!0}},{path:"/documents",name:"documents",component:()=>We(()=>import("./DocumentsView-D__yEc-V.js"),__vite__mapDeps([16,7,17])),meta:{requiresAuth:!0}},{path:"/personnel",name:"personnel",component:()=>We(()=>import("./PersonnelView-DMAbOsaE.js"),__vite__mapDeps([18,3,5,19,7,20])),meta:{requiresAuth:!0}},{path:"/analyses",name:"analyses",component:()=>We(()=>import("./AnalysesView-g-SmHvkq.js"),__vite__mapDeps([21,22])),meta:{requiresAuth:!0}},{path:"/parametres",name:"parametres",component:()=>We(()=>import("./ParametresView-BPiDMOnb.js"),__vite__mapDeps([23,19])),meta:{requiresAuth:!0}},{path:"/users",name:"users",component:()=>We(()=>import("./UsersView-EPHWhZ8o.js"),__vite__mapDeps([24,25])),meta:{requiresAuth:!0,requiresAdmin:!0}}]});ug.beforeEach(async(t,e,s)=>{const{isAuthenticated:i,isLoading:n,isInitialized:r}=Dr();(!r.value||n.value)&&await new Promise(o=>{const a=()=>{r.value&&!n.value?o(!0):setTimeout(a,50)};a()}),t.meta.requiresAuth&&!i.value?s("/login"):t.path==="/login"&&i.value?s("/"):s()});const dg=Em(Ry);dg.use(ug);dg.mount("#app");setTimeout(async()=>{try{Fy(),console.log("🚀 Application Global Star Distribution démarrée");const{initAuth:t}=Dr();await t(),console.log("✅ Authentification Supabase initialisée"),console.log("✅ Mode 100% Supabase - synchronisation automatique")}catch(t){console.error("❌ Erreur lors de l'initialisation:",t)}},100);export{df as A,xa as B,Uc as C,mr as D,D0 as E,Ke as F,Cr as G,Yo as H,M0 as I,j0 as J,Ka as K,Dn as L,gr as M,qn as N,O0 as O,uf as P,$b as Q,RA as R,Ub as S,UA as T,We as _,b as a,G as b,le as c,jn as d,T0 as e,cn as f,TA as g,fh as h,gh as i,ee as j,Ws as k,Wd as l,Ib as m,ze as n,ae as o,Oe as p,IA as q,Ks as r,MA as s,ie as t,Dr as u,OA as v,DA as w,Uy as x,Ya as y,ps as z};
