import{d as ke,u as Ce,z as qe,a as x,A as je,T as Ve,l as z,c as i,e,h as d,s as v,f as c,G,j as $,t as l,n as T,Y as Me,V as Se,M as Q,i as g,v as p,m as H,I as E,J,w as N,K as se,L as oe,D as Ae,N as $e,o as n,_ as Ee}from"./main-Ddag5VAa.js";import{r as Re,a as re,b as le}from"./TrashIcon-BsFJh8xn.js";import{r as Le}from"./CurrencyDollarIcon-CPQdNqjW.js";import{r as ae}from"./ArrowDownTrayIcon-B8lvhPgj.js";const Ue={class:"materiaux-container min-h-screen bg-gray-50"},ze={class:"header-content bg-white border-b border-gray-200 shadow-sm"},Te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ne={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},Fe={class:"flex items-center mb-4 sm:mb-0"},De={class:"h-12 w-12 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg mr-4"},Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Pe={class:"bg-white rounded-xl shadow-lg overflow-hidden mb-6"},Be={class:"border-b border-gray-200"},Ge={class:"flex"},Qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},He={class:"stat-card bg-white rounded-xl shadow-lg overflow-hidden"},Je={class:"stat-content p-6"},Ke={class:"flex items-center"},Ye={class:"h-12 w-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center shadow-lg"},Oe={class:"ml-4"},We={class:"text-sm font-medium text-gray-600"},Xe={class:"stat-value text-2xl font-bold text-gray-900"},Ze={class:"stat-card bg-white rounded-xl shadow-lg overflow-hidden"},et={class:"stat-content p-6"},tt={class:"flex items-center"},st={class:"h-12 w-12 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg"},ot={class:"ml-4"},rt={class:"stat-value text-2xl font-bold text-gray-900"},lt={class:"stat-card bg-white rounded-xl shadow-lg overflow-hidden"},at={class:"stat-content p-6"},nt={class:"flex items-center"},it={class:"h-12 w-12 rounded-xl bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center shadow-lg"},ut={class:"ml-4"},dt={class:"stat-value text-2xl font-bold text-gray-900"},ct={class:"stat-card bg-white rounded-xl shadow-lg overflow-hidden"},mt={class:"stat-content p-6"},vt={class:"flex items-center"},gt={class:"h-12 w-12 rounded-xl bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center shadow-lg"},xt={class:"ml-4"},ft={class:"stat-value text-2xl font-bold text-gray-900"},pt={class:"filters-card bg-white rounded-xl shadow-lg overflow-hidden mb-6"},bt={class:"filters-content p-6"},yt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},wt=["value"],_t={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},ht={class:"materiau-content p-6"},kt={class:"flex items-start justify-between mb-4"},Ct={class:"flex-1"},qt={class:"text-lg font-semibold text-gray-900 mb-1"},jt={class:"text-sm text-gray-600"},Vt={class:"text-xs text-gray-500"},Mt={class:"flex space-x-2"},St=["onClick"],At=["onClick"],$t=["onClick"],Et={class:"space-y-3"},Rt={class:"flex items-center justify-between"},Lt={class:"flex items-center space-x-2"},Ut={class:"text-sm font-medium text-gray-900"},zt={class:"flex items-center justify-between"},Tt={class:"text-sm font-medium text-gray-900"},Nt={key:0,class:"flex items-center justify-between"},Ft={class:"text-sm font-medium text-gray-900"},Dt={key:1,class:"flex items-center justify-between"},It={class:"text-sm font-medium text-gray-900"},Pt={class:"materiau-content p-6"},Bt={class:"flex items-start justify-between mb-4"},Gt={class:"flex-1"},Qt={class:"text-lg font-semibold text-gray-900 mb-1"},Ht={class:"text-sm text-gray-600"},Jt={class:"text-xs text-gray-500"},Kt={class:"flex space-x-2"},Yt=["onClick"],Ot=["onClick"],Wt=["onClick"],Xt={class:"space-y-3"},Zt={class:"flex items-center justify-between"},es={class:"flex items-center space-x-2"},ts={class:"text-sm font-medium text-gray-900"},ss={class:"flex items-center justify-between"},os={class:"text-sm font-medium text-gray-900"},rs={key:0,class:"flex items-center justify-between"},ls={class:"text-sm font-medium text-gray-900"},as={key:1,class:"flex items-center justify-between"},ns={class:"text-sm font-medium text-gray-900"},is={key:2,class:"flex items-center justify-between"},us={class:"text-sm font-medium text-gray-900"},ds={key:0,class:"text-center py-12"},cs={class:"text-lg font-medium text-gray-900 mb-2"},ms={class:"text-gray-600"},vs={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},gs={class:"relative inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},xs={class:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4"},fs={class:"flex items-center justify-between"},ps={class:"modal-title text-lg font-semibold text-white"},bs={class:"modal-subtitle text-sm text-orange-100"},ys={class:"px-6 py-6 max-h-96 overflow-y-auto bg-white"},ws={key:0},_s={key:1},hs={key:2},ks={key:3},Cs={class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3"},qs={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},js={class:"relative inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Vs={class:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-4"},Ms={class:"text-lg font-semibold text-white"},Ss={class:"text-sm text-green-100 mt-1"},As={class:"px-6 py-6 bg-white"},$s={class:"block text-sm font-medium text-gray-700 mb-2"},Es={class:"mt-1 text-sm text-gray-500"},Rs=ke({__name:"MateriauxView",setup(Ls){const{getCiments:ne,addCiment:ie,updateCiment:ue,deleteCiment:de,getAdjuvants:ce,addAdjuvant:me,updateAdjuvant:ve,deleteAdjuvant:ge,updateCimentStock:xe,updateAdjuvantStock:fe}=Ce(),{success:K,error:j,warning:F,confirmDialog:pe}=Ve(),{canDeleteStock:Y}=qe(),a=x("ciments"),w=x([]),_=x([]),D=x(!1),r=x(null),h=x(!1),I=x(!1),m=x(null),u=x({quantite:0,motif:"R√©ception de stock",notes:""}),b=x(""),k=x(""),C=x("all"),be=x({nom:"",type:"ciment",marque:"",prix_unitaire:0,unite:"sacs",stock_actuel:0,seuil_critique:100,actif:!0}),ye=x({nom:"",type:"plastifiant",marque:"",fonction:"",dosage_recommandee:0,prix_unitaire:0,unite:"litres",stock_actuel:0,seuil_critique:50,fournisseur:"",numero_lot:"",date_reception:"",date_expiration:"",specifications:{},notes:"",actif:!0}),we=[{value:"portland",label:"Portland"},{value:"composite",label:"Composite"},{value:"pouzzolanique",label:"Pouzzolanique"},{value:"cendres_volantes",label:"Cendres volantes"},{value:"laitier",label:"Laitier"}],_e=[{value:"plastifiant",label:"Plastifiant"},{value:"accelerateur",label:"Acc√©l√©rateur"},{value:"retardateur",label:"Retardateur"},{value:"superplastifiant",label:"Superplastifiant"},{value:"hydrofuge",label:"Hydrofuge"},{value:"colorant",label:"Colorant"},{value:"fibre",label:"Fibre"}];je(async()=>{await V(),await M()});const V=async()=>{try{console.log("üîç [MateriauxView] Chargement des ciments"),w.value=await ne(),console.log("‚úÖ [MateriauxView] Ciments charg√©s:",w.value.length)}catch(o){console.error("‚ùå [MateriauxView] Erreur lors du chargement des ciments:",o),await j("Erreur lors du chargement des ciments")}},M=async()=>{try{console.log("üîç [MateriauxView] Chargement des adjuvants"),_.value=await ce(),console.log("‚úÖ [MateriauxView] Adjuvants charg√©s:",_.value.length)}catch(o){console.error("‚ùå [MateriauxView] Erreur lors du chargement des adjuvants:",o),await j("Erreur lors du chargement des adjuvants")}},P=o=>{o?(r.value={...o},h.value=!0):(r.value=a.value==="ciments"?{...be.value}:{...ye.value},h.value=!1),D.value=!0},S=()=>{D.value=!1,r.value=null,h.value=!1},O=async()=>{if(r.value){if(a.value==="ciments"){if(!r.value.nom||r.value.stock_actuel<0||r.value.seuil_critique<0){await F("Veuillez remplir tous les champs requis pour le ciment");return}}else if(!r.value.nom||!r.value.type||!r.value.marque||r.value.prix_unitaire<0||r.value.stock_actuel<0||r.value.seuil_critique<0){await F("Veuillez remplir tous les champs requis pour l'adjuvant");return}try{h.value?a.value==="ciments"?(await ue(r.value.id,r.value),await V()):(await ve(r.value.id,r.value),await M()):a.value==="ciments"?(await ie(r.value),await V()):(await me(r.value),await M()),S()}catch(o){console.error("‚ùå [MateriauxView] Erreur lors de la sauvegarde:",o),await j("Erreur lors de la sauvegarde")}}},W=async o=>{if(await pe("√ätes-vous s√ªr de vouloir supprimer cet √©l√©ment ?"))try{a.value==="ciments"?(await de(o.id),await V()):(await ge(o.id),await M())}catch(s){console.error("‚ùå [MateriauxView] Erreur lors de la suppression:",s),await j("Erreur lors de la suppression")}},X=o=>{m.value=o,u.value={quantite:0,motif:"R√©ception de stock",notes:""},I.value=!0},R=()=>{I.value=!1,m.value=null,u.value={quantite:0,motif:"R√©ception de stock",notes:""}},he=async()=>{if(!m.value||u.value.quantite<=0){await F("Veuillez saisir une quantit√© valide");return}try{a.value==="ciments"?(await xe(m.value.id,"ajout",u.value.quantite,u.value.motif,u.value.notes),await K(`Stock de ${m.value.nom} mis √† jour avec succ√®s (+${u.value.quantite} ${m.value.unite})`),await V()):(await fe(m.value.id,"ajout",u.value.quantite,u.value.motif,u.value.notes),await K(`Stock de ${m.value.nom} mis √† jour avec succ√®s (+${u.value.quantite} ${m.value.unite})`),await M()),R()}catch(o){console.error("‚ùå [MateriauxView] Erreur lors de la r√©ception:",o),await j(o.response?.data?.error||"Erreur lors de la r√©ception de stock")}},Z=z(()=>{let o=w.value;return b.value&&(o=o.filter(t=>t.nom.toLowerCase().includes(b.value.toLowerCase())||t.marque.toLowerCase().includes(b.value.toLowerCase())||t.fournisseur?.toLowerCase().includes(b.value.toLowerCase()))),k.value&&(o=o.filter(t=>t.type===k.value)),C.value!=="all"&&(o=o.filter(t=>{switch(C.value){case"critique":return t.stock_actuel<=t.seuil_critique;case"rupture":return t.stock_actuel===0;case"normal":return t.stock_actuel>t.seuil_critique;default:return!0}})),o}),ee=z(()=>{let o=_.value;return b.value&&(o=o.filter(t=>t.nom.toLowerCase().includes(b.value.toLowerCase())||t.marque.toLowerCase().includes(b.value.toLowerCase())||t.fournisseur?.toLowerCase().includes(b.value.toLowerCase()))),k.value&&(o=o.filter(t=>t.type===k.value)),C.value!=="all"&&(o=o.filter(t=>{switch(C.value){case"critique":return t.stock_actuel<=t.seuil_critique;case"rupture":return t.stock_actuel===0;case"normal":return t.stock_actuel>t.seuil_critique;default:return!0}})),o}),L=z(()=>{const o=w.value.length,t=w.value.filter(f=>f.stock_actuel<=f.seuil_critique).length,s=w.value.filter(f=>f.stock_actuel===0).length,y=w.value.reduce((f,A)=>f+A.stock_actuel*A.prix_unitaire,0);return{total:o,stockCritique:t,rupture:s,valeurTotale:y}}),U=z(()=>{const o=_.value.length,t=_.value.filter(f=>f.stock_actuel<=f.seuil_critique).length,s=_.value.filter(f=>f.stock_actuel===0).length,y=_.value.reduce((f,A)=>f+A.stock_actuel*A.prix_unitaire,0);return{total:o,stockCritique:t,rupture:s,valeurTotale:y}}),q=(o,t)=>o===0?{label:"Rupture",color:"bg-red-100 text-red-800",icon:Q}:o<=t?{label:"Critique",color:"bg-orange-100 text-orange-800",icon:Ae}:{label:"Normal",color:"bg-green-100 text-green-800",icon:$e},B=o=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o),te=o=>o?new Date(o).toLocaleDateString("fr-FR"):"Non d√©finie";return(o,t)=>(n(),i("div",Ue,[e("div",ze,[e("div",Te,[e("div",Ne,[e("div",Fe,[e("div",De,[v(c(G),{class:"h-6 w-6 text-white"})]),t[18]||(t[18]=e("div",null,[e("h1",{class:"page-title text-2xl font-bold text-gray-900"},"Gestion des Mat√©riaux"),e("p",{class:"text-sm text-gray-600"},"Ciments et adjuvants de production")],-1))]),e("button",{onClick:t[0]||(t[0]=s=>P()),class:"action-button inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-medium rounded-xl shadow-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 transform hover:scale-105"},[v(c(Re),{class:"h-5 w-5 mr-2"}),$(" Ajouter "+l(a.value==="ciments"?"Ciment":"Adjuvant"),1)])])])]),e("div",Ie,[e("div",Pe,[e("div",Be,[e("nav",Ge,[e("button",{onClick:t[1]||(t[1]=s=>a.value="ciments"),class:T(["flex-1 px-6 py-4 text-sm font-medium text-center transition-all duration-200",a.value==="ciments"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-b-2 border-orange-500":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[v(c(G),{class:"h-5 w-5 mx-auto mb-2"}),t[19]||(t[19]=$(" Ciments ",-1))],2),e("button",{onClick:t[2]||(t[2]=s=>a.value="adjuvants"),class:T(["flex-1 px-6 py-4 text-sm font-medium text-center transition-all duration-200",a.value==="adjuvants"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-b-2 border-orange-500":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])},[v(c(Me),{class:"h-5 w-5 mx-auto mb-2"}),t[20]||(t[20]=$(" Adjuvants ",-1))],2)])])]),e("div",Qe,[e("div",He,[e("div",Je,[e("div",Ke,[e("div",Ye,[v(c(Se),{class:"h-6 w-6 text-white"})]),e("div",Oe,[e("p",We,"Total "+l(a.value==="ciments"?"Ciments":"Adjuvants"),1),e("p",Xe,l(a.value==="ciments"?L.value.total:U.value.total),1)])])])]),e("div",Ze,[e("div",et,[e("div",tt,[e("div",st,[v(c(Q),{class:"h-6 w-6 text-white"})]),e("div",ot,[t[21]||(t[21]=e("p",{class:"text-sm font-medium text-gray-600"},"Stock Critique",-1)),e("p",rt,l(a.value==="ciments"?L.value.stockCritique:U.value.stockCritique),1)])])])]),e("div",lt,[e("div",at,[e("div",nt,[e("div",it,[v(c(Q),{class:"h-6 w-6 text-white"})]),e("div",ut,[t[22]||(t[22]=e("p",{class:"text-sm font-medium text-gray-600"},"Rupture",-1)),e("p",dt,l(a.value==="ciments"?L.value.rupture:U.value.rupture),1)])])])]),e("div",ct,[e("div",mt,[e("div",vt,[e("div",gt,[v(c(Le),{class:"h-6 w-6 text-white"})]),e("div",xt,[t[23]||(t[23]=e("p",{class:"text-sm font-medium text-gray-600"},"Valeur Totale",-1)),e("p",ft,l(B(a.value==="ciments"?L.value.valeurTotale:U.value.valeurTotale)),1)])])])])]),e("div",pt,[t[29]||(t[29]=e("div",{class:"filters-header px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Filtres")],-1)),e("div",bt,[e("div",yt,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>b.value=s),type:"text",placeholder:"Nom, marque, fournisseur...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,b.value]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type",-1)),g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>k.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},[t[25]||(t[25]=e("option",{value:""},"Tous les types",-1)),(n(!0),i(E,null,J(a.value==="ciments"?we:_e,s=>(n(),i("option",{key:s.value,value:s.value},l(s.label),9,wt))),128))],512),[[H,k.value]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"√âtat du Stock",-1)),g(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>C.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},[...t[27]||(t[27]=[e("option",{value:"all"},"Tous",-1),e("option",{value:"normal"},"Normal",-1),e("option",{value:"critique"},"Critique",-1),e("option",{value:"rupture"},"Rupture",-1)])],512),[[H,C.value]])])])])]),e("div",_t,[a.value==="ciments"?(n(!0),i(E,{key:0},J(Z.value,s=>(n(),i("div",{key:s.id,class:"materiau-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-200 transform hover:scale-105"},[e("div",ht,[e("div",kt,[e("div",Ct,[e("h3",qt,l(s.nom),1),e("p",jt,l(s.marque),1),e("p",Vt,l(s.type),1)]),e("div",Mt,[e("button",{onClick:y=>X(s),class:"p-2 text-gray-400 hover:text-green-500 transition-colors",title:"R√©ceptionner du stock"},[v(c(ae),{class:"h-4 w-4"})],8,St),e("button",{onClick:y=>P(s),class:"p-2 text-gray-400 hover:text-orange-500 transition-colors",title:"Modifier"},[v(c(re),{class:"h-4 w-4"})],8,At),c(Y)?(n(),i("button",{key:0,onClick:y=>W(s),class:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Supprimer"},[v(c(le),{class:"h-4 w-4"})],8,$t)):d("",!0)])]),e("div",Et,[e("div",Rt,[t[30]||(t[30]=e("span",{class:"text-sm text-gray-600"},"Stock",-1)),e("div",Lt,[e("span",Ut,l(s.stock_actuel)+" "+l(s.unite),1),e("span",{class:T([q(s.stock_actuel,s.seuil_critique).color,"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"])},[(n(),se(oe(q(s.stock_actuel,s.seuil_critique).icon),{class:"h-3 w-3 mr-1"})),$(" "+l(q(s.stock_actuel,s.seuil_critique).label),1)],2)])]),e("div",zt,[t[31]||(t[31]=e("span",{class:"text-sm text-gray-600"},"Prix unitaire",-1)),e("span",Tt,l(B(s.prix_unitaire)),1)]),s.fournisseur?(n(),i("div",Nt,[t[32]||(t[32]=e("span",{class:"text-sm text-gray-600"},"Fournisseur",-1)),e("span",Ft,l(s.fournisseur),1)])):d("",!0),s.date_expiration?(n(),i("div",Dt,[t[33]||(t[33]=e("span",{class:"text-sm text-gray-600"},"Expiration",-1)),e("span",It,l(te(s.date_expiration)),1)])):d("",!0)])])]))),128)):d("",!0),a.value==="adjuvants"?(n(!0),i(E,{key:1},J(ee.value,s=>(n(),i("div",{key:s.id,class:"materiau-card bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-200 transform hover:scale-105"},[e("div",Pt,[e("div",Bt,[e("div",Gt,[e("h3",Qt,l(s.nom),1),e("p",Ht,l(s.marque),1),e("p",Jt,l(s.type),1)]),e("div",Kt,[e("button",{onClick:y=>X(s),class:"p-2 text-gray-400 hover:text-green-500 transition-colors",title:"R√©ceptionner du stock"},[v(c(ae),{class:"h-4 w-4"})],8,Yt),e("button",{onClick:y=>P(s),class:"p-2 text-gray-400 hover:text-orange-500 transition-colors",title:"Modifier"},[v(c(re),{class:"h-4 w-4"})],8,Ot),c(Y)?(n(),i("button",{key:0,onClick:y=>W(s),class:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Supprimer"},[v(c(le),{class:"h-4 w-4"})],8,Wt)):d("",!0)])]),e("div",Xt,[e("div",Zt,[t[34]||(t[34]=e("span",{class:"text-sm text-gray-600"},"Stock",-1)),e("div",es,[e("span",ts,l(s.stock_actuel)+" "+l(s.unite),1),e("span",{class:T([q(s.stock_actuel,s.seuil_critique).color,"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"])},[(n(),se(oe(q(s.stock_actuel,s.seuil_critique).icon),{class:"h-3 w-3 mr-1"})),$(" "+l(q(s.stock_actuel,s.seuil_critique).label),1)],2)])]),e("div",ss,[t[35]||(t[35]=e("span",{class:"text-sm text-gray-600"},"Prix unitaire",-1)),e("span",os,l(B(s.prix_unitaire)),1)]),s.dosage_recommandee?(n(),i("div",rs,[t[36]||(t[36]=e("span",{class:"text-sm text-gray-600"},"Dosage",-1)),e("span",ls,l(s.dosage_recommandee)+"%",1)])):d("",!0),s.fournisseur?(n(),i("div",as,[t[37]||(t[37]=e("span",{class:"text-sm text-gray-600"},"Fournisseur",-1)),e("span",ns,l(s.fournisseur),1)])):d("",!0),s.date_expiration?(n(),i("div",is,[t[38]||(t[38]=e("span",{class:"text-sm text-gray-600"},"Expiration",-1)),e("span",us,l(te(s.date_expiration)),1)])):d("",!0)])])]))),128)):d("",!0)]),(a.value==="ciments"?Z.value.length===0:ee.value.length===0)?(n(),i("div",ds,[v(c(G),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e("h3",cs,"Aucun "+l(a.value==="ciments"?"ciment":"adjuvant")+" trouv√©",1),e("p",ms,"Essayez de modifier vos filtres ou ajoutez un nouveau "+l(a.value==="ciments"?"ciment":"adjuvant")+".",1)])):d("",!0)]),D.value?(n(),i("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:N(S,["self"])},[e("div",vs,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:S}),e("div",gs,[e("div",xs,[e("div",fs,[e("div",null,[e("h3",ps,l(h.value?"Modifier":"Ajouter")+" "+l(a.value==="ciments"?"Ciment":"Adjuvant"),1),e("p",bs,l(h.value?"Modifiez les informations":"Renseignez les informations"),1)]),e("button",{onClick:S,class:"text-orange-200 hover:text-white transition-colors"},[...t[39]||(t[39]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",ys,[r.value?(n(),i("form",{key:0,onSubmit:N(O,["prevent"]),class:"space-y-4"},[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom *",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.value.nom=s),type:"text",required:"",placeholder:"Ex: Ciment Portland, Superplastifiant",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.nom]])]),a.value==="adjuvants"?(n(),i("div",ws,[e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type *",-1)),g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.type=s),type:"text",required:"",placeholder:"Ex: Plastifiant",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.type]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Marque *",-1)),g(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>r.value.marque=s),type:"text",required:"",placeholder:"Ex: Sika",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.marque]])])])):d("",!0),a.value==="adjuvants"?(n(),i("div",_s,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prix unitaire (FCFA) *",-1)),g(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>r.value.prix_unitaire=s),type:"number",step:"0.01",min:"0",required:"",placeholder:"Ex: 50000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.prix_unitaire]])])):d("",!0),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unit√© *",-1)),g(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>r.value.unite=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},[a.value==="ciments"?(n(),i(E,{key:0},[t[44]||(t[44]=e("option",{value:"sacs"},"sacs",-1)),t[45]||(t[45]=e("option",{value:"kg"},"kg",-1)),t[46]||(t[46]=e("option",{value:"tonne"},"tonne",-1))],64)):(n(),i(E,{key:1},[t[47]||(t[47]=e("option",{value:"litres"},"litres",-1)),t[48]||(t[48]=e("option",{value:"L"},"L",-1))],64))],512),[[H,r.value.unite]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Stock actuel *",-1)),g(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>r.value.stock_actuel=s),type:"number",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.stock_actuel]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil critique *",-1)),g(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>r.value.seuil_critique=s),type:"number",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.seuil_critique]])]),a.value==="adjuvants"?(n(),i("div",hs,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fournisseur",-1)),g(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>r.value.fournisseur=s),type:"text",placeholder:"Ex: Sika",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.fournisseur]])])):d("",!0),a.value==="adjuvants"?(n(),i("div",ks,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notes",-1)),g(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>r.value.notes=s),rows:"2",placeholder:"Informations suppl√©mentaires...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[p,r.value.notes]])])):d("",!0)],32)):d("",!0)]),e("div",Cs,[e("button",{onClick:S,class:"btn-cancel px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500"}," Annuler "),e("button",{onClick:O,class:"btn-submit px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg hover:from-orange-600 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500"},l(h.value?"Modifier":"Ajouter"),1)])])])])):d("",!0),I.value&&m.value?(n(),i("div",{key:1,class:"fixed inset-0 z-50 overflow-y-auto",onClick:N(R,["self"])},[e("div",qs,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:R}),e("div",js,[e("div",Vs,[e("h3",Ms," R√©ceptionner du stock - "+l(m.value.nom),1),e("p",Ss," Stock actuel: "+l(m.value.stock_actuel)+" "+l(m.value.unite),1)]),e("div",As,[e("form",{onSubmit:N(he,["prevent"]),class:"space-y-4"},[e("div",null,[e("label",$s," Quantit√© √† r√©ceptionner ("+l(m.value.unite)+") * ",1),g(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>u.value.quantite=s),type:"number",min:"1",step:"1",required:"",placeholder:"Ex: 100",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},null,512),[[p,u.value.quantite,void 0,{number:!0}]]),e("p",Es," Nouveau stock apr√®s r√©ception: "+l((m.value.stock_actuel||0)+(u.value.quantite||0))+" "+l(m.value.unite),1)]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Motif",-1)),g(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>u.value.motif=s),type:"text",placeholder:"Ex: R√©ception de stock, Commande fournisseur",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},null,512),[[p,u.value.motif]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notes (optionnel)",-1)),g(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=s=>u.value.notes=s),rows:"3",placeholder:"Informations suppl√©mentaires...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},null,512),[[p,u.value.notes]])]),e("div",{class:"flex justify-end space-x-3 pt-4"},[e("button",{type:"button",onClick:R,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Annuler "),t[56]||(t[56]=e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 rounded-lg hover:from-green-600 hover:to-green-700 transition-colors"}," R√©ceptionner ",-1))])],32)])])])])):d("",!0)]))}}),Fs=Ee(Rs,[["__scopeId","data-v-f72055f7"]]);export{Fs as default};
